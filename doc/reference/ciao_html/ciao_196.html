<HTML>
<HEAD>
<!-- Created by texi2html 1.56k + clip patches and <A href="http://www.clip.dia.fi.upm.es/Software">lpdoc</A> from ciao.texi on 27 August 2003 -->

<LINK rel="stylesheet" href="ciao.css" type="text/css">
<TITLE>The Ciao Prolog System               - gengraph1 (library)</TITLE>
</HEAD>
<BODY> 
Go to the <A HREF="ciao_1.html">first</A>, <A HREF="ciao_195.html">previous</A>, <A HREF="ciao_197.html">next</A>, <A HREF="ciao_232.html">last</A> section, <A HREF="ciao_toc.html">table of contents</A>.
<P><HR><P>


<H1><A NAME="SEC779" HREF="ciao_toc.html#TOC779">gengraph1 (library)</A></H1>
<P>
<A NAME="IDX8010"></A>


<P>
This module defines predicates which depict line graph and scatter graph widgets. All eigth predicates exported by this module plot two-variable data. Each point is defined by its X-Y coordinate values. A dataset is defined by two lists xvector and yvector, which contain the points coordinates. As you might guess, the values placed in the the same position in both lists are the coordinates of a point. They both share the following features: 



<UL>

<LI>Numeric values for vector elements are needed. We'll use two vectors to represent the X-Y coordinates of each set of plotted data, but in this case every dataset shares the X-vector, i.e., x-coordinate of points with the same index <A NAME="DOCF5" HREF="ciao_foot.html#FOOT5">(5)</A> in different datasets is the same. Thus, the numbers of points in each yvector must be equal to the number of points in the xvector.

<LI>The active element color is navyblue, which means that when you select a legend element, the corresponding line or point dataset turns into navyblue.

<LI>The user can either select the appearance of the lines and/or points of each dataset or not. If not, the system will choose the colors for the lines and the points among the available ones in accordance with the plot background color and it will also set the points size and symbol to the default. If the plot background color is black, the system will choose a lighter color, and the system will select a darker color when the plot background color is white. Thus, the user can define the appearanse attributes of each dataset in four different ways. Take a look at the

<A NAME="IDX8011"></A>
<CODE>attributes/1</CODE> type definition and see the examples to understand it clearly. 

<LI>The graph has a legend and one entry (symbol and label) per dataset.

<LI>If you do not want to display text in the element header, barchart title, xaxis title, yaxis title or footer, simply give <CODE>"</CODE> as the value of the argument.

<LI>The predicates check whether the format of the arguments is correct as well. The testing process involves some verifications. If one or both vectors are empty, the exception <CODE>error2</CODE> will be thrown. If the vectors contains elements but are not correct, the exception <CODE>error4</CODE> will be thrown.

</UL>

<P>
The names of the line graph predicates begin with <STRONG>graph_</STRONG> and those corresponding to the scatter graph group begin with <STRONG>scattergraph_</STRONG>. 



<UL>
<LI><A HREF="ciao_196.html#SEC780">Usage and interface (gengraph1)</A>
<LI><A HREF="ciao_196.html#SEC781">Documentation on exports (gengraph1)</A>
</UL>



<H2><A NAME="SEC780" HREF="ciao_toc.html#TOC780">Usage and interface (<CODE>gengraph1</CODE>)</A></H2>

<div class="cartouche">

<UL>

<LI><STRONG>Library usage:</STRONG>

<CODE>:- use_module(library(gengraph1)).</CODE>

<LI><STRONG>Exports:</STRONG>


<UL>

<LI><EM>Predicates:</EM>

<A NAME="IDX8012"></A>
<CODE>graph_b1/9</CODE>, 
<A NAME="IDX8013"></A>
<CODE>graph_b1/13</CODE>, 
<A NAME="IDX8014"></A>
<CODE>graph_w1/9</CODE>, 
<A NAME="IDX8015"></A>
<CODE>graph_w1/13</CODE>, 
<A NAME="IDX8016"></A>
<CODE>scattergraph_b1/8</CODE>, 
<A NAME="IDX8017"></A>
<CODE>scattergraph_b1/12</CODE>, 
<A NAME="IDX8018"></A>
<CODE>scattergraph_w1/8</CODE>, 
<A NAME="IDX8019"></A>
<CODE>scattergraph_w1/12</CODE>.

<LI><EM>Regular Types:</EM>

<A NAME="IDX8020"></A>
<CODE>vector/1</CODE>, 
<A NAME="IDX8021"></A>
<CODE>smooth/1</CODE>, 
<A NAME="IDX8022"></A>
<CODE>attributes/1</CODE>, 
<A NAME="IDX8023"></A>
<CODE>symbol/1</CODE>, 
<A NAME="IDX8024"></A>
<CODE>size/1</CODE>.

</UL>

<LI><STRONG>Other modules used:</STRONG>


<UL>

<LI><EM>System library modules:</EM>

<A NAME="IDX8025"></A>
<CODE>chartlib/bltclass</CODE>, 
<A NAME="IDX8026"></A>
<CODE>chartlib/genbar1</CODE>, 
<A NAME="IDX8027"></A>
<CODE>chartlib/color_pattern</CODE>, 
<A NAME="IDX8028"></A>
<CODE>chartlib/test_format</CODE>, 
<A NAME="IDX8029"></A>
<CODE>chartlib/install_utils</CODE>, 
<A NAME="IDX8030"></A>
<CODE>lists</CODE>, 
<A NAME="IDX8031"></A>
<CODE>random/random</CODE>.

</UL>

</UL>

</div class="cartouche">



<H2><A NAME="SEC781" HREF="ciao_toc.html#TOC781">Documentation on exports (<CODE>gengraph1</CODE>)</A></H2>
<P>
<A NAME="IDX8032"></A>
<A NAME="IDX8033"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>graph_b1/9:</B>
<DD><A NAME="IDX8034"></A>


<P>
<CODE>graph_b1(Header,GTitle,XTitle,XVector,YTitle,YVectors,LAtts,Footer,Smooth)</CODE>


<P>
Besides the features mentioned at the begining of the chapter, the displayed graph generated when calling this predicate has the following distinguishing characteristics: 



<UL>

<LI>The plotting area background color is black.

<LI>The cross hairs color is white.

<LI>The axes limits are determined from the data.

</UL>

<P>
Example: 



<PRE>
graph_b1('This is the header text',
  'Graph_title',
  'xaxistitle',
  [20,10,59],
  'yaxixtitle',
  [ [10,35,40],[25,50,60] ],
  [ ['element1','Blue','Yellow','plus',6],['element2',Outline,Color] ],
  'footer',
  'linear').
</PRE>

<P>
 


</DL>

<P>
<A NAME="IDX8035"></A>
<A NAME="IDX8036"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>graph_b1/13:</B>
<DD><A NAME="IDX8037"></A>


<P>
<CODE>graph_b1(Header,GT,XT,XV,XMax,XMin,YT,YVs,YMax,YMin,LAtts,Footer,Smooth)</CODE>


<P>
The particular features related to this predicate are described below: 



<UL>

<LI>The plotting area background color is black.

<LI>The cross hairs color is white.

<LI>You can set the minimum and maximum limits of the axes. Data outside the limits will not be plotted.

</UL>

<P>
Example: 

<PRE>
graph_b1('This is the header text',
  'Graph_title',
  'xaxistitle',
  [20,10,59],
  50,
  _,
  'yaxixtitle',
  [[10,35,40],[25,50,60]],
  50,
  _,
  [['line1','circle',4],['line2',OutlineColor,Color]],
  'footer',
  'step').
</PRE>

</DL>

<P>
<A NAME="IDX8038"></A>
<A NAME="IDX8039"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>graph_w1/9:</B>
<DD><A NAME="IDX8040"></A>


<P>
<CODE>graph_w1(Header,GTitle,XTitle,XVector,YTitle,YVectors,LAtts,Footer,Smooth)</CODE>


<P>
This predicate is quite similar to 
<A NAME="IDX8041"></A>
<CODE>graph_b1/9</CODE>. The differences lies in the plot background color and in the cross hairs color, which are white and black respectively. 


<P>
Example: 

<PRE>
graph_w1('This is the header text', 
  'Graph_title', 
  'xaxistitle',
  [20,10,40,50], 
  'yaxixtitle', 
  [ [10,35,40,50],[25,20,60,40] ],
  [['line1','Blue','DarkOrchid'],['line2','circle',3]],
  'footer', 
  'quadratic').  
</PRE>

</DL>

<P>
<A NAME="IDX8042"></A>
<A NAME="IDX8043"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>graph_w1/13:</B>
<DD><A NAME="IDX8044"></A>


<P>
<CODE>graph_w1(Header,GT,XT,XV,XMax,XMin,YT,YVs,YMax,YMin,LAtts,Footer,Smooth)</CODE>


<P>
This predicate is quite similar to 
<A NAME="IDX8045"></A>
<CODE>graph_b1/13</CODE>, the differences between them are listed below: 



<UL>

<LI>The plotting area background color is white.

<LI>The cross hairs color is black.

</UL>

<P>
Example: 

<PRE>
graph_w1('This is the header text',
  'Graph_title',
  'xaxistitle',
  [20,10,59],
  100,
  10,      
  'yaxixtitle',
  [[10,35,40],[25,20,60]],
  _,
  _,
  [['element1','Blue','Yellow'],['element2','Turquoise','Plum']],
  'footer',
  'quadratic').
</PRE>

</DL>

<P>
<A NAME="IDX8046"></A>
<A NAME="IDX8047"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>scattergraph_b1/8:</B>
<DD><A NAME="IDX8048"></A>


<P>
<CODE>scattergraph_b1(Header,GTitle,XTitle,XVector,YTitle,YVectors,PAtts,Footer)</CODE>


<P>
Apart from the features brought up at the beginning of the chapter, the scatter graph displayed invoking this predicate has the following characteristics: 



<UL>

<LI>The plotting area background color is black.

<LI>The cross hairs color is white.

<LI>The axes limits are determined from the data.

</UL>

<P>
Example: 

<PRE>
scattergraph_b1('This is the header text',
  'Graph_title',
  'xaxistitle',
  [10,15,20],
  'yaxixtitle',
  [[10,35,20],[15,11,21]],
  [['element1','Blue','Yellow'],['element2','Turquoise','Plum']],
  'footer').
</PRE>

</DL>

<P>
<A NAME="IDX8049"></A>
<A NAME="IDX8050"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>scattergraph_b1/12:</B>
<DD><A NAME="IDX8051"></A>


<P>
<CODE>scattergraph_b1(Header,GT,XT,XV,XMax,XMin,YT,YVs,YMax,YMin,PAtts,Footer)</CODE>


<P>
The particular features related to this predicate are described below: 



<UL>

<LI>The plotting area background color is black.

<LI>The cross hairs color is white.

<LI>You can set the minimum and maximum limits of the axes. Data outside the limits will not be plotted.

</UL>

<P>
Example: 

<PRE>
scattergraph_b1('This is the header text',
  'Graph_title',
  'xaxistitle',
  [20,10,59],
  50,
  _,
  'yaxixtitle',
  [[10,35,40],[25,50,60]],
  50,
  _,
  [['point dataset1','Blue','Yellow'],['point dataset2']],
  'footer').
</PRE>

</DL>

<P>
<A NAME="IDX8052"></A>
<A NAME="IDX8053"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>scattergraph_w1/8:</B>
<DD><A NAME="IDX8054"></A>


<P>
<CODE>scattergraph_w1(Header,GT,XT,XVector,YT,YVectors,PAtts,Footer)</CODE>


<P>
This predicate is quite similar to 
<A NAME="IDX8055"></A>
<CODE>scattergraph_b1/8</CODE> except in the following: 



<UL>

<LI>The plotting area background color is black.

<LI>The cross hairs color is white.

<LI>If the user does not fix the points colors, they will be chosen among the lighter ones.

</UL>

<P>
Example: 

<PRE>
scattergraph_w1('This is the header text',
  'Graph_title',
  'xaxistitle',
  [20,10,59],
  'yaxixtitle',
  [[10,35,40],[25,20,60]],
  [['e1','Blue','Green'],['e2','MediumVioletRed','Plum']],
  'footer').
</PRE>

<P>
 


</DL>

<P>
<A NAME="IDX8056"></A>
<A NAME="IDX8057"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>scattergraph_w1/12:</B>
<DD><A NAME="IDX8058"></A>


<P>
<CODE>scattergraph_w1(Header,GT,XT,XV,XMax,XMin,YT,YVs,YMax,YMin,PAtts,Footer)</CODE>


<P>
This predicate is quite similar to 
<A NAME="IDX8059"></A>
<CODE>scattergraph1_b1/13</CODE>, the differences between them are listed below: 



<UL>

<LI>The plotting area background color is white.

<LI>The cross hairs color is black.

</UL>

<P>
Example: 

<PRE>
scattergraph_w1('This is the header text',
  'Graph_title',
  'xaxistitle',
  [20,10,59],
  150,
  5,
  'yaxixtitle',
  [[10,35,40],[25,20,60]],
  _,
  -10,
  [['e1','Blue','Yellow'],['e2','MediumTurquoise','Plum']],
  'footer').
</PRE>

</DL>

<P>
<A NAME="IDX8060"></A>
<A NAME="IDX8061"></A>
<DL>
<DT><span class="define">REGTYPE:</span> <B>vector/1:</B>
<DD><A NAME="IDX8062"></A>



<PRE>
vector(X) :-
        list(X,number).
</PRE>

<P>
The type vector defines a list of numbers (integers or floats). 
 


</DL>

<P>
<A NAME="IDX8063"></A>
<A NAME="IDX8064"></A>
<DL>
<DT><span class="define">REGTYPE:</span> <B>smooth/1:</B>
<DD><A NAME="IDX8065"></A>


<P>
<CODE>smooth(Smooth)</CODE>


<P>
 

<PRE>
smooth(linear).
smooth(cubic).
smooth(quadratic).
smooth(step).
</PRE>

<P>
Specifies how connecting segments are drawn between data points. If <CODE>Smooth</CODE> is <CODE>linear</CODE>, a single line segment is drawn, connecting both data points. When <CODE>Smooth</CODE> is <CODE>step</CODE>, two line segments will be drawn, the first line is a horizontal line segment that steps the next X-coordinate and the second one is a vertical line, moving to the next Y-coordinate. Both <CODE>cubic</CODE> and <CODE>quadratic</CODE> generate multiple segments between data points. If <CODE>cubic</CODE>is used, the segments are generated using a cubic spline. If <CODE>quadratic</CODE>, a quadratic spline is used. The default is linear. 


</DL>

<P>
<A NAME="IDX8066"></A>
<A NAME="IDX8067"></A>
<DL>
<DT><span class="define">REGTYPE:</span> <B>attributes/1:</B>
<DD><A NAME="IDX8068"></A>



<PRE>
attributes([ElementName]) :-
        atomic(ElementName).
attributes([ElementName,OutLine,Color]) :-
        atomic(ElementName),
        color(OutLine),
        color(Color).
attributes([ElementName,Symbol,Size]) :-
        atomic(ElementName),
        symbol(Symbol),
        size(Size).
attributes([ElementName,OutLine,Color,Symbol,Size]) :-
        atomic(ElementName),
        color(OutLine),
        color(Color),
        symbol(Symbol),
        size(Size).
</PRE>

<P>
Each line or point dataset in the graph has its own attributes, which are defined by this type. The name of the dataset, specified in the <CODE>ElementName</CODE> argument, may be either a number or an atom. The second argument is the color of a thin line around each point in the dataset and the Color argument is the points and lines color. Both <CODE>OutLine</CODE> and <CODE>Color</CODE> must be a valid color (see available values in 
<A NAME="IDX8069"></A>
<CODE>color/1</CODE>), otherwise a random color according to the plot background color will be selected. The <CODE>Symbol</CODE> must be a valid symbol and the <CODE>Size</CODE> must be a number. Be careful if you want to especify the <CODE>Symbol</CODE> and the <CODE>Size</CODE>, otherwise the predicate will not work as you expect. If you don't select a symbol and a size for a dataset the default values will be square and 1 pixel. 


</DL>

<P>
<A NAME="IDX8070"></A>
<A NAME="IDX8071"></A>
<DL>
<DT><span class="define">REGTYPE:</span> <B>symbol/1:</B>
<DD><A NAME="IDX8072"></A>


<P>
<CODE>symbol(Symbol)</CODE>


<P>
 

<PRE>
symbol(square).
symbol(circle).
symbol(diamond).
symbol(plus).
symbol(cross).
symbol(splus).
symbol(scross).
symbol(triangle).
</PRE>

<P>
<CODE>Symbol</CODE> stands for the shape of the points whether in scatter graphs or in line graphs. 


</DL>

<P>
<A NAME="IDX8073"></A>
<A NAME="IDX8074"></A>
<DL>
<DT><span class="define">REGTYPE:</span> <B>size/1:</B>
<DD><A NAME="IDX8075"></A>


<P>
<CODE>size(Size)</CODE>


<P>
 

<PRE>
size(Size) :-
        number(Size).
</PRE>

<P>
<CODE>Size</CODE> stands for the size in pixels of the points whether in scatter graphs or in line graphs. 


</DL>

<P><HR><P>
Go to the <A HREF="ciao_1.html">first</A>, <A HREF="ciao_195.html">previous</A>, <A HREF="ciao_197.html">next</A>, <A HREF="ciao_232.html">last</A> section, <A HREF="ciao_toc.html">table of contents</A>.
</BODY>
</HTML>
