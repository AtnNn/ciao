<HTML>
<HEAD>
<!-- Created by texi2html 1.56k + clip patches and <A href="http://www.clip.dia.fi.upm.es/Software">lpdoc</A> from ciao.texi on 26 January 2000 -->

<LINK rel="stylesheet" href="ciao.css" type="text/css">
<TITLE>The Ciao Prolog System               - Arithmetic</TITLE>
</HEAD>
<BODY> 
Go to the <A HREF="ciao_1.html">first</A>, <A HREF="ciao_21.html">previous</A>, <A HREF="ciao_23.html">next</A>, <A HREF="ciao_148.html">last</A> section, <A HREF="ciao_toc.html">table of contents</A>.
<P><HR><P>


<H1><A NAME="SEC98" HREF="ciao_toc.html#TOC98">Arithmetic</A></H1>
<P>
<A NAME="IDX1064"></A>


<P>
<STRONG>Author(s):</STRONG> Daniel Cabeza, Manuel Hermenegildo.


<P>
<STRONG>Version:</STRONG> 1.5#1 (1999/11/29, 17:12:34 MET)


<P>
<STRONG>Version of last change:</STRONG> 0.9#18 (1999/3/23, 21:6:13 MET)


<P>
Arithmetic is performed by built-in predicates which take as arguments arithmetic expressions (see 
<A NAME="IDX1065"></A>
<CODE>arithexpression/1</CODE>) and evaluate them. Terms representing arithmetic expressions can be created dynamically, but at the time of evaluation, each variable in an arithmetic expression must be bound to a non-variable expression (the term must be ground). For example, given the code in the first line a possible shell interaction follows: 

<PRE>
evaluate(Expression, Answer) :- Answer is Expression.

?- _X=24*9, evaluate(_X+6, Ans).

Ans = 222 ?

yes
</PRE>


<UL>
<LI><A HREF="ciao_22.html#SEC99">Usage and interface (arithmetic)</A>
<LI><A HREF="ciao_22.html#SEC100">Documentation on exports (arithmetic)</A>
</UL>



<H2><A NAME="SEC99" HREF="ciao_toc.html#TOC99">Usage and interface (<CODE>arithmetic</CODE>)</A></H2>

<div class="cartouche">

<UL>

<LI><STRONG>Library usage:</STRONG>

These predicates are builtin in Ciao, so nothing special has to be done to use them.

<LI><STRONG>Exports:</STRONG>


<UL>

<LI><EM>Predicates:</EM>

<A NAME="IDX1066"></A>
<CODE>is/2</CODE>, 
<A NAME="IDX1067"></A>
<CODE>&#60;/2</CODE>, 
<A NAME="IDX1068"></A>
<CODE>=&#60;/2</CODE>, 
<A NAME="IDX1069"></A>
<CODE>&#62;/2</CODE>, 
<A NAME="IDX1070"></A>
<CODE>&#62;=/2</CODE>, 
<A NAME="IDX1071"></A>
<CODE>=:=/2</CODE>, 
<A NAME="IDX1072"></A>
<CODE>=\=/2</CODE>.

<LI><EM>Regular Types:</EM>

<A NAME="IDX1073"></A>
<CODE>arithexpression/1</CODE>.

</UL>

</UL>

</div class="cartouche">



<H2><A NAME="SEC100" HREF="ciao_toc.html#TOC100">Documentation on exports (<CODE>arithmetic</CODE>)</A></H2>
<P>
<A NAME="IDX1074"></A>
<A NAME="IDX1075"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>is/2:</B>
<DD><A NAME="IDX1076"></A>


<P>
<CODE>Val is Exp</CODE>


<P>
The arithmetic expression <CODE>Exp</CODE> is evaluated and the result is unified with <CODE>Val</CODE>


<P>
<STRONG>Usage 1:</STRONG> <CODE>?(term) is +arithexpression</CODE>
<KBD> * ISO * </KBD>

<UL>
</UL>

<P>
<STRONG>Usage 2:</STRONG> 
<KBD> * ISO * </KBD>

<UL>
<LI><EM>Calls should, and exit will be compatible with:</EM>

<CODE>Val</CODE> is any term.
 (<CODE>basic_props:term/1</CODE>)
<LI><EM>The following properties should hold at call time:</EM>

<CODE>Exp</CODE> is an arithmetic expression.
 (<CODE>arithmetic:arithexpression/1</CODE>)
<LI><EM>The following properties hold upon exit:</EM>

<CODE>Val</CODE> is any term.
 (<CODE>basic_props:term/1</CODE>)
</UL>

</DL>

<P>
<A NAME="IDX1077"></A>
<A NAME="IDX1078"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>&#60;/2:</B>
<DD><A NAME="IDX1079"></A>


<P>
<CODE>Exp1 &#60; Exp2</CODE>


<P>
The numeric value of <CODE>Exp1</CODE> is less than the numeric value of <CODE>Exp2</CODE> when both are evaluated as arithmetic expressions.


<P>
<STRONG>Usage 1:</STRONG> <CODE>+arithexpression &#60; +arithexpression</CODE>
<KBD> * ISO * </KBD>

<UL>
</UL>

<P>
<STRONG>Usage 2:</STRONG> 
<KBD> * ISO * </KBD>

<UL>
<LI><EM>The following properties should hold at call time:</EM>

<CODE>Exp1</CODE> is an arithmetic expression.
 (<CODE>arithmetic:arithexpression/1</CODE>)

<CODE>Exp2</CODE> is an arithmetic expression.
 (<CODE>arithmetic:arithexpression/1</CODE>)
</UL>

</DL>

<P>
<A NAME="IDX1080"></A>
<A NAME="IDX1081"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>=&#60;/2:</B>
<DD><A NAME="IDX1082"></A>


<P>
<CODE>Exp1 =&#60; Exp2</CODE>


<P>
The numeric value of <CODE>Exp1</CODE> is less than or equal to the numeric value of <CODE>Exp2</CODE> when both are evaluated as arithmetic expressions.


<P>
<STRONG>Usage 1:</STRONG> <CODE>+arithexpression =&#60; +arithexpression</CODE>
<KBD> * ISO * </KBD>

<UL>
</UL>

<P>
<STRONG>Usage 2:</STRONG> 
<KBD> * ISO * </KBD>

<UL>
<LI><EM>The following properties should hold at call time:</EM>

<CODE>Exp1</CODE> is an arithmetic expression.
 (<CODE>arithmetic:arithexpression/1</CODE>)

<CODE>Exp2</CODE> is an arithmetic expression.
 (<CODE>arithmetic:arithexpression/1</CODE>)
</UL>

</DL>

<P>
<A NAME="IDX1083"></A>
<A NAME="IDX1084"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>&#62;/2:</B>
<DD><A NAME="IDX1085"></A>


<P>
<CODE>Exp1 &#62; Exp2</CODE>


<P>
The numeric value of <CODE>Exp1</CODE> is greater than the numeric value of <CODE>Exp2</CODE> when both are evaluated as arithmetic expressions.


<P>
<STRONG>Usage 1:</STRONG> <CODE>+arithexpression &#62; +arithexpression</CODE>
<KBD> * ISO * </KBD>

<UL>
</UL>

<P>
<STRONG>Usage 2:</STRONG> 
<KBD> * ISO * </KBD>

<UL>
<LI><EM>The following properties should hold at call time:</EM>

<CODE>Exp1</CODE> is an arithmetic expression.
 (<CODE>arithmetic:arithexpression/1</CODE>)

<CODE>Exp2</CODE> is an arithmetic expression.
 (<CODE>arithmetic:arithexpression/1</CODE>)
</UL>

</DL>

<P>
<A NAME="IDX1086"></A>
<A NAME="IDX1087"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>&#62;=/2:</B>
<DD><A NAME="IDX1088"></A>


<P>
<CODE>Exp1 &#62;= Exp2</CODE>


<P>
The numeric value of <CODE>Exp1</CODE> is greater than or equal to the numeric value of <CODE>Exp2</CODE> when both are evaluated as arithmetic expressions.


<P>
<STRONG>Usage 1:</STRONG> <CODE>+arithexpression &#62;= +arithexpression</CODE>
<KBD> * ISO * </KBD>

<UL>
</UL>

<P>
<STRONG>Usage 2:</STRONG> 
<KBD> * ISO * </KBD>

<UL>
<LI><EM>The following properties should hold at call time:</EM>

<CODE>Exp1</CODE> is an arithmetic expression.
 (<CODE>arithmetic:arithexpression/1</CODE>)

<CODE>Exp2</CODE> is an arithmetic expression.
 (<CODE>arithmetic:arithexpression/1</CODE>)
</UL>

</DL>

<P>
<A NAME="IDX1089"></A>
<A NAME="IDX1090"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>=:=/2:</B>
<DD><A NAME="IDX1091"></A>


<P>
<CODE>Exp1 =:= Exp2</CODE>


<P>
The numeric values of <CODE>Exp1</CODE> and <CODE>Exp2</CODE> are equal when both are evaluated as arithmetic expressions.


<P>
<STRONG>Usage 1:</STRONG> <CODE>+arithexpression =:= +arithexpression</CODE>
<KBD> * ISO * </KBD>

<UL>
</UL>

<P>
<STRONG>Usage 2:</STRONG> 
<KBD> * ISO * </KBD>

<UL>
<LI><EM>The following properties should hold at call time:</EM>

<CODE>Exp1</CODE> is an arithmetic expression.
 (<CODE>arithmetic:arithexpression/1</CODE>)

<CODE>Exp2</CODE> is an arithmetic expression.
 (<CODE>arithmetic:arithexpression/1</CODE>)
</UL>

</DL>

<P>
<A NAME="IDX1092"></A>
<A NAME="IDX1093"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>=\=/2:</B>
<DD><A NAME="IDX1094"></A>


<P>
<CODE>Exp1 =\= Exp2</CODE>


<P>
The numeric values of <CODE>Exp1</CODE> and <CODE>Exp2</CODE> are not equal when both are evaluated as arithmetic expressions.


<P>
<STRONG>Usage 1:</STRONG> <CODE>+arithexpression =\= +arithexpression</CODE>
<KBD> * ISO * </KBD>

<UL>
</UL>

<P>
<STRONG>Usage 2:</STRONG> 
<KBD> * ISO * </KBD>

<UL>
<LI><EM>The following properties should hold at call time:</EM>

<CODE>Exp1</CODE> is an arithmetic expression.
 (<CODE>arithmetic:arithexpression/1</CODE>)

<CODE>Exp2</CODE> is an arithmetic expression.
 (<CODE>arithmetic:arithexpression/1</CODE>)
</UL>

</DL>

<P>
<A NAME="IDX1095"></A>
<A NAME="IDX1096"></A>
<DL>
<DT><span class="define">REGTYPE:</span> <B>arithexpression/1:</B>
<DD><A NAME="IDX1097"></A>


<P>
An arithmetic expression is a term built from numbers and 
<A NAME="IDX1098"></A>
evaluable functors that represent arithmetic functions. An arithmetic expression evaluates to a number, which may be an integer (
<A NAME="IDX1099"></A>
<CODE>int/1</CODE>) or a float (
<A NAME="IDX1100"></A>
<CODE>flt/1</CODE>). The evaluable functors allowed in an arithmetic expression are listed below, together with an indication of the functions they represent. All evaluable functors defined in 
<A NAME="IDX1101"></A>
ISO-Prolog are implemented, as well as some other useful or traditional. Unless stated otherwise, an expression evaluates to a float if any of its arguments is a float, otherwise to an integer. 



<UL>

<LI>

<A NAME="IDX1102"></A>
<CODE>- /1</CODE>: sign reversal.  <KBD> * ISO * </KBD>

<LI>

<A NAME="IDX1103"></A>
<CODE>+ /1</CODE>: identity. 

<LI>

<A NAME="IDX1104"></A>
<CODE>-- /1</CODE>: decrement by one. 

<LI>

<A NAME="IDX1105"></A>
<CODE>++ /1</CODE>: increment by one. 

<LI>

<A NAME="IDX1106"></A>
<CODE>+ /2</CODE>: addition.  <KBD> * ISO * </KBD>

<LI>

<A NAME="IDX1107"></A>
<CODE>- /2</CODE>: subtraction.  <KBD> * ISO * </KBD>

<LI>

<A NAME="IDX1108"></A>
<CODE>* /2</CODE>: multiplication.  <KBD> * ISO * </KBD>

<LI>

<A NAME="IDX1109"></A>
<CODE>// /2</CODE>: integer division. Float arguments are truncated to integers, result always integer.  <KBD> * ISO * </KBD>

<LI>

<A NAME="IDX1110"></A>
<CODE>/ /2</CODE>: division. Result always float.  <KBD> * ISO * </KBD>

<LI>

<A NAME="IDX1111"></A>
<CODE>rem/2</CODE>: integer remainder. The result is always an integer, its sign is the sign of the first argument.  <KBD> * ISO * </KBD>

<LI>

<A NAME="IDX1112"></A>
<CODE>mod/2</CODE>: modulo. The result is always a positive integer.  <KBD> * ISO * </KBD>

<LI>

<A NAME="IDX1113"></A>
<CODE>abs/1</CODE>: absolute value.  <KBD> * ISO * </KBD>

<LI>

<A NAME="IDX1114"></A>
<CODE>sign/1</CODE>: sign of.  <KBD> * ISO * </KBD>

<LI>

<A NAME="IDX1115"></A>
<CODE>float_integer_part/1</CODE>: float integer part. Result always float.  <KBD> * ISO * </KBD>

<LI>

<A NAME="IDX1116"></A>
<CODE>float_fractional_part/1</CODE>: float fractional part. Result always float.  <KBD> * ISO * </KBD>

<LI>

<A NAME="IDX1117"></A>
<CODE>truncate/1</CODE>: The result is the integer equal to the integer part of the argument.  <KBD> * ISO * </KBD>

<LI>

<A NAME="IDX1118"></A>
<CODE>integer/1</CODE>: same as 
<A NAME="IDX1119"></A>
<CODE>truncate/1</CODE>. 

<LI>

<A NAME="IDX1120"></A>
<CODE>float/1</CODE>: conversion to float.  <KBD> * ISO * </KBD>

<LI>

<A NAME="IDX1121"></A>
<CODE>floor/1</CODE>: largest integer not greater than.  <KBD> * ISO * </KBD>

<LI>

<A NAME="IDX1122"></A>
<CODE>round/1</CODE>: integer nearest to.  <KBD> * ISO * </KBD>

<LI>

<A NAME="IDX1123"></A>
<CODE>ceiling/1</CODE>: smallest integer not smaller than.  <KBD> * ISO * </KBD>

<LI>

<A NAME="IDX1124"></A>
<CODE>** /2</CODE>: exponentiation. Result always float.  <KBD> * ISO * </KBD>

<LI>

<A NAME="IDX1125"></A>
<CODE>&#62;&#62; /2</CODE>: integer bitwise right shift.  <KBD> * ISO * </KBD>

<LI>

<A NAME="IDX1126"></A>
<CODE>&#60;&#60; /2</CODE>: integer bitwise left shift.  <KBD> * ISO * </KBD>

<LI>

<A NAME="IDX1127"></A>
<CODE>/\ /2</CODE>: integer bitwise and.  <KBD> * ISO * </KBD>

<LI>

<A NAME="IDX1128"></A>
<CODE>\/ /2</CODE>: integer bitwise or.  <KBD> * ISO * </KBD>

<LI>

<A NAME="IDX1129"></A>
<CODE>\ /1</CODE>: integer bitwise complement.  <KBD> * ISO * </KBD>

<LI>

<A NAME="IDX1130"></A>
<CODE># /2</CODE>: integer bitwise exclusive or (xor). 

<LI>

<A NAME="IDX1131"></A>
<CODE>exp/1</CODE>: exponential (<EM>e</EM> to the power of). Result always float.  <KBD> * ISO * </KBD>

<LI>

<A NAME="IDX1132"></A>
<CODE>log/1</CODE>: natural logarithm (base <EM>e</EM>). Result always float.  <KBD> * ISO * </KBD>

<LI>

<A NAME="IDX1133"></A>
<CODE>sqrt/1</CODE>: square root. Result always float.  <KBD> * ISO * </KBD>

<LI>

<A NAME="IDX1134"></A>
<CODE>sin/1</CODE>: sine. Result always float.  <KBD> * ISO * </KBD>

<LI>

<A NAME="IDX1135"></A>
<CODE>cos/1</CODE>: cosine. Result always float.  <KBD> * ISO * </KBD>

<LI>

<A NAME="IDX1136"></A>
<CODE>atan/1</CODE>: arc tangent. Result always float.  <KBD> * ISO * </KBD>

<LI>

<A NAME="IDX1137"></A>
<CODE>gcd/2</CODE>: Greatest common divisor. Arguments must evaluate to integers, result always integer. 

</UL>

<P>
In addition to these functors, a list of just a number evaluates to this number. Since a 
<A NAME="IDX1138"></A>
quoted string is just a list of integers, this allows a quoted character to be used in place of its 
<A NAME="IDX1139"></A>
ASCII code; e.g. <CODE>"A"</CODE> behaves within arithmetic expressions as the integer 65. Note that this is not 
<A NAME="IDX1140"></A>
<A NAME="IDX1141"></A>
ISO-compliant, and that can be achieved by using the notation <CODE>0'A</CODE> (which is ISO). 


<P>
Arithmetic expressions, as described above, are just data structures. If you want one evaluated you must pass it as an argument to one of the arithmetic predicates defined here. 


<P>
<STRONG>Usage 1:</STRONG> <CODE>arithexpression(E)</CODE>

<UL>
<LI><EM>Description:</EM> <CODE>E</CODE> is an arithmetic expression.

<LI><EM>The following properties should hold globally:</EM>

Defines a regular type.
 (<CODE>basic_props:regtype/1</CODE>)
</UL>

<P>
<STRONG>Usage 2:</STRONG> <CODE>arithexpression(E)</CODE>

<UL>
<LI><EM>Description:</EM> <CODE>E</CODE> is an arithmetic expression.

<LI><EM>The following properties should hold globally:</EM>

Defines a regular type.
 (<CODE>basic_props:regtype/1</CODE>)
</UL>

</DL>

<P><HR><P>
Go to the <A HREF="ciao_1.html">first</A>, <A HREF="ciao_21.html">previous</A>, <A HREF="ciao_23.html">next</A>, <A HREF="ciao_148.html">last</A> section, <A HREF="ciao_toc.html">table of contents</A>.
</BODY>
</HTML>
