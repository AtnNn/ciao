<HTML>
<HEAD>
<!-- Created by texi2html 1.56k + clip patches and <A href="http://www.clip.dia.fi.upm.es/Software">lpdoc</A> from ciao.texi on 27 August 2003 -->

<LINK rel="stylesheet" href="ciao.css" type="text/css">
<TITLE>The Ciao Prolog System               - Using Ciao inside GNU emacs</TITLE>
</HEAD>
<BODY> 
Go to the <A HREF="ciao_1.html">first</A>, <A HREF="ciao_11.html">previous</A>, <A HREF="ciao_13.html">next</A>, <A HREF="ciao_232.html">last</A> section, <A HREF="ciao_toc.html">table of contents</A>.
<P><HR><P>


<H1><A NAME="SEC93" HREF="ciao_toc.html#TOC93">Using Ciao inside GNU emacs</A></H1>

<P>
<STRONG>Author(s):</STRONG> Manuel Hermenegildo, Manuel C. Rodriguez, Daniel Cabeza, <A HREF="mailto:clip@clip.dia.fi.upm.es">clip@clip.dia.fi.upm.es</A>, <A HREF="http://www.clip.dia.fi.upm.es/">http://www.clip.dia.fi.upm.es/</A>, The CLIP Group, School of Computer Science, Technical University of Madrid.


<P>
<STRONG>Version:</STRONG> 1.9#98 (2003/8/27, 12:39:15 CEST)


<P>
<STRONG>Version of last change:</STRONG> 1.9#95 (2003/8/4, 18:59:47 CEST)


<P>
The Ciao/Prolog 
<A NAME="IDX861"></A>
emacs interface (or <EM>mode</EM> 
<A NAME="IDX862"></A>
<A NAME="IDX863"></A>
in 
<A NAME="IDX864"></A>
<CODE>emacs</CODE> terms) provides a rich, integrated user interface to the Ciao 
<A NAME="IDX865"></A>
<A NAME="IDX866"></A>
<EM>program development environment</EM> components, including the 
<A NAME="IDX867"></A>
<CODE>ciaosh</CODE> interactive top level and the 
<A NAME="IDX868"></A>
<CODE>ciaopp</CODE> preprocessor. While most features of the Ciao development environment are available from the command line of the preprocessor and the top-level shell, using Ciao inside 
<A NAME="IDX869"></A>
<CODE>emacs</CODE> is highly recommended. The facilities that this mode provides include: 



<UL>

<LI>

<A NAME="IDX870"></A>
<A NAME="IDX871"></A>
<EM>Syntax-based highlighting</EM> (coloring), 
<A NAME="IDX872"></A>
<A NAME="IDX873"></A>
<A NAME="IDX874"></A>
<A NAME="IDX875"></A>
<EM>auto-indentation</EM>, 
<A NAME="IDX876"></A>
<A NAME="IDX877"></A>
<EM>auto-fill</EM>, etc. of code. This includes the assertions used by the preprocessor and the documentation strings used by the Ciao auto-documenter, 
<A NAME="IDX878"></A>
<CODE>lpdoc</CODE>. 

<LI>Providing automatic access to

<A NAME="IDX879"></A>
on-line help for all predicates by accessing the Ciao system manuals in 
<A NAME="IDX880"></A>
<CODE>info</CODE> format. 

<LI>Starting and communicating with

<A NAME="IDX881"></A>
<CODE>ciaopp</CODE>, the 
<A NAME="IDX882"></A>
<A NAME="IDX883"></A>
<EM>Ciao preprocessor</EM>, running in its own 
<A NAME="IDX884"></A>
sub-shell. This allows easily performing certain kinds of 
<A NAME="IDX885"></A>
<A NAME="IDX886"></A>
<EM>static checks</EM> (useful for finding errors in programs before running them), program analysis tasks, and 
<A NAME="IDX887"></A>
<A NAME="IDX888"></A>
<EM>program transformations</EM> on source programs. 

<LI>Starting and communicating with the

<A NAME="IDX889"></A>
<A NAME="IDX890"></A>
<EM>Ciao top-level</EM>, running in its own 
<A NAME="IDX891"></A>
sub-shell. This facilitates loading programs, checking the <EM>syntax</EM> of programs (and of 
<A NAME="IDX892"></A>
<A NAME="IDX893"></A>
<EM>assertions</EM> within programs), marking and unmarking modules for interactive debugging, 
<A NAME="IDX894"></A>
<A NAME="IDX895"></A>
<EM>tracing the source code</EM> 
<A NAME="IDX896"></A>
<A NAME="IDX897"></A>
<A NAME="IDX898"></A>
<A NAME="IDX899"></A>
during debugging, making stand-alone executables, compiling modules to dynamically linkable Prolog objects, compiling modules to active objects, etc. 

<LI>Syntax highlighting and coloring of the error and warning messages produced by the top level, preprocessor, or any other tool using the same message format (such as the

<A NAME="IDX900"></A>
<CODE>lpdoc</CODE> auto-documenter), and <EM>locating automatically the points in the source files where such errors occur</EM>. 

<LI>Performing automatic

<A NAME="IDX901"></A>
<A NAME="IDX902"></A>
<EM>version control</EM> and keeping a 
<A NAME="IDX903"></A>
<A NAME="IDX904"></A>
<EM>changelog</EM> of individual files or whole applications. This is done by automatically including changelog entries in source files, which can then be processed by the 
<A NAME="IDX905"></A>
<CODE>lpdoc</CODE> auto-documenter. 

</UL>

<P>
This chapter explains how to use the Ciao/Prolog 
<A NAME="IDX906"></A>
<CODE>emacs</CODE> interface and how to set up your 
<A NAME="IDX907"></A>
<CODE>emacs</CODE> environment for correct operation. The Ciao 
<A NAME="IDX908"></A>
<CODE>emacs</CODE> interface can also be used to work with other Prolog or CLP systems. 



<UL>
<LI><A HREF="ciao_12.html#SEC94">Conventions for writing Ciao programs under Emacs</A>
<LI><A HREF="ciao_12.html#SEC95">Checking the installation</A>
<LI><A HREF="ciao_12.html#SEC96">Functionality and associated key sequences (bindings)</A>
<LI><A HREF="ciao_12.html#SEC97">Syntax coloring and syntax-based editing</A>
<LI><A HREF="ciao_12.html#SEC98">Getting on-line help</A>
<LI><A HREF="ciao_12.html#SEC99">Loading and compiling programs</A>
<LI><A HREF="ciao_12.html#SEC100">Commands available in toplevel and preprocessor buffers</A>
<LI><A HREF="ciao_12.html#SEC101">Locating errors and checking the syntax of assertions</A>
<LI><A HREF="ciao_12.html#SEC102">Commands which help typing in programs</A>
<LI><A HREF="ciao_12.html#SEC103">Debugging programs</A>
<LI><A HREF="ciao_12.html#SEC104">Preprocessing programs</A>
<LI><A HREF="ciao_12.html#SEC105">Version control</A>
<LI><A HREF="ciao_12.html#SEC106">Generating program documentation</A>
<LI><A HREF="ciao_12.html#SEC107">Setting top level preprocessor and documenter executables</A>
<LI><A HREF="ciao_12.html#SEC108">Other commands</A>
<LI><A HREF="ciao_12.html#SEC109">Traditional Prolog Mode Commands</A>
<LI><A HREF="ciao_12.html#SEC110">Coexistence with other Prolog interfaces</A>
<LI><A HREF="ciao_12.html#SEC111">Getting the Ciao/Prolog mode version</A>
<LI><A HREF="ciao_12.html#SEC112">Using Ciao/Prolog mode capabilities in standard shells</A>
<LI><A HREF="ciao_12.html#SEC113">Customization</A>
<LI><A HREF="ciao_12.html#SEC118">Installation of the Ciao/Prolog emacs interface</A>
<LI><A HREF="ciao_12.html#SEC119">Emacs version compatibility</A>
<LI><A HREF="ciao_12.html#SEC120">Acknowledgments (ciao.el)</A>
</UL>



<H2><A NAME="SEC94" HREF="ciao_toc.html#TOC94">Conventions for writing Ciao programs under Emacs</A></H2>
<P>
<A NAME="IDX909"></A>
<A NAME="IDX910"></A>


<P>
This is particularly important for the 
<A NAME="IDX911"></A>
source-level debugger and the 
<A NAME="IDX912"></A>
syntax-based coloring capabilities. This is due to the fact that it would be unrealistic to write a complete Prolog parser in Emacs lisp. These conventions are the following, in order of importance: 



<UL>

<LI>Clauses should begin on the first column (this is used to recognize the beginning of a clause).

<LI>C style comments should not be used in a clause, but can be used outside any clause.

</UL>

<P>
The following suggestion is not strictly necessary but can improve operation: 



<UL>

<LI>Body literals should be indented. There should be not more than one literal per line. This allows more precision in the location of program points during source-level debugging, i.e., when marking breakpoints and during line tracing.

</UL>

<P>
Comments which start with <CODE>%</CODE>s are indented to the right if indentation is asked for. 


<P>
For syntax-based highlighting to be performed font-lock must be available and not disabled (the Ciao mode enables it but it may be disabled elsewhere in, e.g., the 
<A NAME="IDX913"></A>
<CODE>.emacs</CODE> file). 




<H2><A NAME="SEC95" HREF="ciao_toc.html#TOC95">Checking the installation</A></H2>

<P>
Typically, a complete pre-installation of the Ciao/Prolog 
<A NAME="IDX914"></A>
<CODE>emacs</CODE> interface is completed during Ciao installation. To check that installation was done and sucessful, open a file with a <CODE>.pl</CODE> ending. You should see that 
<A NAME="IDX915"></A>
<CODE>emacs</CODE> enters Ciao/Prolog mode: the mode is identified in the 
<A NAME="IDX916"></A>
status bar below the 
<A NAME="IDX917"></A>
buffer and, if the 
<A NAME="IDX918"></A>
emacs menu bar is enabled, you should see the Ciao/Prolog menus. You should be able from the menu-bar, for example, to go to the Ciao manuals in the info or load the <CODE>.pl</CODE> file that you just opened into a ciao top level. 


<P>
If things don't work properly, see the section section <A HREF="ciao_12.html#SEC118">Installation of the Ciao/Prolog emacs interface</A> later in this chapter. 




<H2><A NAME="SEC96" HREF="ciao_toc.html#TOC96">Functionality and associated key sequences (bindings)</A></H2>

<P>
The following sections summarize the capabilities of the Ciao/Prolog emacs interface and the (default) 
<A NAME="IDX919"></A>
<A NAME="IDX920"></A>
<EM>key sequences</EM> used to access those capabilities. Most of these functions are accessible also from the menu bar. 




<H2><A NAME="SEC97" HREF="ciao_toc.html#TOC97">Syntax coloring and syntax-based editing</A></H2>

<P>
Syntax-based highlighting (coloring) of code is provided automatically when opening Ciao/Prolog files. This includes also the assertions used by the preprocessor and the documentation strings used by the Ciao auto-documenter, 
<A NAME="IDX921"></A>
<CODE>lpdoc</CODE>. The mode should be set to Ciao/Prolog and the Ciao mode menus should appear on the menu bar. The colors and fonts used can be changed through the 
<A NAME="IDX922"></A>
<A NAME="IDX923"></A>
<EM>customize</EM> options in the help menu (see section <A HREF="ciao_12.html#SEC113">Customization</A>). 


<P>
During editing this coloring may be refreshed by calling the appropriate function (see below). 


<P>
Limited syntax-based auto-indentation and auto-fill of code and comments is also provided. Syntax highlighting and coloring is also available for the error and warning messages produced by the top level, preprocessor, and auto-documenter, and, in general, for the output produced by these tools. 


<P>
Commands: 


<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>h</KBD>
<DD>
Undate (recompute) syntax-based highlighting (coloring). 
</DL>

<DL COMPACT>

<DT><KBD>TAB</KBD>
<DD>
Indent current line as Ciao/Prolog code. With argument, indent any additional lines of the same clause rigidly along with this one. 
</DL>



<H2><A NAME="SEC98" HREF="ciao_toc.html#TOC98">Getting on-line help</A></H2>

<P>
The following commands are useful for getting on-line help. This is done by accessing the 
<A NAME="IDX924"></A>
<CODE>info</CODE> version of the Ciao manuals or the 
<A NAME="IDX925"></A>
<CODE>emacs</CODE> built-in help strings. Note also that the 
<A NAME="IDX926"></A>
<CODE>info</CODE> standard <CODE>search</CODE> command (generally bound to <KBD>s</KBD>) can be used inside 
<A NAME="IDX927"></A>
<CODE>info</CODE> buffers to search for a given string. 


<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>TAB</KBD>
<DD>
Find help for the symbol (e.g., predicate, directive, declaration, type, etc.) that is currently under the cursor. Opens a (hopefully) relevant part of the Ciao manuals in 
<A NAME="IDX928"></A>
<CODE>info</CODE> mode. Requires that the Ciao manuals in 
<A NAME="IDX929"></A>
<CODE>info</CODE> format be installed and accessible to 
<A NAME="IDX930"></A>
<CODE>emacs</CODE> (i.e., they should appear somewhere in the info directory when typing <CODE>M-x info</CODE>). It also requires 
<A NAME="IDX931"></A>
<CODE>word-help.el</CODE>, which is provided with Ciao. Refer to the installation instructions if this is not the case. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>/</KBD>
<DD>
Find a completion for the symbol (e.g., predicate, directive, declaration, type, etc.) that is currently under the cursor. Uses for completion the contents of the indices of the Ciao manuals. Same requirements as for finding help for the symbol. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>^M</KBD>
<DD>
Go to the part of the info directory containing the Ciao manuals. 
</DL>

<DL COMPACT>

<DT><KBD>^H</KBD> <KBD>m</KBD>
<DD>
Show a short description of the Ciao/Prolog emacs mode, including all key bindings. 
</DL>



<H2><A NAME="SEC99" HREF="ciao_toc.html#TOC99">Loading and compiling programs</A></H2>

<P>
These commands allow 
<A NAME="IDX932"></A>
<A NAME="IDX933"></A>
<EM>loading programs</EM>, 
<A NAME="IDX934"></A>
<A NAME="IDX935"></A>
<EM>creating executables</EM>, etc. by issuing the appropriate commands to a Ciao/Prolog top level shell, running in its own buffer as a subprocess. See section <A HREF="ciao_7.html#SEC65">The interactive top-level shell</A> for details. The following commands implement the communication with the Ciao/Prolog top level: 


<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>t</KBD>
<DD>
Ensure that an inferior Ciao/Prolog top-level process is running. 

This opens a top-level window (if one did not exist already) where queries can be input directly as in any normal Prolog top level. Programs can be loaded into this top level by typing the corresponding commands in this window (such as use_module, etc.), or, more typically, by opening the file to be loaded in an emacs window (where it can be edited) and issuing a load command (such as C-c l or C-c L) directly from there (see the loading commands of this mode and their bindings). 

Note that many useful commands (e.g., to repeat and edit previous commands, interrupt jobs, locate errors, automatic completions, etc.) are available in this top-level window (see section <A HREF="ciao_12.html#SEC100">Commands available in toplevel and preprocessor buffers</A>). 

Often, it is not necessary to use this function since execution of any of the other functions related to the top level (e.g., loading buffers into the top level) ensures that a top level is started (starting one if required). 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>l</KBD>
<DD>
Load the current buffer (and any auxiliary files it may use) into the top level. 

The type of compilation performed (
<A NAME="IDX936"></A>
<A NAME="IDX937"></A>
<EM>compiling</EM> or 
<A NAME="IDX938"></A>
<A NAME="IDX939"></A>
<EM>interpreting</EM>) is selected automatically depending on whether the buffer has been marked for debugging or not -- see below. In case you try to load a file while in the middle of the debugging process the debugger is first aborted and then the buffer is loaded. Also, if there is a defined query, the user is asked whether it should be called. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>x</KBD>
<DD>
Make an executable from the code in the current buffer. The buffer must contain a 
<A NAME="IDX940"></A>
<CODE>main/0</CODE> or 
<A NAME="IDX941"></A>
<CODE>main/1</CODE> predicate. Note that compiler options can be set to determine whether the libraries and auxiliary files used by the executable will be statically linked, dynamically linked, auto-loaded, etc. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>o</KBD>
<DD>
Make a Prolog object (.po) file from the code in the current buffer. This is useful for example while debugging during development of a very large application which is compiled into an excutable, and only one or a few files are modified. If the application executable is dynamically linked, i.e., the component .po files are loaded dynamically during startup of the application, then this command can be used to recompile only the file or files which have changed, and the correct version will be loaded dynamically the next time the application is started. However, note that this must be done with care since it only works if the inter-module interfaces have not changed. The recommended, much safer way is to generate the executable again, letting the Ciao compiler, which is inherently incremental, determine what needs to be recompiled. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>a</KBD>
<DD>
Make an active module executable from the code in the current buffer. An active module is a remote procedure call server (see the 
<A NAME="IDX942"></A>
<CODE>activemod</CODE> library documentation for details). 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>s</KBD>
<DD>
Set the current buffer as the principal file in a multiple module programming environment. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>L</KBD>
<DD>
Load the module designated as 
<A NAME="IDX943"></A>
<A NAME="IDX944"></A>
<EM>main module</EM> (and all related files that it uses) into the top level. If no main module is defined it will load the current buffer. 

The type of compilation performed (
<A NAME="IDX945"></A>
<A NAME="IDX946"></A>
<EM>compiling</EM> or 
<A NAME="IDX947"></A>
<A NAME="IDX948"></A>
<EM>interpreting</EM>) is selected automatically depending on whether the buffer has been marked for debugging or not -- see below. In case you try to load a file while in the middle of the debugging process the debugger is first aborted and then the buffer is loaded. Also, if there is a defined query, the user is asked whether is should be called. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>q</KBD>
<DD>
Set a default query. This may be useful specially during debugging sessions. However, as mentioned elsewhere, note that commands that repeat previous queries are also available. 

This query can be recalled at any time using C-c Q. It is also possible to set things up so that this query will be issued automatically any time a program is (re)loaded. The functionality is available in the major mode (i.e., from a buffer containing a source file) and in the inferior mode (i.e., from the buffer running the top-level shell). When called from the major mode (i.e., from window containing a source file) then the user is prompted in the minibuffer for the query. When called from the inferior mode (i.e., from a top-level window) then the query on the current line, following the Ciao prompt, is taken as the default query. 

To clear the default query use M-x ciao-clear-query or simply set it to an empty query: i.e., in a source buffer select C-c q and enter an empty query. In an inferior mode simply select C-c q on a line that contains only the system prompt. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>Q</KBD>
<DD>
Issue predefined query. 
</DL>



<H2><A NAME="SEC100" HREF="ciao_toc.html#TOC100">Commands available in toplevel and preprocessor buffers</A></H2>

<P>
The interactive top level and the preprocessor both are typically run in an iteractive buffer, in which it is possible to communicate with them in the same way as if they had been started from a standard shell. These interactive buffers run in the so-called <EM>Ciao/Prolog inferior mode</EM>. This is a particular version of the standard emacs shell package (comint) and thus all the commands typically available when running shells inside emacs also work in these buffers. In addition, many of the commands and key bindings available in buffers containing Ciao source code are also available in these interactive buffers, when applicable. The Ciao/Prolog-specific commands available include: 


<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>TAB</KBD>
<DD>
Find help for the symbol (e.g., predicate, directive, declaration, type, etc.) that is currently under the cursor. Opens a (hopefully) relevant part of the Ciao manuals in 
<A NAME="IDX949"></A>
<CODE>info</CODE> mode. Requires that the Ciao manuals in 
<A NAME="IDX950"></A>
<CODE>info</CODE> format be installed and accessible to 
<A NAME="IDX951"></A>
<CODE>emacs</CODE> (i.e., they should appear somewhere in the info directory when typing <CODE>M-x info</CODE>). It also requires 
<A NAME="IDX952"></A>
<CODE>word-help.el</CODE>, which is provided with Ciao. Refer to the installation instructions if this is not the case. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>/</KBD>
<DD>
Find a completion for the symbol (e.g., predicate, directive, declaration, type, etc.) that is currently under the cursor. Uses for completion the contents of the indices of the Ciao manuals. Same requirements as for finding help for the symbol. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>`</KBD>
<DD>
Go to the location in the source file containing the next error reported by the last Ciao/Prolog subprocess (preprocessor or toplevel) which was run. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>e</KBD>
<DD>
Remove error marks from last run (and also debugging marks if present). 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>q</KBD>
<DD>
Set a default query. This may be useful specially during debugging sessions. However, as mentioned elsewhere, note that commands that repeat previous queries are also available. 

This query can be recalled at any time using C-c Q. It is also possible to set things up so that this query will be issued automatically any time a program is (re)loaded. The functionality is available in the major mode (i.e., from a buffer containing a source file) and in the inferior mode (i.e., from the buffer running the top-level shell). When called from the major mode (i.e., from window containing a source file) then the user is prompted in the minibuffer for the query. When called from the inferior mode (i.e., from a top-level window) then the query on the current line, following the Ciao prompt, is taken as the default query. 

To clear the default query use M-x ciao-clear-query or simply set it to an empty query: i.e., in a source buffer select C-c q and enter an empty query. In an inferior mode simply select C-c q on a line that contains only the system prompt. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>Q</KBD>
<DD>
Issue predefined query. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>^V</KBD>
<DD>
Show last output file produced by Ciao preprocessor. The preprocessor works by producing a file which is a transformed and/or adorned (with assertions) version of the input file. This command is often used after running the preprocessor in order to visit the output file and see the results from running the preprocessor. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>v</KBD>
<DD>
Report the version of the emacs Ciao/Prolog mode. 
</DL>

<P>
 
The following are some of the commands from the comint shell package which may be specially useful (type <CODE>M-x describe-mode</CODE> while in a Ciao interactive buffer for a complete list of commands): 


<DL COMPACT>

<DT><KBD>M-p</KBD>
<DD>
Cycle backwards through input history. 
</DL>

<DL COMPACT>

<DT><KBD>M-n</KBD>
<DD>
Cycle forwards through input history. 
</DL>

<DL COMPACT>

<DT><KBD>M-r</KBD>
<DD>
Search backwards through input history for match for REGEXP. (Previous history elements are earlier commands.) With prefix argument N, search for Nth previous match. If N is negative, find the next or Nth next match. 
</DL>

<DL COMPACT>

<DT><KBD>TAB</KBD>
<DD>
Dynamically find completion of the item at point. Note that this completion command refers generally to filenames (rather than, e.g., predicate names, as in the previous functions). 
</DL>

<DL COMPACT>

<DT><KBD>M-?</KBD>
<DD>
List all (filename) completions of the item at point. 
</DL>

<DL COMPACT>

<DT><KBD>RET</KBD>
<DD>
Return at any point of the a line at the end of a buffer sends that line as input. Return not at end copies the rest of the current line to the end of the buffer and sends it as input. 
</DL>

<DL COMPACT>

<DT><KBD>^D</KBD>
<DD>
Delete ARG characters forward or send an EOF to subprocess. Sends an EOF only if point is at the end of the buffer and there is no input. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>^U</KBD>
<DD>
Kill all text from last stuff output by interpreter to point. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>^W</KBD>
<DD>
Kill characters backward until encountering the end of a word. With argument, do this that many times. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>^C</KBD>
<DD>
Interrupt the current subjob. This command also kills the pending input between the process-mark and point. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>^Z</KBD>
<DD>
Stop the current subjob. This command also kills the pending input between the process-mark and point. 

WARNING: if there is no current subjob, you can end up suspending the top-level process running in the buffer. If you accidentally do this, use M-x comint-continue-subjob to resume the process. (This is not a problem with most shells, since they ignore this signal.) 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>^\</KBD>
<DD>
Send quit signal to the current subjob. This command also kills the pending input between the process-mark and point. 
</DL>



<H2><A NAME="SEC101" HREF="ciao_toc.html#TOC101">Locating errors and checking the syntax of assertions</A></H2>

<P>
These commands allow locating quickly the point in the source code corresponding to errors flagged by the compiler or preprocessor as well as performing several syntactic checks of assertions: 
<A NAME="IDX953"></A>
<A NAME="IDX954"></A>


<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>`</KBD>
<DD>
Go to the location in the source file containing the next error reported by the last Ciao/Prolog subprocess (preprocessor or toplevel) which was run. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>e</KBD>
<DD>
Remove error marks from last run (and also debugging marks if present). 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>E</KBD>
<DD>
Check the <EM>syntax</EM> of the code and assertions in the current buffer, as well as imports and exports. This uses the standard top level (i.e., does not call the preprocessor and thus does not require the preprocessor to be installed). Note that full (semantic) assertion checking must be done with the preprocessor. 
</DL>



<H2><A NAME="SEC102" HREF="ciao_toc.html#TOC102">Commands which help typing in programs</A></H2>

<P>
The following commands are intended to help in the process of writing programs: 
<A NAME="IDX955"></A>
<A NAME="IDX956"></A>


<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>I</KBD> <KBD>S</KBD>
<DD>
Insert a (Unix) header at the top of the current buffer so that the ciao script interpreter will be called on this file if <EM>run</EM> from the command line. It also makes the file "executable" (e.g., '<CODE>chmod +x &#60;file&#62;</CODE>' in Unix). See section <A HREF="ciao_10.html#SEC86">The script interpreter</A> for details. 
</DL>



<H2><A NAME="SEC103" HREF="ciao_toc.html#TOC103">Debugging programs</A></H2>

<P>
These commands allow marking modules for 
<A NAME="IDX957"></A>
<A NAME="IDX958"></A>
<EM>debugging</EM> by issuing the appropiate commands to a Ciao/Prolog top level shell, running in its own buffer as a subprocess. There are two differents types of debugging: traditional Prolog debugging (using the 
<A NAME="IDX959"></A>
byrd-box model and 
<A NAME="IDX960"></A>
spy-points) and 
<A NAME="IDX961"></A>
<A NAME="IDX962"></A>
<EM>source-level debugging</EM> (same as traditional debugging plus source tracing and 
<A NAME="IDX963"></A>
breakpoints). 
<A NAME="IDX964"></A>
<A NAME="IDX965"></A>
In order to use 
<A NAME="IDX966"></A>
<A NAME="IDX967"></A>
<EM>breakpoints</EM>, source debugging must be on. The following commands implement comunication with the Ciao/Prolog top level: 


<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>d</KBD>
<DD>
Debug (or stop debugging) buffer source. This is a shortcut which is particularly useful when using the source debugger on a single module. It corresponds to several lower-level actions. Those lower-level actions depend on how the module was selected for debugging. In case the module was not marked for source-level debugging, it marks the module corresponding to the current buffer for source-level debugging, reloads it to make sure that it is loaded in the correct way for debugging (same as C-c l), and sets the debugger in trace mode (i.e., issues the <CODE>trace.</CODE> command to the top-level shell). Conversely, if the module was already marked for source-level debugging then it will take the opposite actions, i.e., it unmarks the module for source-level debugging, reloads it, and sets the debugger to non-debug mode. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>m</KBD>
<DD>
Mark, or unmkark, the current buffer for debugging (traditional debugging or source debugging). Note that if the buffer has already been loaded while it was unmarked for debugging (and has therefore been loaded in "compile" mode) it has to be loaded again. The minibuffer shows how the module is loaded now and allows selecting another mode for it. There are three posibilities: N for no debug, S for source debug and D for traditional debug. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>M-m</KBD>
<DD>
Visits all Ciao/Prolog files which are currently open in a buffer allowing selecting for each of them whether to debug them or not and the type of debugging performed. When working on a multiple module program, it is possible to have many modules open at a time. In this case, you will navigate through all open Ciao/Prolog files and select the debug mode for each of them (same as doing C-c m for each). 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>S</KBD> <KBD>b</KBD>
<DD>
Set a breakpoint on the current literal (goal). This can be done at any time (while debugging or not). The cursor must be <EM>on the predicate symbol of the literal</EM>. Breakpoints are only useful when using source-level debugging. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>S</KBD> <KBD>v</KBD>
<DD>
Remove a breakpoint from the current literal (goal). This can be done at any time (while debugging or not). The cursor must be <EM>on the predicate symbol of the literal</EM>. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>S</KBD> <KBD>n</KBD>
<DD>
Remove all breakpoints. This can be done at any time (while debugging or not). 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>S</KBD> <KBD>l</KBD>
<DD>
Redisplay breakpoints in all Ciao buffers. This ensures that the marks in the source files and the Ciao/Prolog toplevel are synchronized. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>S</KBD> <KBD>r</KBD>
<DD>
Remove breakpoints color in all Ciao/Prolog files. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>S</KBD> <KBD>t</KBD>
<DD>
Set the debugger to the trace state. In this state, the program is executed step by step. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>S</KBD> <KBD>d</KBD>
<DD>
Set the debugger to the debug state. In this state, the program will only stop in breakpoints and spypoints. Breakpoints are specially supported in 
<A NAME="IDX968"></A>
<CODE>emacs</CODE> and using source debug. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>r</KBD>
<DD>
Load the current region (between the cursor and a previous mark) into the top level. Since loading a region of a file is typically done for debugging and/or testing purposes, this command always loads the region in debugging mode (interpreted). 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>p</KBD>
<DD>
Load the predicate around the cursor into the top level. Since loading a single predicate is typically done for debugging and/or testing purposes, this command always loads the predicate in debugging mode (interpreted). 
</DL>



<H2><A NAME="SEC104" HREF="ciao_toc.html#TOC104">Preprocessing programs</A></H2>

<P>
These commands allow 
<A NAME="IDX969"></A>
<A NAME="IDX970"></A>
<EM>preprocessing programs</EM> with 
<A NAME="IDX971"></A>
<CODE>ciaopp</CODE>, the 
<A NAME="IDX972"></A>
<A NAME="IDX973"></A>
<EM>Ciao preprocessor</EM>. 


<P>
 
<A NAME="IDX974"></A>
<CODE>ciaopp</CODE> is the precompiler of the Ciao Prolog development environment. 
<A NAME="IDX975"></A>
<CODE>ciaopp</CODE> can perform a number of program debugging, analysis and source-to-source transformation tasks on (Ciao) Prolog programs. These tasks include: 



<UL>

<LI>

<A NAME="IDX976"></A>
<A NAME="IDX977"></A>
<EM>Inference of properties</EM> of the predicates and literals of the progam, including 
<A NAME="IDX978"></A>
<A NAME="IDX979"></A>
<EM>types</EM>, 
<A NAME="IDX980"></A>
<A NAME="IDX981"></A>
<EM>modes</EM> and other 
<A NAME="IDX982"></A>
<A NAME="IDX983"></A>
<EM>variable instantiation</EM> properties, 
<A NAME="IDX984"></A>
<A NAME="IDX985"></A>
<EM>non-failure</EM>, 
<A NAME="IDX986"></A>
<A NAME="IDX987"></A>
<EM>determinacy</EM>, bounds on 
<A NAME="IDX988"></A>
<A NAME="IDX989"></A>
<EM>computational cost</EM>, bounds on 
<A NAME="IDX990"></A>
<A NAME="IDX991"></A>
<EM>sizes of terms</EM> in the program, etc. 

<LI>Certain kinds of

<A NAME="IDX992"></A>
<A NAME="IDX993"></A>
<EM>static debugging</EM>, finding errors before running the program. This includes checking the ways in which programs call the system library predicates and also 
<A NAME="IDX994"></A>
<A NAME="IDX995"></A>
<EM>checking the assertions</EM> present in the program or in other modules used by the program. Such assertions essentially represent partial 
<A NAME="IDX996"></A>
<A NAME="IDX997"></A>
<EM>specifications</EM> of the program. 

<LI>Several kinds of source to source

<A NAME="IDX998"></A>
<A NAME="IDX999"></A>
<EM>program transformations</EM> such as 
<A NAME="IDX1000"></A>
<A NAME="IDX1001"></A>
<EM>program specialization</EM>, 
<A NAME="IDX1002"></A>
<A NAME="IDX1003"></A>
<EM>program parallelization</EM> (including 
<A NAME="IDX1004"></A>
<A NAME="IDX1005"></A>
<EM>granularity control</EM>), inclusion of 
<A NAME="IDX1006"></A>
<A NAME="IDX1007"></A>
<EM>run-time tests</EM> for assertions which cannot be checked completely at compile-time, etc. 

</UL>

<P>
The information generated by analysis, the assertions in the system libraries, and the assertions optionally included in user programs as specifications are all written in the same 
<A NAME="IDX1008"></A>
<A NAME="IDX1009"></A>
<EM>assertion language</EM>, which is in turn also used by the Ciao system documentation generator, 
<A NAME="IDX1010"></A>
<CODE>lpdoc</CODE>. 


<P>
<A NAME="IDX1011"></A>
<CODE>ciaopp</CODE> is distributed under the 
<A NAME="IDX1012"></A>
GNU general public license. 
 


<P>
See the preprocessor manual for details. The following commands implement the communication with the Ciao preprocessor: 


<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>M</KBD>
<DD>
Preprocess the buffer, selecting options. Instructs the preprocessor to load the current buffer and start an interactive dialog in which the different options available in the preprocessor can be set. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>P</KBD>
<DD>
Preprocess the buffer, using the previously selected options. If no options were set previously, then the preprocessor defaults are used. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>T</KBD>
<DD>
Uses the preprocessor to perform compile-time checking of types and modes (pptypesfd and shfr analyses). 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>^P</KBD>
<DD>
Make ciaopp output only predicate-level analysis information. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>^F</KBD>
<DD>
Make ciaopp output both literal- and predicate-level analysis information. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>^X</KBD>
<DD>
Make ciaopp output no analysis information. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>^V</KBD>
<DD>
Show last output file produced by Ciao preprocessor. The preprocessor works by producing a file which is a transformed and/or adorned (with assertions) version of the input file. This command is often used after running the preprocessor in order to visit the output file and see the results from running the preprocessor. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>V</KBD>
<DD>
Preprocess the buffer, using the previously selected (or default) options, waits for preprocessing to finish and displays the preprocessor output (leaving the cursor at the same point if already on a preprocessor output file). This allows running the preprocessor over and over and watching the output while modifying the source code. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>^R</KBD>
<DD>
Ensure that an inferior Ciao preprocessor process is running. 

This opens a preprocessor top-level window (if one did not exist already) where preprocessing commands and preprocessing menu options can be input directly. Programs can be preprocessed by typing commands in this window, or, more typically, by opening the file to be preprocessed in an emacs window (where it can be edited) and issuing a command (such as C-c M or C-c P) directly from there (see the preprocessing commands of this mode and their bindings). 

Note that many useful commands (e.g., to repeat and edit previous commands, interrupt jobs, locate errors, automatic completions, etc.) are available in this top-level window (see section <A HREF="ciao_12.html#SEC100">Commands available in toplevel and preprocessor buffers</A>). 

Often, it is not necessary to use this function since execution of any of the other functions related to the top level (e.g., loading buffers into the top level) ensures that a top level is started (starting one if required). 
</DL>



<H2><A NAME="SEC105" HREF="ciao_toc.html#TOC105">Version control</A></H2>

<P>
The following commands can be used to carry out a simple but effective form of 
<A NAME="IDX1013"></A>
version control by keeping a 
<A NAME="IDX1014"></A>
log of changes on a file or a group of related files. Interestingly, this log is kept in a format that is understood by 
<A NAME="IDX1015"></A>
<CODE>lpdoc</CODE>, the Ciao documenter [Her99]. As a result, if these version comments are present, then 
<A NAME="IDX1016"></A>
<CODE>lpdoc</CODE> will be able to automatically assign up to date version numbers to the manuals that it generates. This way it is always possible to identify to which version of the software a manual corresponds. Also, 
<A NAME="IDX1017"></A>
<CODE>lpdoc</CODE> can create automatically sections describing the changes made since previous versions, which are extracted from the comments in the changelog entries. 


<P>
The main effect of these commands is to automatically associate the following information to a set of changes performed in the file and/or in a set of related files: 



<UL>

<LI>a

<A NAME="IDX1018"></A>
<A NAME="IDX1019"></A>
<EM>version number</EM> (such as, e.g., <CODE>1.2</CODE>, where <CODE>1</CODE> is the 
<A NAME="IDX1020"></A>
major version number and <CODE>2</CODE> is the 
<A NAME="IDX1021"></A>
minor version number), 

<LI>a

<A NAME="IDX1022"></A>
patch number (such as, e.g., the <CODE>4</CODE> in <CODE>1.2#4</CODE>), 

<LI>a

<A NAME="IDX1023"></A>
time stamp (such as, e.g., <CODE>1998/12/14,17:20*28+MET</CODE>), 

<LI>the author of the change,

<A NAME="IDX1024"></A>
<A NAME="IDX1025"></A>
and 

<LI>a comment explaining the change.

<A NAME="IDX1026"></A>
<A NAME="IDX1027"></A>
</UL>

<P>
The 
<A NAME="IDX1028"></A>
version numbering used can be local to a single file or common to a number of related files. A simple version numbering policy is implemented: when a relevant change is made, the user typically inserts a 
<A NAME="IDX1029"></A>
changelog entry for it, using the appropriate command (or selecting the corresponding option when prompted while saving a file). This will cause the <EM>patch number</EM> for the file (or for the whole system that the file is part of) to be incremented automatically and the corresponding machine-readable comment to be inserted in the file. Major and minor version numbers can also be changed, but this is always invoked by hand (see below). 


<P>
The changelog entry is written in the form of a 
<A NAME="IDX1030"></A>
<CODE>comment/2</CODE> declaration. As mentioned before, the advantage of using this kind of changelog entries is that these declarations can be processed by the 
<A NAME="IDX1031"></A>
<CODE>lpdoc</CODE> automatic documenter (see the 
<A NAME="IDX1032"></A>
<CODE>lpdoc</CODE> reference manual [Her99] or the 
<A NAME="IDX1033"></A>
<CODE>assertions</CODE> library documentation for more details on these declarations). 


<P>
Whether the user is asked or not to introduce such changelog entries, and how the patch and version numbers should be increased is controlled by the presence in the file of a 
<A NAME="IDX1034"></A>
<CODE>comment/2</CODE> declaration of the type: 


<P>
<CODE>:- comment(version_maintenance,&#60;type&#62;).</CODE> 


<P>
(note that this requires including the 
<A NAME="IDX1035"></A>
<CODE>assertions</CODE> library in the source file). These declarations themselves are also typically introduced automatically when using this mode (see below). 


<P>
The version maintenance mode can also be set alternatively by inserting a comment such as: 



<PRE>
%% Local Variables: 
%% mode: ciao
%% update-version-comments: "off"
%% End:
</PRE>

<P>
The lines above instruct emacs to put the buffer visiting the file in 
<A NAME="IDX1036"></A>
emacs Ciao/Prolog mode and to turn version maintenance off. Setting the version maintenance mode in this way has the disadvantage that 
<A NAME="IDX1037"></A>
<CODE>lpdoc</CODE>, the auto-documenter, and other related tools will not be aware of the type of version maintenance being performed (the lines above are comments for Prolog). However, this can be useful in fact for setting the 
<A NAME="IDX1038"></A>
<A NAME="IDX1039"></A>
<EM>version maintenance mode for packages</EM> and other files meant for inclusion in other files, since that way the settings will not affect the file in which the package is included. 


<P>
The following commands implement the version control support: 


<DL COMPACT>

<DT><KBD>^X</KBD> <KBD>^S</KBD>
<DD>
This is the standard 
<A NAME="IDX1040"></A>
<CODE>emacs</CODE> command that saves a buffer by writing the contents into the associated <CODE>.pl</CODE> file. However, in Ciao/Prolog mode this command can be set to ask the user before saving whether to introduce a changelog entry documenting the changes performed. 

If the buffer does not already contain a comment specifying the 
<A NAME="IDX1041"></A>
type of version control to be performed, and before saving the buffer, the Ciao/Prolog mode prompts the user to choose among the following options: 

<DL COMPACT>

<DT><KBD>q</KBD>
<DD>
Turn off prompting for the introduction of changelog entries for now. 
<A NAME="IDX1042"></A>
<CODE>emacs</CODE> will not ask again while the buffer is loaded, but it will ask again next time you load the buffer. 

<DT><KBD>n</KBD>
<DD>
Turn off version control for this file. A version control comment such as: 

<CODE>:- comment(version_maintenance,off).</CODE> 

is added to the buffer and the file is saved. 
<A NAME="IDX1043"></A>
<CODE>emacs</CODE> will not perform any version control on this file until the line above is removed or modified (i.e., from now on C-x C-s simply saves the buffer). 

<DT><KBD>y</KBD>
<DD>
Turn version control on for this file. 

</DL>

If <KBD>y</KBD> is selected, then the system prompts again regarding how and where the version and patch number information is to be maintained. The following options are available: 

<DL COMPACT>

<DT><CODE>on</CODE>
<DD>
All version control information will be contained within this file. When saving a buffer (C-x C-s) emacs will ask if a changelog entry should be added to the file before saving. If a comment is entered by the user, a new patch number is assigned to it and the comment is added to the file. This patch number will be the one that follows the most recent changelog entry already in the file. This is obviously useful when maintaining version numbers individually for each file. 

<DT><CODE>&#60;directory_name&#62;</CODE>
<DD>
Global version control will be performed coherently on several files. When saving a buffer (C-x C-s) emacs will ask if a changelog entry should be added to the file before saving. If a comment is given, the global patch number (which will be kept in the file: <CODE>&#60;directory_name&#62;/GlobalPatch</CODE>) is atomically incremented and the changelog entry is added to the current file, associated to that patch number. Also, a small entry is added to a file <CODE>&#60;directory_name&#62;/GlobalChangeLog</CODE> which points to the current file. This allows inspecting all changes sequentially by visiting all the files where the changes were made (see C-c C-n). This is obviously useful when maintaining a single thread of version and patch numbers for a set of files. 

<DT><CODE>off</CODE>
<DD>
Turns off version control: C-x C-s then simply saves the file as usual. 

</DL>

<STRONG>Some useful tips:</STRONG> 


<UL>

<LI>If a changelog entry is in fact introduced, the cursor is left at the point in the file where the comment was inserted and the mark is left at the original file point. This allows inspecting (and possibly modifying) the changelog entry, and then returning to the original point in the file by simply typing C-x C-x.

<LI>

<A NAME="IDX1044"></A>
<A NAME="IDX1045"></A>
The first changelog entry is entered by default at the end of the buffer. Later, the changelog entries can be moved anywhere else in the file. New changelog entries are always inserted just above the first changelog entry which appears in the file. 

<LI>The comments in changelog entries can be edited at any time.

<LI>If a changelog entry is moved to another file, and version numbers are shared by several files through a directory, the corresponding file pointer in the <CODE>&#60;directory_name&#62;/GlobalChangeLog</CODE> file needs to be changed also, for the entry to be locatable later using C-c C-n.

</UL>

 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>^S</KBD>
<DD>
Same as C-x C-s except that it forces prompting for inclusion of a changelog entry even if the buffer is unmodified. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>n</KBD>
<DD>
Force a move to a new major/minor version number (the user will be prompted for the new numbers). Only applicable if using directory-based version maintenance. Note that otherwise it suffices with introducing a changelog entry in the file and changing its version number by hand. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>^N</KBD>
<DD>
When a unique version numbering is being maintained across several files, this command allows inspecting all changes sequentially by visiting all the files in which the changes were made: 


<UL>

<LI>If in a source file, find the next changelog entry in the source file, open in another window the corresponding

<A NAME="IDX1046"></A>
<CODE>GlobalChangeLog</CODE> file, and position the cursor at the corresponding entry. This allows browsing the previous and following changes made, which may perhaps reside in other files in the system. 

<LI>If in a

<A NAME="IDX1047"></A>
<CODE>GlobalChangeLog</CODE> file, look for the next entry in the file, and open in another window the source file in which the corresponding comment resides, positioning the corresponding comment at the top of the screen. This allows going through a section of the 
<A NAME="IDX1048"></A>
<CODE>GlobalChangeLog</CODE> file checking all the corresponding comments in the different files in which they occur. 

</UL>

 
</DL>



<H2><A NAME="SEC106" HREF="ciao_toc.html#TOC106">Generating program documentation</A></H2>

<P>
These commands provide some bindings and facilities for generating and viewing the documentation corresponding to the current buffer. The documentation is generated in a temporary directory, which is created automatically. This is quite useful while modifying the documentation for a file, in order to check the output that will be produced, whithout having to set up a documentation directory by hand or to regenerate a large manual of which the file may be a part. 


<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>D</KBD> <KBD>B</KBD>
<DD>
Generate the documentation for the current buffer in the default format. This allows generating a simple document for the current buffer. Basically, it creates a <CODE>SETTINGS</CODE> file, sets <CODE>MAIN</CODE> in <CODE>SETTINGS</CODE> to the current buffer and then generates the documentation in a temporary directory. Note that for generating complex manuals the best approach is to set up a permanent documentation directory with the appropriate <CODE>SETTINGS</CODE> and <CODE>Makefile</CODE> files (see the LPdoc manual). 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>D</KBD> <KBD>F</KBD>
<DD>
Change the default output format used by the LPdoc auto-documenter. It is set by default to <CODE>dvi</CODE> or to the environment variable <CODE>LPDOCFORMAT</CODE> if it is defined. 
<A NAME="IDX1049"></A>
<A NAME="IDX1050"></A>
<A NAME="IDX1051"></A>
<A NAME="IDX1052"></A>
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>D</KBD> <KBD>S</KBD>
<DD>
Visit, or create, the <CODE>SETTINGS</CODE> file (which controls all auto-documenter options). 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>D</KBD> <KBD>G</KBD>
<DD>
Generate the documentation according to <CODE>SETTINGS</CODE> in the default format. This allows generating complex documents but it assumes that <CODE>SETTINGS</CODE> exists and that the options that it contains (main file, component files, paths, etc.) have been set properly. Documentation is generated in a temporary directory. Note however that for generating complex manuals the best approach is to set up a permanent documentation directory with the appropriate <CODE>SETTINGS</CODE> and <CODE>Makefile</CODE> files (see the LPdoc manual). 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>D</KBD> <KBD>V</KBD>
<DD>
Start a viewer on the documentation for the current buffer in the default format. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>D</KBD> <KBD>W</KBD>
<DD>
Change the root working dir used by the LPdoc auto-documenter. It is set by default to a new dir under <CODE>/tmp</CODE> or to the environment variable <CODE>LPDOCWDIR</CODE> if it is defined. 
<A NAME="IDX1053"></A>
<A NAME="IDX1054"></A>
<A NAME="IDX1055"></A>
<A NAME="IDX1056"></A>
</DL>



<H2><A NAME="SEC107" HREF="ciao_toc.html#TOC107">Setting top level preprocessor and documenter executables</A></H2>

<P>
These commands allow 
<A NAME="IDX1057"></A>
<A NAME="IDX1058"></A>
<EM>changing the executables used</EM> when starting a Prolog top-level, the preprocessor, or the auto-documenter. They also allow changing the arguments that these executables take, and changing the path where the libraries reside. In the case of the top-level and preprocessor, this should be done only by users which understand the implications, but it is very useful if several versions of Ciao/Prolog or the preprocessor are available in the system. All these settings can be changed through the 
<A NAME="IDX1059"></A>
<A NAME="IDX1060"></A>
<EM>customize</EM> options in the help menu (see section <A HREF="ciao_12.html#SEC113">Customization</A>). 


<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>S</KBD> <KBD>C</KBD>
<DD>
Change the Ciao/Prolog executable used to run the Prolog-like top level. It is set by default to <CODE>ciao</CODE> or, to the environment variable <CODE>CIAO</CODE> if it is defined. 
<A NAME="IDX1061"></A>
<A NAME="IDX1062"></A>
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>S</KBD> <KBD>^C</KBD>
<DD>
Change the arguments passed to the Ciao/Prolog executable. They are set by default to none or, to the environment variable <CODE>CIAOARGS</CODE> if it is defined. 
<A NAME="IDX1063"></A>
<A NAME="IDX1064"></A>
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>S</KBD> <KBD>P</KBD>
<DD>
Change the executable used to run the Ciao Preprocessor toplevel. It is set by default to <CODE>ciaopp</CODE> or, to the environment variable <CODE>CIAOPP</CODE> if it is defined. 
<A NAME="IDX1065"></A>
<A NAME="IDX1066"></A>
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>S</KBD> <KBD>^P</KBD>
<DD>
Change the arguments passed to the Ciao preprocessor executable. They are set by default to none or to the environment variable <CODE>CIAOPPARGS</CODE> if it is defined. 
<A NAME="IDX1067"></A>
<A NAME="IDX1068"></A>
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>S</KBD> <KBD>L</KBD>
<DD>
Change the location of the Ciao/Prolog library paths (changes the environment variable <CODE>CIAOLIB</CODE>). 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>S</KBD> <KBD>D</KBD>
<DD>
Change the executable used to run the LPdoc auto-documenter. It is set by default to <CODE>lpdoc</CODE> or to the environment variable <CODE>LPDOC</CODE> if it is defined. 
<A NAME="IDX1069"></A>
<A NAME="IDX1070"></A>
<A NAME="IDX1071"></A>
<A NAME="IDX1072"></A>
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>S</KBD> <KBD>^D</KBD>
<DD>
Change the arguments passed to the LPdoc auto-documenter. They are set by default to none or to the environment variable <CODE>LPDOCARGS</CODE> if it is defined. 
<A NAME="IDX1073"></A>
<A NAME="IDX1074"></A>
<A NAME="IDX1075"></A>
<A NAME="IDX1076"></A>
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>S</KBD> <KBD>^L</KBD>
<DD>
Change the path in which the LPdoc library is installed. It is set by default to <CODE>/home/clip/lib</CODE> or to the environment variable <CODE>LPDOCLIB</CODE> if it is defined. 
<A NAME="IDX1077"></A>
<A NAME="IDX1078"></A>
<A NAME="IDX1079"></A>
<A NAME="IDX1080"></A>
</DL>



<H2><A NAME="SEC108" HREF="ciao_toc.html#TOC108">Other commands</A></H2>

<P>
Some other commands which are active in the Ciao/Prolog mode: 


<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>^L</KBD>
<DD>
Recenter the most recently used Ciao/Prolog inferior process buffer (top level or preprocessor). 
</DL>



<H2><A NAME="SEC109" HREF="ciao_toc.html#TOC109">Traditional Prolog Mode Commands</A></H2>

<P>
These commands provide some bindings and facilities for loading programs, which are present in emacs Prolog modes of other Prolog systems (e.g., SICStus). This is useful mainly if the Ciao/Prolog emacs mode is used with such Prolog systems. Note that these commands (
<A NAME="IDX1081"></A>
<CODE>compile/1</CODE> and 
<A NAME="IDX1082"></A>
<CODE>consult/1</CODE>) are deprecated in Ciao (due to the more advanced, separate compilation model in Ciao) and their use in the Ciao top-level is not recommended. 


<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>K</KBD>
<DD>
Compile the entire buffer. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>k</KBD>
<DD>
Compile a given region. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>^K</KBD>
<DD>
Compile the predicate around point. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>C</KBD>
<DD>
Consult the entire buffer. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>c</KBD>
<DD>
Consult a given region. 
</DL>

<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>^C</KBD>
<DD>
Consult the predicate around point. 
</DL>



<H2><A NAME="SEC110" HREF="ciao_toc.html#TOC110">Coexistence with other Prolog interfaces</A></H2>

<P>
As mentioned previously, the Ciao/Prolog 
<A NAME="IDX1083"></A>
<CODE>emacs</CODE> interface can also be used to work with other Prolog or CLP systems. Also, the Ciao/Prolog 
<A NAME="IDX1084"></A>
<CODE>emacs</CODE> interface (<EM>mode</EM>) can coexist with other Prolog-related 
<A NAME="IDX1085"></A>
<CODE>emacs</CODE> interfaces (<EM>modes</EM>) 
<A NAME="IDX1086"></A>
<A NAME="IDX1087"></A>
(such as, e.g., the 
<A NAME="IDX1088"></A>
<CODE>SICStus</CODE> Prolog interface). Only one of the interfaces can be active at a time for a given buffer (i.e., for each given file opened inside 
<A NAME="IDX1089"></A>
<CODE>emacs</CODE>). In order the change a buffer to a given interface, move the cursor to that buffer and type <CODE>M-x ...-mode</CODE> (e.g., for the Ciao/Prolog mode, <CODE>M-x ciao-mode</CODE>). 


<P>
If several Prolog-related 
<A NAME="IDX1090"></A>
<CODE>emacs</CODE> interfaces are loaded, then typically the <EM>last</EM> one to be loaded takes precedence, in the sense that this will be the interface in which 
<A NAME="IDX1091"></A>
<CODE>emacs</CODE> will be set when opening files which have a <CODE>.pl</CODE> ending (this depends a bit on how things are set up in your <CODE>.emacs</CODE> file). 




<H2><A NAME="SEC111" HREF="ciao_toc.html#TOC111">Getting the Ciao/Prolog mode version</A></H2>

<P>
<A NAME="IDX1092"></A>
<A NAME="IDX1093"></A>
<DL COMPACT>

<DT><KBD>^C</KBD> <KBD>v</KBD>
<DD>
Report the version of the emacs Ciao/Prolog mode. 
</DL>

<P>
 




<H2><A NAME="SEC112" HREF="ciao_toc.html#TOC112">Using Ciao/Prolog mode capabilities in standard shells</A></H2>

<P>
The capabilities (commands, coloring, error location, ...) which are active in the Ciao/Prolog <EM>inferior</EM> mode can also be made available in any standard command line shell which is being run within emacs. This can be enabled by going to the buffer in which the shell is running and typing "<KBD>M-x</KBD> <CODE>ciao-inferior-mode</CODE>". This is very useful for example when running the stand-alone compiler, the 
<A NAME="IDX1094"></A>
<CODE>lpdoc</CODE> auto-documenter, or even certain user applications (those that use the standard error message library) in an emacs sub-shell. Turning the Ciao/Prolog inferior mode on on that sub-shell will highlight and color the error messages, and automatically find and visit the locations in the files in which the errors are reported. 


<P>
Finally, one the most useful applications of this is when using the 
<A NAME="IDX1095"></A>
embedded debugger (a version of the debugger which can be embedded into executables so that an interactive debugging session can be triggered at any time while running that executable without needing the top-level shell). If an application is run in a shell buffer which has been set with Ciao inferior mode (<KBD>M-x</KBD> <CODE>ciao-inferior-mode</CODE>) and this application starts emitting output from the embedded debugger (i.e., which contains the embedded debugger and is debugging its code) then the Ciao emacs mode will be able to follow these messages, for example tracking execution in the source level code. This also works if the application is written in a combination of languages, provided the parts written in Ciao are compiled with the embedded debugger package and is thus a covenient way of debugging multi-language applications. The only thing needed is to make sure that the output messages appear in a shell buffer that is in Ciao inferior mode. 
 




<H2><A NAME="SEC113" HREF="ciao_toc.html#TOC113">Customization</A></H2>

<P>
This section explains all variables used in the Ciao/Prolog emacs mode which can be customized by users. Such customization can be performed (in later versions of 
<A NAME="IDX1096"></A>
<CODE>emacs</CODE>) from the 
<A NAME="IDX1097"></A>
<CODE>emacs</CODE> menus (<CODE>Help -&#62; Customize -&#62; Top-level Customization Group</CODE>), or also by adding a <CODE>setq</CODE> expression in the <CODE>.emacs</CODE> file. Such <CODE>setq</CODE> expression should be similar to: 


<P>
<CODE>(setq &#60;variable&#62; &#60;new_value&#62;)</CODE> 


<P>
The following sections list the different variables which can be customized for 
<A NAME="IDX1098"></A>
<CODE>ciao</CODE>, 
<A NAME="IDX1099"></A>
<CODE>ciaopp</CODE> and 
<A NAME="IDX1100"></A>
<CODE>lpdoc</CODE>. 



<UL>
<LI><A HREF="ciao_12.html#SEC114">Ciao general variables</A>
<LI><A HREF="ciao_12.html#SEC115">CiaoPP variables</A>
<LI><A HREF="ciao_12.html#SEC116">LPdoc variables</A>
<LI><A HREF="ciao_12.html#SEC117">Faces used in syntax-based highlighting (coloring)</A>
</UL>



<H3><A NAME="SEC114" HREF="ciao_toc.html#TOC114">Ciao general variables</A></H3>
<DL COMPACT>

<DT><CODE>ciao-clip-logo</CODE> (<EM>file</EM>)
<DD>
CLIP logo image. 
<DT><CODE>ciao-create-sample-file-on-startup</CODE> (<EM>boolean</EM>)
<DD>
When starting the ciao environment using ciao-startup two buffers are opened: one with a Prolog toplevel and another with a sample file. This toggle controls whether the sample file, meant for novice users, is created or not. Set by default, non-novice users will probably want to turn it off. 
<DT><CODE>ciao-indent-width</CODE> (<EM>integer</EM>)
<DD>
Indentation for a new goal. 
<DT><CODE>ciao-library-path</CODE> (<EM>string</EM>)
<DD>
Path to the Ciao/Prolog System libraries (reads/sets the CIAOLIB environment variable ). Typically left empty, since ciao executables know which library to use. 
<DT><CODE>ciao-locate-also-note-messages</CODE> (<EM>boolean</EM>)
<DD>
If set, also when errors of type NOTE are detected the corresponding file is visited and the location marked. It is set to nil by default because sometimes the user prefers not to take any action with respect to these messages (for example, many come from the documenter, indicating that adding certain declarations the documentation would be improved). 
<DT><CODE>ciao-locate-errors-after-run</CODE> (<EM>boolean</EM>)
<DD>
If set, location of any errors produced when running Ciao tools (loading or preprocessing code, running the documenter, etc.) will be initiated automatically. I.e., after running a command, the system will automatically highlight any error messages and the corresponding areas in source files if possible. If set to nil this location will only happen after typing C-c ` or accessing the corresponding menu or tool bar button. 
<DT><CODE>ciao-logo</CODE> (<EM>file</EM>)
<DD>
Ciao logo image. 
<DT><CODE>ciao-main-filename</CODE> (<EM>string</EM>)
<DD>
Name of main file in a multiple module program. Setting thsi is very useful when working on a multi-module program because it allows issuing a load command after working on an inferior module which will reload from the main module, thus also reloading automatically all dependent modules. 
<DT><CODE>ciao-os-shell-prompt-pattern</CODE> (<EM>string</EM>)
<DD>
Regular expression used to describe the shell prompt pattern, so that error location works in inferior shells. This is useful for example so that errors are located when generating documentation (for lpdoc versions up to 1.9), and also when using the embedded debugger or any other application in a shell. It is best to be as precise as possible when defining this so that the standard ciao error location does not get confused. 
<DT><CODE>ciao-query</CODE> (<EM>string</EM>)
<DD>
Query to use in Ciao. Setting this is useful when using a long or complicated query because it saves from having to type it over and over again. It is possible to set that this query will be issued any time a program is (re)loaded. 
<DT><CODE>ciao-system</CODE> (<EM>string</EM>)
<DD>
Name of Ciao or Prolog executable which runs the classical Prolog-like top level. 
<DT><CODE>ciao-system-args</CODE> (<EM>string</EM>)
<DD>
Arguments passed to Ciao/Prolog toplevel executable. 
<DT><CODE>ciao-toplevel-buffer-name</CODE> (<EM>string</EM>)
<DD>
Basic name of the buffer running the Ciao/Prolog toplevel inferior process. 
<DT><CODE>ciao-user-directives</CODE> (<EM>list</EM>)
<DD>
List of identifiers of any directives defined by users which you would like highlighted (colored). Be careful, since wrong entries may affect other syntax highlighting. 
</DL>



<H3><A NAME="SEC115" HREF="ciao_toc.html#TOC115">CiaoPP variables</A></H3>
<DL COMPACT>

<DT><CODE>ciao-ciaopp-buffer-name</CODE> (<EM>string</EM>)
<DD>
Basic name of the buffer running the Ciao preprocessor inferior process. 
<DT><CODE>ciao-ciaopp-system</CODE> (<EM>string</EM>)
<DD>
Name of Ciao preprocessor executable. 
<DT><CODE>ciao-ciaopp-system-args</CODE> (<EM>string</EM>)
<DD>
Arguments passed to Ciao preprocessor executable. 
</DL>



<H3><A NAME="SEC116" HREF="ciao_toc.html#TOC116">LPdoc variables</A></H3>
<DL COMPACT>

<DT><CODE>ciao-lpdoc-buffer-name</CODE> (<EM>string</EM>)
<DD>
Basic name of the buffer running the auto-documenter inferior process. 
<DT><CODE>ciao-lpdoc-docformat</CODE> (<EM>symbol</EM>)
<DD>
Name of default output format used by LPdoc. 
<DT><CODE>ciao-lpdoc-libpath</CODE> (<EM>directory</EM>)
<DD>
Path in which the LPdoc library is installed. 
<DT><CODE>ciao-lpdoc-system</CODE> (<EM>string</EM>)
<DD>
Name of LPdoc auto-documenter executable. 
<DT><CODE>ciao-lpdoc-system-args</CODE> (<EM>string</EM>)
<DD>
Arguments passed to LPdoc executable. 
<DT><CODE>ciao-lpdoc-wdir-root</CODE> (<EM>directory</EM>)
<DD>
Name of root working dir used by LPdoc. 
</DL>



<H3><A NAME="SEC117" HREF="ciao_toc.html#TOC117">Faces used in syntax-based highlighting (coloring)</A></H3>
<DL COMPACT>

<DT><CODE>ciao-face-answer-val</CODE> (<EM>face</EM>)
<DD>
Face to use for answer values in top level. 
<DT><CODE>ciao-face-answer-var</CODE> (<EM>face</EM>)
<DD>
Face to use for answer variables in top level. 
<DT><CODE>ciao-face-builtin-directive</CODE> (<EM>face</EM>)
<DD>
Face to use for the standard directives. 
<DT><CODE>ciao-face-check-assrt</CODE> (<EM>face</EM>)
<DD>
Face to use for check assertions. 
<DT><CODE>ciao-face-checked-assrt</CODE> (<EM>face</EM>)
<DD>
Face to use for checked assertions. 
<DT><CODE>ciao-face-ciaopp-option</CODE> (<EM>face</EM>)
<DD>
Face to use for CiaoPP option menus. 
<DT><CODE>ciao-face-clauseheadname</CODE> (<EM>face</EM>)
<DD>
Face to use for clause head functors. 
<DT><CODE>ciao-face-comment</CODE> (<EM>face</EM>)
<DD>
Face to use for code comments using fixed pitch (double %). 
<DT><CODE>ciao-face-comment-variable-pitch</CODE> (<EM>face</EM>)
<DD>
Face to use for code comments using variable pitch (single %). 
<DT><CODE>ciao-face-concurrency-op</CODE> (<EM>face</EM>)
<DD>
Face to use for concurrency operators. 
<DT><CODE>ciao-face-cut</CODE> (<EM>face</EM>)
<DD>
Face to use for cuts. 
<DT><CODE>ciao-face-debug-breakpoint</CODE> (<EM>face</EM>)
<DD>
Face to use with breakpoints in source debugger. 
<DT><CODE>ciao-face-debug-call</CODE> (<EM>face</EM>)
<DD>
Face to use when at call port in source debugger. 
<DT><CODE>ciao-face-debug-exit</CODE> (<EM>face</EM>)
<DD>
Face to use when at exit port in source debugger. 
<DT><CODE>ciao-face-debug-expansion</CODE> (<EM>face</EM>)
<DD>
Face to use in source debugger when source literal not located. 
<DT><CODE>ciao-face-debug-fail</CODE> (<EM>face</EM>)
<DD>
Face to use when at fail port in source debugger. 
<DT><CODE>ciao-face-debug-mess</CODE> (<EM>face</EM>)
<DD>
Face to use for debug messages. 
<DT><CODE>ciao-face-debug-redo</CODE> (<EM>face</EM>)
<DD>
Face to use when at redo port in source debugger. 
<DT><CODE>ciao-face-entry-assrt</CODE> (<EM>face</EM>)
<DD>
Face to use for entry assertions. 
<DT><CODE>ciao-face-error-mess</CODE> (<EM>face</EM>)
<DD>
Face to use for error messages. 
<DT><CODE>ciao-face-false-assrt</CODE> (<EM>face</EM>)
<DD>
Face to use for false assertions. 
<DT><CODE>ciao-face-highlight-code</CODE> (<EM>face</EM>)
<DD>
Face to use for highlighting code areas (e.g., when locating the code area that an error message refers to). 
<DT><CODE>ciao-face-library-directive</CODE> (<EM>face</EM>)
<DD>
Face to use for directives defined in the library. 
<DT><CODE>ciao-face-lpdoc-bug-comment</CODE> (<EM>face</EM>)
<DD>
Face to use for LPdoc bug comments. 
<DT><CODE>ciao-face-lpdoc-command</CODE> (<EM>face</EM>)
<DD>
Face to use LPdoc commands inserted in documentation text. 
<DT><CODE>ciao-face-lpdoc-comment</CODE> (<EM>face</EM>)
<DD>
Face to use for LPdoc textual comments. 
<DT><CODE>ciao-face-lpdoc-comment-variable-pitch</CODE> (<EM>face</EM>)
<DD>
Face to use for LPdoc textual comments in variable pitch. 
<DT><CODE>ciao-face-lpdoc-crossref</CODE> (<EM>face</EM>)
<DD>
Face to use for LPdoc cross-references. 
<DT><CODE>ciao-face-lpdoc-include</CODE> (<EM>face</EM>)
<DD>
Face to use for LPdoc include commands. 
<DT><CODE>ciao-face-lpdoc-verbatim</CODE> (<EM>face</EM>)
<DD>
Face to use for LPdoc verbatim text. 
<DT><CODE>ciao-face-lpdoc-version-comment</CODE> (<EM>face</EM>)
<DD>
Face to use for LPdoc version comments. 
<DT><CODE>ciao-face-modedef-assrt</CODE> (<EM>face</EM>)
<DD>
Face to use for modedef definitions. 
<DT><CODE>ciao-face-module-directive</CODE> (<EM>face</EM>)
<DD>
Face to use for the module-related directives. 
<DT><CODE>ciao-face-no-answer</CODE> (<EM>face</EM>)
<DD>
Face to use for no answer in top level. 
<DT><CODE>ciao-face-note-mess</CODE> (<EM>face</EM>)
<DD>
Face to use for note messages. 
<DT><CODE>ciao-face-other-mess</CODE> (<EM>face</EM>)
<DD>
Face to use for other messages. 
<DT><CODE>ciao-face-predicate-directive</CODE> (<EM>face</EM>)
<DD>
Face to use for the predicate-related directives. 
<DT><CODE>ciao-face-prompt</CODE> (<EM>face</EM>)
<DD>
Face to use for prompts in top-level and shells. 
<DT><CODE>ciao-face-prop-assrt</CODE> (<EM>face</EM>)
<DD>
Face to use for property definitions. 
<DT><CODE>ciao-face-quoted-atom</CODE> (<EM>face</EM>)
<DD>
Face to use for quoted atoms. 
<DT><CODE>ciao-face-regtype-assrt</CODE> (<EM>face</EM>)
<DD>
Face to use for regtype definitions. 
<DT><CODE>ciao-face-script-header</CODE> (<EM>face</EM>)
<DD>
Face to use for script headers. 
<DT><CODE>ciao-face-startup-mess</CODE> (<EM>face</EM>)
<DD>
Face to use for system splash message. 
<DT><CODE>ciao-face-string</CODE> (<EM>face</EM>)
<DD>
Face to use for strings. 
<DT><CODE>ciao-face-true-assrt</CODE> (<EM>face</EM>)
<DD>
Face to use for true assertions. 
<DT><CODE>ciao-face-trust-assrt</CODE> (<EM>face</EM>)
<DD>
Face to use for trust assertions. 
<DT><CODE>ciao-face-user-directive</CODE> (<EM>face</EM>)
<DD>
Face to use for directives defined by the user (see ciao-user-directives custom variable to add new ones). 
<DT><CODE>ciao-face-variable</CODE> (<EM>face</EM>)
<DD>
Face to use for variables. 
<DT><CODE>ciao-face-warning-mess</CODE> (<EM>face</EM>)
<DD>
Face to use for warning messages. 
<DT><CODE>ciao-face-yes-answer</CODE> (<EM>face</EM>)
<DD>
Face to use for yes answer in top level. 
<DT><CODE>ciao-faces-use-variable-pitch-in-comments</CODE> (<EM>boolean</EM>)
<DD>
Controls whether variable pitch fonts are used when highlighting comments. Unset by default. After changing this you must exit and reinitialize for the change to take effect. 
</DL>
<P>
 




<H2><A NAME="SEC118" HREF="ciao_toc.html#TOC118">Installation of the Ciao/Prolog emacs interface</A></H2>

<P>
If opening a file ending with <CODE>.pl</CODE> puts emacs in another mode (such as 
<A NAME="IDX1101"></A>
<CODE>perl</CODE> mode, which is the --arguably incorrect-- default setting in some 
<A NAME="IDX1102"></A>
<CODE>emacs</CODE> distributions), then either the emacs mode was not installed or the installation settings are being overwritten by other settings in your <CODE>.emacs</CODE> file or in some library. In any case, you can set things manually so that the Ciao/Prolog mode is loaded by default in your system. This can be done by including in your 
<A NAME="IDX1103"></A>
<CODE>.emacs</CODE> file a line such as: 


<P>
<CODE>(load &#60;CIAOLIBDIR&#62;/DOTemacs)</CODE> 


<P>
This loads the above mentioned file from the Ciao library, which contains the following lines (except that the paths are changed during installation to appropriate values for your system): 



<PRE>
;; Ciao/Prolog mode initialization
;; -------------------------------
;; (can normally be used with other Prolog modes and the default prolog.el)
;; 
(setq load-path (cons "&#60;CIAOLIBDIR&#62;" load-path))
(autoload 'run-ciao-toplevel "ciao"
          "Start a Ciao/Prolog top-level sub-process." t)
(autoload 'ciao-startup "ciao"
          "The Ciao/Prolog program development system startup screens." t)
(autoload 'ciao "ciao"
          "Start a Ciao/Prolog top-level sub-process." t)
(autoload 'prolog "ciao"
          "Start a Ciao/Prolog top-level sub-process." t)
(autoload 'run-ciao-preprocessor "ciao"
          "Start a Ciao/Prolog preprocessor sub-process." t)
(autoload 'ciaopp "ciao"
          "Start a Ciao/Prolog preprocessor sub-process." t)
(autoload 'ciao-mode "ciao"
          "Major mode for editing and running Ciao/Prolog" t)
(autoload 'ciao-inferior-mode "ciao"
          "Major mode for running Ciao/Prolog, CiaoPP, LPdoc, etc." t)
(setq auto-mode-alist (cons '("\\.pl$" . ciao-mode) auto-mode-alist))
(setq auto-mode-alist (cons '("\\.pls$" . ciao-mode) auto-mode-alist))
(setq auto-mode-alist (cons '("\\.lpdoc$" . ciao-mode) auto-mode-alist))
(setq completion-ignored-extensions
      (append '(".dep" ".itf" ".po" ".asr" ".cpx")
              completion-ignored-extensions))
;; ------------------------------------------------------------------------
;; In Un*x, the following (or similar) lines should be included in your
;; .cshrc or .profile to find the manuals (the Ciao installation leaves
;; in the Ciao library directory 'DOTcshrc' and 'DOTprofile' files with
;; the right paths which can be included directly in your startup scripts):
;; 
;; setenv INFOPATH /usr/local/info:/usr/info:&#60;LPDOCDIR&#62;
;; ------------------------------------------------------------------------

</PRE>

<P>
If you would like to configure things in a different way, you can also copy the contents of this file to your 
<A NAME="IDX1104"></A>
<CODE>.emacs</CODE> file and make the appropriate changes. For example, if you do not want <CODE>.pl</CODE> files to be put automatically in Ciao/Prolog mode, then comment out (or remove) the line: 


<P>
<CODE>(setq auto-mode-alist</CODE> ... <CODE>)</CODE> 


<P>
You will then need to switch manually to Ciao/Prolog mode by typing <CODE>M-x ciao-mode</CODE> after opening a Prolog file. 


<P>
If you are able to open the Ciao/Prolog menu but the Ciao manuals are not found or the 
<A NAME="IDX1105"></A>
<CODE>ciao</CODE> command (the top-level) is not found when loading <CODE>.pl</CODE> files, the probable cause is that you do not have the Ciao paths in the <CODE>INFOPATH</CODE> and <CODE>MANPATH</CODE> 
<A NAME="IDX1106"></A>
<A NAME="IDX1107"></A>
<EM>environment variables</EM> (whether these variables are set automatically or not for users depends on how the Ciao system was installed). Under Un*x, you can add these paths easily by including the line: 


<P>
<CODE>source &#60;CIAOLIBDIR&#62;/DOTcshrc</CODE> 


<P>
in your <CODE>.login</CODE> or <CODE>.cshrc</CODE> files if you are using 
<A NAME="IDX1108"></A>
<CODE>csh</CODE> (or 
<A NAME="IDX1109"></A>
<CODE>tcsh</CODE>, etc.), or, alternatively, the line: 


<P>
<CODE>. &#60;CIAOLIBDIR&#62;/DOTprofile</CODE> 


<P>
in your <CODE>.login</CODE> or <CODE>.profile</CODE> files if you are using 
<A NAME="IDX1110"></A>
<CODE>sh</CODE> (or 
<A NAME="IDX1111"></A>
<CODE>bash</CODE>, etc.). See the Ciao installation instructions (section <A HREF="ciao_222.html#SEC858">Installing Ciao from the source distribution</A> or section <A HREF="ciao_223.html#SEC867">Installing Ciao from a Win32 binary distribution</A>) for details. 




<H2><A NAME="SEC119" HREF="ciao_toc.html#TOC119">Emacs version compatibility</A></H2>
<P>
This mode is currently being developed within 
<A NAME="IDX1112"></A>
<CODE>GNU emacs</CODE> version 21.2. It should also (hopefully) work with all other 21.XX, 20.XX, and later 19.XX versions. We also try our best to keep things working under 
<A NAME="IDX1113"></A>
<CODE>xemacs</CODE>. 




<H2><A NAME="SEC120" HREF="ciao_toc.html#TOC120">Acknowledgments (ciao.el)</A></H2>

<P>
This code is derived from the 1993 version of the emacs interface for 
<A NAME="IDX1114"></A>
&#38;-Prolog by M. Hermenegildo, itself derived from the original 
<A NAME="IDX1115"></A>
<CODE>prolog.el</CODE> by 
<A NAME="IDX1116"></A>
<A NAME="IDX1117"></A>
<EM>Masanobu Umeda</EM> with changes by 
<A NAME="IDX1118"></A>
<A NAME="IDX1119"></A>
<EM>Johan Andersson</EM>, 
<A NAME="IDX1120"></A>
<A NAME="IDX1121"></A>
<EM>Peter Olin</EM>, 
<A NAME="IDX1122"></A>
<A NAME="IDX1123"></A>
<EM>Mats Carlsson</EM>, and 
<A NAME="IDX1124"></A>
<A NAME="IDX1125"></A>
<EM>Johan Bevemyr</EM> of 
<A NAME="IDX1126"></A>
<A NAME="IDX1127"></A>
<EM>SICS</EM>, Sweden. Other changes also by Daniel Cabeza and Manuel C. Rodriguez. See the changelog for details.


<P><HR><P>
Go to the <A HREF="ciao_1.html">first</A>, <A HREF="ciao_11.html">previous</A>, <A HREF="ciao_13.html">next</A>, <A HREF="ciao_232.html">last</A> section, <A HREF="ciao_toc.html">table of contents</A>.
</BODY>
</HTML>
