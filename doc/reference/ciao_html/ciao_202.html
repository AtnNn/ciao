<HTML>
<HEAD>
<!-- Created by texi2html 1.56k + clip patches and <A href="http://www.clip.dia.fi.upm.es/Software">lpdoc</A> from ciao.texi on 24 April 2004 -->

<LINK rel="stylesheet" href="ciao.css" type="text/css">
<TITLE>The Ciao Prolog System               - Multi barchart widgets</TITLE>
</HEAD>
<BODY> 
Go to the <A HREF="ciao_1.html">first</A>, <A HREF="ciao_201.html">previous</A>, <A HREF="ciao_203.html">next</A>, <A HREF="ciao_241.html">last</A> section, <A HREF="ciao_toc.html">table of contents</A>.
<P><HR><P>


<H1><A NAME="SEC802" HREF="ciao_toc.html#TOC802">Multi barchart widgets</A></H1>
<P>
<A NAME="IDX8828"></A>


<P>
<STRONG>Author(s):</STRONG> Isabel Martín.


<P>
<STRONG>Version:</STRONG> 1.9#342 (2004/4/24, 20:30:39 CEST)


<P>
<STRONG>Version of last change:</STRONG> 1.9#271 (2004/1/1, 14:21:46 CET)


<P>
This module defines predicates which show barchart widgets. These bar charts are somewhat different from the bar charts generated by the predicates in modules genbar1, genbar2, genbar3 and genbar4. Predicates in the present module show different features of each dataset element in one chart at the same time. Each bar chart element is a group of bars, and the element features involve three vectors defined as follows: 



<UL>

<LI>xvector is a list containing the names (atoms) of the bars (n elements). Each bar group will be displayed at uniform intervals.

<LI>yvector is a list that contains m sublists, each one is composed of n elements. The i-sublist contains the y-values of the i-BarAttribute element for all of the XVector elements.

<LI>bar_attributtes is a list containing the appearance features of the bars (m elements). Each element of the list can be partial or complete, which means that you can define as bar attributes only the element name or by setting the element name, its background and foreground color and its stipple pattern.

</UL>

<P>
Other relevant aspects about this widgets are: 



<UL>

<LI>If you don't want to display text in the elements header, barchart title, xaxis title, yaxis title or footer, simply type <CODE>"</CODE> as the value of the argument.

<LI>The bar chart has a legend, and one entry (symbol and label) per feature group bar.

<LI>The user can either select the appearance of the bars (background color, foreground color and stipple style) or not. See the multibar_attribute type definition.

<LI>Data points can have their bar segments displayed in one of the following modes: stacked, aligned, overlapped or overlayed. They user can change the mode clicking in the checkboxes associated to each mode.

<LI>The predicates test whether the format of the arguments is correct. If one or both vectors are empty, the exception <CODE>error2</CODE> will be thrown. If the vectors contains elements but are not correct, the exception <CODE>error5</CODE> or <CODE>error6</CODE> will be thrown, depending on what is incorrect. <CODE>error5</CODE> means that <CODE>XVector</CODE> and each element of <CODE>YVector</CODE> do not contain the same number of elements or that <CODE>YVector</CODE> and <CODE>BarsAtt</CODE> do not contain the same number of elements, while <CODE>error6</CODE> indicates that not all the <CODE>BarsAtt</CODE> elements contain a correct number of attributes.

</UL>

<P>
The examples will help you to understand how these predicates should be called. 



<UL>
<LI><A HREF="ciao_202.html#SEC803">Usage and interface (genmultibar)</A>
<LI><A HREF="ciao_202.html#SEC804">Documentation on exports (genmultibar)</A>
<LI><A HREF="ciao_202.html#SEC805">Documentation on internals (genmultibar)</A>
</UL>



<H2><A NAME="SEC803" HREF="ciao_toc.html#TOC803">Usage and interface (<CODE>genmultibar</CODE>)</A></H2>

<div class="cartouche">

<UL>

<LI><STRONG>Library usage:</STRONG>

<CODE>:- use_module(library(genmultibar)).</CODE>

<LI><STRONG>Exports:</STRONG>


<UL>

<LI><EM>Predicates:</EM>

<A NAME="IDX8829"></A>
<CODE>multibarchart/8</CODE>, 
<A NAME="IDX8830"></A>
<CODE>multibarchart/10</CODE>.

</UL>

<LI><STRONG>Other modules used:</STRONG>


<UL>

<LI><EM>System library modules:</EM>

<A NAME="IDX8831"></A>
<CODE>chartlib/genbar1</CODE>, 
<A NAME="IDX8832"></A>
<CODE>chartlib/bltclass</CODE>, 
<A NAME="IDX8833"></A>
<CODE>chartlib/color_pattern</CODE>, 
<A NAME="IDX8834"></A>
<CODE>chartlib/test_format</CODE>, 
<A NAME="IDX8835"></A>
<CODE>chartlib/install_utils</CODE>, 
<A NAME="IDX8836"></A>
<CODE>lists</CODE>, 
<A NAME="IDX8837"></A>
<CODE>random/random</CODE>.

</UL>

</UL>

</div class="cartouche">



<H2><A NAME="SEC804" HREF="ciao_toc.html#TOC804">Documentation on exports (<CODE>genmultibar</CODE>)</A></H2>
<P>
<A NAME="IDX8838"></A>
<A NAME="IDX8839"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>multibarchart/8:</B>
<DD><A NAME="IDX8840"></A>


<P>
<CODE>multibarchart(Header, BTitle, XTitle, XVector, YTitle, BarsAtts, YVector, Footer)</CODE>


<P>
The x axis limits are autoarrange. The user can call the predicate in two ways. In the first example the user sets the appearance of the bars, in the second one the appearance features will be chosen by the library. 


<P>
Example1: 

<PRE>
multibarchart('This is the Header text',
	'My BarchartTitle',
	'Processors',
	['processor1','processor2','processor3','processor4'],
	'Time (seconds)',
	[['setup time','MediumTurquoise','Plum','pattern2'],
	    ['sleep time','Blue','Green','pattern5'],
	    ['running time','Yellow','Plum','pattern1']],
	[[20,30,40,50],[10,8,5,35],[60,100,20,50]],
	'This is the Footer text').
</PRE>

<P>
Example2: 

<PRE>
multibarchart('This is the Header text',
	'My BarchartTitle',
	'Processors',
	['processor1','processor2','processor3','processor4'],
	'Time (seconds)',
	[['setup time'],['sleep time'],['running time']],
	[[20,30,40,50],[10,8,5,35],[60,100,20,50]],
	'This is the Footer text').
</PRE>

</DL>

<P>
<A NAME="IDX8841"></A>
<A NAME="IDX8842"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>multibarchart/10:</B>
<DD><A NAME="IDX8843"></A>


<P>
<CODE>multibarchart(Header, BT, XT, XVector, YT, BAtts, YVector, YMax, YMin, Footer)</CODE>


<P>
This predicate is quite similar to 
<A NAME="IDX8844"></A>
<CODE>multibarchart/8</CODE>, except in that you can choose limits in the y axis. The part of the bars placed outside the limits will not be plotted. 


<P>
Example2: 

<PRE>
multibarchart('This is the Header text',
	'My BarchartTitle',
	'Processors',
	['processor1','processor2','processor3','processor4'],
	'Time (seconds)',
	[['setup time'],['sleep time'],['running time']],
	[[20,30,40,50],[10,8,5,35],[60,100,20,50]],
	[80],
	[0],
	'This is the Footer text').
</PRE>

</DL>



<H2><A NAME="SEC805" HREF="ciao_toc.html#TOC805">Documentation on internals (<CODE>genmultibar</CODE>)</A></H2>
<P>
<A NAME="IDX8845"></A>
<A NAME="IDX8846"></A>
<DL>
<DT><span class="define">REGTYPE:</span> <B>multibar_attribute/1:</B>
<DD><A NAME="IDX8847"></A>



<PRE>
multibar_attribute([LegendElement]) :-
        atomic(LegendElement).
multibar_attribute([LegendElement,ForegroundColor,BackgroundColor,StipplePattern]) :-
        atom(LegendElement),
        color(ForegroundColor),
        color(BackgroundColor),
        pattern(StipplePattern).
</PRE>

<P>
Defines the attributes of each feature bar along the different datasets. 


<DL COMPACT>

<DT>LegendElement
<DD>
Legend element name. It may be a number or an atom. Every <CODE>LegendElement</CODE> value of the list must be unique. 

<DT><CODE>ForegColor</CODE>
<DD>
It sets the Foreground color of the bar. Its value must be a valid color, otherwise the system will throw an exception. If the argument value is a variable, it gets instantiated to a color chosen by the library. 

<DT><CODE>BackgColor</CODE>
<DD>
It sets the Background color of the bar. Its value must be a valid color, otherwise the system will throw an exception. If the argument value is a variable, it gets instantiated to a color chosen by the library. 

<DT><CODE>SPattern</CODE>
<DD>
It sets the stipple of the bar. Its value must be a valid pattern, otherwise the system will throw an exception. If the argument value is a variable, it gets instantiated to a pattern chosen by the library. 

</DL>
<P>
 


</DL>

<P>
<A NAME="IDX8848"></A>
<A NAME="IDX8849"></A>
<DL>
<DT><span class="define">REGTYPE:</span> <B>xelement/1:</B>
<DD><A NAME="IDX8850"></A>


<P>
 

<PRE>
xelement(Label) :-
        atomic(Label).
</PRE>

<P>
This type defines a dataset label. Although <CODE>Label</CODE> values may be numbers, the will be treated as atoms, So it will be displayed at uniform intervals along the x axis. 


</DL>

<P><HR><P>
Go to the <A HREF="ciao_1.html">first</A>, <A HREF="ciao_201.html">previous</A>, <A HREF="ciao_203.html">next</A>, <A HREF="ciao_241.html">last</A> section, <A HREF="ciao_toc.html">table of contents</A>.
</BODY>
</HTML>
