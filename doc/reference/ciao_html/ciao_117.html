<HTML>
<HEAD>
<!-- Created by texi2html 1.56k + clip patches and <A href="http://www.clip.dia.fi.upm.es/Software">lpdoc</A> from ciao.texi on 12 December 2002 -->

<LINK rel="stylesheet" href="ciao.css" type="text/css">
<TITLE>The Ciao Prolog System               - Interface to daVinci</TITLE>
</HEAD>
<BODY> 
Go to the <A HREF="ciao_1.html">first</A>, <A HREF="ciao_116.html">previous</A>, <A HREF="ciao_118.html">next</A>, <A HREF="ciao_223.html">last</A> section, <A HREF="ciao_toc.html">table of contents</A>.
<P><HR><P>


<H1><A NAME="SEC501" HREF="ciao_toc.html#TOC501">Interface to daVinci</A></H1>
<P>
<A NAME="IDX4965"></A>


<P>
<STRONG>Author(s):</STRONG> Francisco Bueno.


<P>
This library allows connecting a Ciao Prolog application with daVinci V2.X. 


<P>
The communication is based on a two-way channel: after daVinci is started, messages are sent in to it and read in from it on demand by different Prolog predicates. Messages are sent via writing the term as text; messages are received by reading text and returning an atom. Commands sent and answers received are treated as terms from the Prolog side, since for daVinci they are text but have term syntax; the only difficulty lies in strings, for which special Prolog syntax is provided. 


<P>
See accompanying file <CODE>library('davinci/commands')</CODE> for examples on the use of this library. 


<P>
daVinci is developed by U. of Bremen, Germany.



<UL>
<LI><A HREF="ciao_117.html#SEC502">Usage and interface (davinci)</A>
<LI><A HREF="ciao_117.html#SEC503">Documentation on exports (davinci)</A>
<LI><A HREF="ciao_117.html#SEC504">Documentation on internals (davinci)</A>
</UL>



<H2><A NAME="SEC502" HREF="ciao_toc.html#TOC502">Usage and interface (<CODE>davinci</CODE>)</A></H2>

<div class="cartouche">

<UL>

<LI><STRONG>Library usage:</STRONG>

<CODE>:- use_module(library(davinci)).</CODE>

<LI><STRONG>Exports:</STRONG>


<UL>

<LI><EM>Predicates:</EM>

<A NAME="IDX4966"></A>
<CODE>davinci/0</CODE>, 
<A NAME="IDX4967"></A>
<CODE>topd/0</CODE>, 
<A NAME="IDX4968"></A>
<CODE>davinci_get/1</CODE>, 
<A NAME="IDX4969"></A>
<CODE>davinci_get_all/1</CODE>, 
<A NAME="IDX4970"></A>
<CODE>davinci_put/1</CODE>, 
<A NAME="IDX4971"></A>
<CODE>davinci_quit/0</CODE>, 
<A NAME="IDX4972"></A>
<CODE>davinci_ugraph/1</CODE>, 
<A NAME="IDX4973"></A>
<CODE>davinci_lgraph/1</CODE>, 
<A NAME="IDX4974"></A>
<CODE>ugraph2term/2</CODE>, 
<A NAME="IDX4975"></A>
<CODE>formatting/2</CODE>.

</UL>

<LI><STRONG>Other modules used:</STRONG>


<UL>

<LI><EM>System library modules:</EM>

<A NAME="IDX4976"></A>
<CODE>aggregates</CODE>, 
<A NAME="IDX4977"></A>
<CODE>prompt</CODE>, 
<A NAME="IDX4978"></A>
<CODE>errhandle</CODE>, 
<A NAME="IDX4979"></A>
<CODE>format</CODE>, 
<A NAME="IDX4980"></A>
<CODE>read</CODE>, 
<A NAME="IDX4981"></A>
<CODE>graphs/ugraphs</CODE>, 
<A NAME="IDX4982"></A>
<CODE>write</CODE>, 
<A NAME="IDX4983"></A>
<CODE>system</CODE>.

</UL>

</UL>

</div class="cartouche">



<H2><A NAME="SEC503" HREF="ciao_toc.html#TOC503">Documentation on exports (<CODE>davinci</CODE>)</A></H2>
<P>
<A NAME="IDX4984"></A>
<A NAME="IDX4985"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>davinci/0:</B>
<DD><A NAME="IDX4986"></A>


<P>
Start up a daVinci process.


</DL>

<P>
<A NAME="IDX4987"></A>
<A NAME="IDX4988"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>topd/0:</B>
<DD><A NAME="IDX4989"></A>


<P>
A toplevel to send to daVinci commands from standard input.


</DL>

<P>
<A NAME="IDX4990"></A>
<A NAME="IDX4991"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>davinci_get/1:</B>
<DD><A NAME="IDX4992"></A>


<P>
<STRONG>Usage:</STRONG> <CODE>davinci_get(Term)</CODE>

<UL>
<LI><EM>Description:</EM> Get a message from daVinci. <CODE>Term</CODE> is a term corresponding to daVinci's message.

</UL>

</DL>

<P>
<A NAME="IDX4993"></A>
<A NAME="IDX4994"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>davinci_get_all/1:</B>
<DD><A NAME="IDX4995"></A>


<P>
<STRONG>Usage:</STRONG> <CODE>davinci_get_all(List)</CODE>

<UL>
<LI><EM>Description:</EM> Get all pending messages. <CODE>List</CODE> is a list of terms as in <CODE>davinci_get/1</CODE>.

<LI><EM>The following properties should hold upon exit:</EM>

<CODE>List</CODE> is a list.
 (<CODE>basic_props:list/1</CODE>)
</UL>

</DL>

<P>
<A NAME="IDX4996"></A>
<A NAME="IDX4997"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>davinci_put/1:</B>
<DD><A NAME="IDX4998"></A>


<P>
<STRONG>Usage:</STRONG> <CODE>davinci_put(Term)</CODE>

<UL>
<LI><EM>Description:</EM> Send a command to daVinci.

<LI><EM>The following properties should hold at call time:</EM>

<CODE>davinci:davinci_command(Term)</CODE>
 (<CODE>davinci:davinci_command/1</CODE>)
</UL>

</DL>

<P>
<A NAME="IDX4999"></A>
<A NAME="IDX5000"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>davinci_quit/0:</B>
<DD><A NAME="IDX5001"></A>


<P>
Exit daVinci process. All pending answers are lost!


</DL>

<P>
<A NAME="IDX5002"></A>
<A NAME="IDX5003"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>davinci_ugraph/1:</B>
<DD><A NAME="IDX5004"></A>


<P>
<STRONG>Usage:</STRONG> <CODE>davinci_ugraph(Graph)</CODE>

<UL>
<LI><EM>Description:</EM> Send a graph to daVinci.

<LI><EM>The following properties should hold at call time:</EM>

<CODE>davinci:ugraph(Graph)</CODE>
 (<CODE>davinci:ugraph/1</CODE>)
</UL>

</DL>

<P>
<A NAME="IDX5005"></A>
<A NAME="IDX5006"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>davinci_lgraph/1:</B>
<DD><A NAME="IDX5007"></A>


<P>
<STRONG>Usage:</STRONG> <CODE>davinci_lgraph(Graph)</CODE>

<UL>
<LI><EM>Description:</EM> Send a labeled graph to daVinci.

<LI><EM>The following properties should hold at call time:</EM>

<CODE>davinci:lgraph(Graph)</CODE>
 (<CODE>davinci:lgraph/1</CODE>)
</UL>

</DL>

<P>
<A NAME="IDX5008"></A>
<A NAME="IDX5009"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>ugraph2term/2:</B>
<DD><A NAME="IDX5010"></A>


<P>
No further documentation available for this predicate.


</DL>

<P>
<A NAME="IDX5011"></A>
<A NAME="IDX5012"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>formatting/2:</B>
<DD><A NAME="IDX5013"></A>


<P>
No further documentation available for this predicate.


</DL>



<H2><A NAME="SEC504" HREF="ciao_toc.html#TOC504">Documentation on internals (<CODE>davinci</CODE>)</A></H2>
<P>
<A NAME="IDX5014"></A>
<A NAME="IDX5015"></A>
<DL>
<DT><span class="define">PROPERTY:</span> <B>davinci_command/1:</B>
<DD><A NAME="IDX5016"></A>


<P>
Syntactically, a command is a term. Semantically, it has to correspond to a command understood by daVinci. Two terms are interpreted in a special way: <CODE>string/1</CODE> and <CODE>text/1</CODE>: <CODE>string(Term)</CODE> is given to daVinci as <CODE>"Term"</CODE>; <CODE>text(List)</CODE> is given as <CODE>"Term1 Term2 ...Term "</CODE> for each <CODE>Term</CODE> in <CODE>List</CODE>. If your term has functors <CODE>string/1</CODE> and <CODE>text/1</CODE> that you don't want to be interpreted this way, use it twice, i.e., <CODE>string(string(Term))</CODE> is given to daVinci as <CODE>string(Term')</CODE> where <CODE>Term'</CODE> is the interpretation of <CODE>Term</CODE>.


</DL>

<P>
<A NAME="IDX5017"></A>
<A NAME="IDX5018"></A>
<DL>
<DT><span class="define">PROPERTY:</span> <B>ugraph/1:</B>
<DD><A NAME="IDX5019"></A>


<P>
<CODE>ugraph(Graph)</CODE>


<P>
<CODE>Graph</CODE> is a term which denotes an ugraph as in <CODE>library(ugraphs)</CODE>. Vertices of the form <CODE>node/2</CODE> are interpreted in a special way: <CODE>node(Term,List)</CODE> is interpreted as a vertex <CODE>Term</CODE> with attributes <CODE>List</CODE>. <CODE>List</CODE> is a list of terms conforming the syntax of <CODE>davinci_put/1</CODE> and corresponding to daVinci's graph nodes attributes. If your vertex has functor <CODE>node/2</CODE> and you don't want it to be interpreted this way, use it twice, i.e., <CODE>node(node(T1,T2),[])</CODE> is given to daVinci as vertex <CODE>node(T1,T2)</CODE>. A vertex is used both as label and name of daVinci's graph node. daVinci's graph edges have label <CODE>V1-V2</CODE> where <CODE>V1</CODE> is the source and <CODE>V2</CODE> the sink of the edge. There is no support for multiple edges between the same two vertices.


</DL>

<P>
<A NAME="IDX5020"></A>
<A NAME="IDX5021"></A>
<DL>
<DT><span class="define">PROPERTY:</span> <B>lgraph/1:</B>
<DD><A NAME="IDX5022"></A>


<P>
<CODE>lgraph(Graph)</CODE>


<P>
<CODE>Graph</CODE> is a term which denotes a wgraph as in <CODE>library(wgraphs)</CODE>, except that the weights are labels, i.e., they do not need to be integers. Vertices of the form <CODE>node/2</CODE> are interpreted in a special way. Edge labels are converted into special intermediate vertices. Duplicated labels are solved by adding dummy atoms <CODE>"</CODE>. There is no support for multiple edges between the same two vertices.


</DL>

<P><HR><P>
Go to the <A HREF="ciao_1.html">first</A>, <A HREF="ciao_116.html">previous</A>, <A HREF="ciao_118.html">next</A>, <A HREF="ciao_223.html">last</A> section, <A HREF="ciao_toc.html">table of contents</A>.
</BODY>
</HTML>
