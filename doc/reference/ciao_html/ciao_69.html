<HTML>
<HEAD>
<!-- Created by texi2html 1.56k + clip patches and <A href="http://www.clip.dia.fi.upm.es/Software">lpdoc</A> from ciao.texi on 28 November 1999 -->

<LINK rel="stylesheet" href="ciao.css" type="text/css">
<TITLE>The Ciao Prolog System               - Prolog system internal predicates</TITLE>
</HEAD>
<BODY> 
Go to the <A HREF="ciao_1.html">first</A>, <A HREF="ciao_68.html">previous</A>, <A HREF="ciao_70.html">next</A>, <A HREF="ciao_146.html">last</A> section, <A HREF="ciao_toc.html">table of contents</A>.
<P><HR><P>


<H1><A NAME="SEC242" HREF="ciao_toc.html#TOC242">Prolog system internal predicates</A></H1>
<P>
<A NAME="IDX3063"></A>


<P>
<STRONG>Author(s):</STRONG> Manuel Carro, Daniel Cabeza, Mats Carlsson.


<P>
<STRONG>Version:</STRONG> 1.3#120 (1999/11/26, 12:5:17 MET)


<P>
<STRONG>Version of last change:</STRONG> 1.3#94 (1999/11/8, 18:36:7 MET)


<P>
This module implements some miscellaneous predicates which provide access to some internal statistics, special properties of the predicates, etc.



<UL>
<LI><A HREF="ciao_69.html#SEC243">Usage and interface (prolog_sys)</A>
<LI><A HREF="ciao_69.html#SEC244">Documentation on exports (prolog_sys)</A>
<LI><A HREF="ciao_69.html#SEC245">Documentation on internals (prolog_sys)</A>
<LI><A HREF="ciao_69.html#SEC246">Known bugs and planned improvements (prolog_sys)</A>
</UL>



<H2><A NAME="SEC243" HREF="ciao_toc.html#TOC243">Usage and interface (<CODE>prolog_sys</CODE>)</A></H2>

<div class="cartouche">

<UL>

<LI><STRONG>Library usage:</STRONG>

<CODE>:- use_module(library(prolog_sys)).</CODE>

<LI><STRONG>Exports:</STRONG>


<UL>

<LI><EM>Predicates:</EM>

<A NAME="IDX3064"></A>
<CODE>statistics/2</CODE>, 
<A NAME="IDX3065"></A>
<CODE>predicate_property/2</CODE>.

</UL>

</UL>

</div class="cartouche">



<H2><A NAME="SEC244" HREF="ciao_toc.html#TOC244">Documentation on exports (<CODE>prolog_sys</CODE>)</A></H2>
<P>
<A NAME="IDX3066"></A>
<A NAME="IDX3067"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>statistics/0:</B>
<DD><A NAME="IDX3068"></A>


<P>
No further documentation available for this predicate.


<P>
The predicate is of type <EM>implicit</EM>.


</DL>

<P>
<A NAME="IDX3069"></A>
<A NAME="IDX3070"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>statistics/2:</B>
<DD><A NAME="IDX3071"></A>


<P>
<STRONG>Usage 1:</STRONG> <CODE>statistics(Time_option,Time_result)</CODE>

<UL>
<LI><EM>Description:</EM> Gather information about time (either process time or wall time) since last consult or since start of program. Results are returned in milliseconds.

<LI><EM>The following properties should hold at call time:</EM>

<CODE>Time_option</CODE> is any term.
 (<CODE>basic_props:term/1</CODE>)

<CODE>Time_result</CODE> is any term.
 (<CODE>basic_props:term/1</CODE>)
<LI><EM>The following properties hold upon exit:</EM>

Options to get information about execution time. <CODE>Time_option</CODE> must be one of <CODE>runtime</CODE>, <CODE>walltime</CODE>.
 (<CODE>prolog_sys:time_option/1</CODE>)

<CODE>Time_result</CODE> is a two-element list of integers. The first integer is the time since the start of the execution; the second integer is the time since the previous consult to time.
 (<CODE>prolog_sys:time_result/1</CODE>)
</UL>

<P>
<STRONG>Usage 2:</STRONG> <CODE>statistics(Memory_option,Memory_result)</CODE>

<UL>
<LI><EM>Description:</EM> Gather information about memory consumption.

<LI><EM>The following properties should hold at call time:</EM>

<CODE>Memory_option</CODE> is any term.
 (<CODE>basic_props:term/1</CODE>)

<CODE>Memory_result</CODE> is any term.
 (<CODE>basic_props:term/1</CODE>)
<LI><EM>The following properties hold upon exit:</EM>

Options to get information about memory usage.
 (<CODE>prolog_sys:memory_option/1</CODE>)

Result is a two-element list of integers. The first element is the space taken up by the option selected, measured in bytes; the second integer is zero for program space (which grows as ncessary), and the amount of free space otherwise.
 (<CODE>prolog_sys:memory_result/1</CODE>)
</UL>

<P>
<STRONG>Usage 3:</STRONG> <CODE>statistics(Garbage_collection_option,Gc_result)</CODE>

<UL>
<LI><EM>Description:</EM> Gather information about garbage collection.

<LI><EM>The following properties should hold at call time:</EM>

<CODE>Garbage_collection_option</CODE> is any term.
 (<CODE>basic_props:term/1</CODE>)

<CODE>Gc_result</CODE> is any term.
 (<CODE>basic_props:term/1</CODE>)
<LI><EM>The following properties hold upon exit:</EM>

Options to get information about garbage collection.
 (<CODE>prolog_sys:garbage_collection_option/1</CODE>)

<CODE>Gc_result</CODE> is a tree-element list of integers, related to 
<A NAME="IDX3072"></A>
garbage collection and 
<A NAME="IDX3073"></A>
memory management. When <CODE>stack_shifts</CODE> is selected, the first one is the number of shifts (reallocations) of the local stack; the second is the number of shifts of the trail, and the third is the time spent in these shifts. When <CODE>garbage_collection</CODE> is selected, the numbers are, respectively, the number of garbage collections performed, the number of bytes freed, and the time spent in garbage collection.
 (<CODE>prolog_sys:gc_result/1</CODE>)
</UL>

<P>
<STRONG>Usage 4:</STRONG> <CODE>statistics(Symbol_option,Symbol_result)</CODE>

<UL>
<LI><EM>Description:</EM> Gather information about number of symbols and predicates.

<LI><EM>The following properties should hold at call time:</EM>

<CODE>Symbol_option</CODE> is any term.
 (<CODE>basic_props:term/1</CODE>)

<CODE>Symbol_result</CODE> is any term.
 (<CODE>basic_props:term/1</CODE>)
<LI><EM>The following properties hold upon exit:</EM>

Option to get information about the number of symbols in the program.
 (<CODE>prolog_sys:symbol_option/1</CODE>)

<CODE>Symbol_result</CODE> is a two-element list of integers. The first one is the number of atom, functor, and predicate names in the symbol table. The second is the number of predicates known to be defined (although maybe without clauses).
 (<CODE>prolog_sys:symbol_result/1</CODE>)
</UL>

</DL>

<P>
<A NAME="IDX3074"></A>
<A NAME="IDX3075"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>predicate_property/2:</B>
<DD><A NAME="IDX3076"></A>


<P>
<STRONG>Usage:</STRONG> <CODE>predicate_property(Head,Property)</CODE>

<UL>
<LI><EM>Description:</EM> The predicate with clause <CODE>Head</CODE> is <CODE>Property</CODE>.

<LI><EM>The following properties should hold at call time:</EM>

<CODE>Head</CODE> is any term.
 (<CODE>basic_props:term/1</CODE>)

<CODE>Property</CODE> is any term.
 (<CODE>basic_props:term/1</CODE>)
<LI><EM>The following properties hold upon exit:</EM>

<CODE>Head</CODE> is a term which represents a goal, i.e., an atom or a structure.
 (<CODE>basic_props:callable/1</CODE>)

<CODE>Property</CODE> is an atom.
 (<CODE>basic_props:atm/1</CODE>)
</UL>

</DL>

<P>
<A NAME="IDX3077"></A>
<A NAME="IDX3078"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>current_atom/1:</B>
<DD><A NAME="IDX3079"></A>


<P>
No further documentation available for this predicate.


<P>
The predicate is of type <EM>implicit</EM>.


</DL>

<P>
<A NAME="IDX3080"></A>
<A NAME="IDX3081"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>current_predicate/2:</B>
<DD><A NAME="IDX3082"></A>


<P>
No further documentation available for this predicate.


<P>
The predicate is of type <EM>implicit</EM>.


</DL>

<P>
<A NAME="IDX3083"></A>
<A NAME="IDX3084"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>garbage_collect/0:</B>
<DD><A NAME="IDX3085"></A>


<P>
No further documentation available for this predicate.


<P>
The predicate is of type <EM>implicit</EM>.


</DL>



<H2><A NAME="SEC245" HREF="ciao_toc.html#TOC245">Documentation on internals (<CODE>prolog_sys</CODE>)</A></H2>
<P>
<A NAME="IDX3086"></A>
<A NAME="IDX3087"></A>
<DL>
<DT><span class="define">REGTYPE:</span> <B>time_option/1:</B>
<DD><A NAME="IDX3088"></A>


<P>
<STRONG>Usage:</STRONG> <CODE>time_option(M)</CODE>

<UL>
<LI><EM>Description:</EM> Options to get information about execution time. <CODE>M</CODE> must be one of <CODE>runtime</CODE>, <CODE>walltime</CODE>.

<LI><EM>The following properties hold globally:</EM>

Defines a regular type.
 (<CODE>basic_props:regtype/1</CODE>)
</UL>

</DL>

<P>
<A NAME="IDX3089"></A>
<A NAME="IDX3090"></A>
<DL>
<DT><span class="define">REGTYPE:</span> <B>memory_option/1:</B>
<DD><A NAME="IDX3091"></A>


<P>
<STRONG>Usage:</STRONG> <CODE>memory_option(M)</CODE>

<UL>
<LI><EM>Description:</EM> Options to get information about memory usage.

<LI><EM>The following properties hold globally:</EM>

Defines a regular type.
 (<CODE>basic_props:regtype/1</CODE>)
</UL>

</DL>

<P>
<A NAME="IDX3092"></A>
<A NAME="IDX3093"></A>
<DL>
<DT><span class="define">REGTYPE:</span> <B>garbage_collection_option/1:</B>
<DD><A NAME="IDX3094"></A>


<P>
<STRONG>Usage:</STRONG> <CODE>garbage_collection_option(M)</CODE>

<UL>
<LI><EM>Description:</EM> Options to get information about garbage collection.

<LI><EM>The following properties hold globally:</EM>

Defines a regular type.
 (<CODE>basic_props:regtype/1</CODE>)
</UL>

</DL>

<P>
<A NAME="IDX3095"></A>
<A NAME="IDX3096"></A>
<DL>
<DT><span class="define">REGTYPE:</span> <B>symbol_option/1:</B>
<DD><A NAME="IDX3097"></A>


<P>
<STRONG>Usage:</STRONG> <CODE>symbol_option(M)</CODE>

<UL>
<LI><EM>Description:</EM> Option to get information about the number of symbols in the program.

<LI><EM>The following properties hold globally:</EM>

Defines a regular type.
 (<CODE>basic_props:regtype/1</CODE>)
</UL>

</DL>

<P>
<A NAME="IDX3098"></A>
<A NAME="IDX3099"></A>
<DL>
<DT><span class="define">REGTYPE:</span> <B>time_result/1:</B>
<DD><A NAME="IDX3100"></A>


<P>
<STRONG>Usage:</STRONG> <CODE>time_result(Result)</CODE>

<UL>
<LI><EM>Description:</EM> <CODE>Result</CODE> is a two-element list of integers. The first integer is the time since the start of the execution; the second integer is the time since the previous consult to time.

<LI><EM>The following properties hold globally:</EM>

Defines a regular type.
 (<CODE>basic_props:regtype/1</CODE>)
</UL>

</DL>

<P>
<A NAME="IDX3101"></A>
<A NAME="IDX3102"></A>
<DL>
<DT><span class="define">REGTYPE:</span> <B>memory_result/1:</B>
<DD><A NAME="IDX3103"></A>


<P>
<STRONG>Usage:</STRONG> <CODE>memory_result(Result)</CODE>

<UL>
<LI><EM>Description:</EM> Result is a two-element list of integers. The first element is the space taken up by the option selected, measured in bytes; the second integer is zero for program space (which grows as ncessary), and the amount of free space otherwise.

<LI><EM>The following properties hold globally:</EM>

Defines a regular type.
 (<CODE>basic_props:regtype/1</CODE>)
</UL>

</DL>

<P>
<A NAME="IDX3104"></A>
<A NAME="IDX3105"></A>
<DL>
<DT><span class="define">REGTYPE:</span> <B>gc_result/1:</B>
<DD><A NAME="IDX3106"></A>


<P>
<STRONG>Usage:</STRONG> <CODE>gc_result(Result)</CODE>

<UL>
<LI><EM>Description:</EM> <CODE>Result</CODE> is a tree-element list of integers, related to

<A NAME="IDX3107"></A>
garbage collection and 
<A NAME="IDX3108"></A>
memory management. When <CODE>stack_shifts</CODE> is selected, the first one is the number of shifts (reallocations) of the local stack; the second is the number of shifts of the trail, and the third is the time spent in these shifts. When <CODE>garbage_collection</CODE> is selected, the numbers are, respectively, the number of garbage collections performed, the number of bytes freed, and the time spent in garbage collection. 
<LI><EM>The following properties hold globally:</EM>

Defines a regular type.
 (<CODE>basic_props:regtype/1</CODE>)
</UL>

</DL>

<P>
<A NAME="IDX3109"></A>
<A NAME="IDX3110"></A>
<DL>
<DT><span class="define">REGTYPE:</span> <B>symbol_result/1:</B>
<DD><A NAME="IDX3111"></A>


<P>
<STRONG>Usage:</STRONG> <CODE>symbol_result(Result)</CODE>

<UL>
<LI><EM>Description:</EM> <CODE>Result</CODE> is a two-element list of integers. The first one is the number of atom, functor, and predicate names in the symbol table. The second is the number of predicates known to be defined (although maybe without clauses).

<LI><EM>The following properties hold globally:</EM>

Defines a regular type.
 (<CODE>basic_props:regtype/1</CODE>)
</UL>

</DL>



<H2><A NAME="SEC246" HREF="ciao_toc.html#TOC246">Known bugs and planned improvements (<CODE>prolog_sys</CODE>)</A></H2>


<UL>

<LI>

The space used by the process is not measured here: process data, code, and stack also take up memory. The memory reported for atoms is not what is actually used, but the space used up by the hash table (which is enlarged as needed).
</UL>

<P><HR><P>
Go to the <A HREF="ciao_1.html">first</A>, <A HREF="ciao_68.html">previous</A>, <A HREF="ciao_70.html">next</A>, <A HREF="ciao_146.html">last</A> section, <A HREF="ciao_toc.html">table of contents</A>.
</BODY>
</HTML>
