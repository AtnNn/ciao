<HTML>
<HEAD>
<!-- Created by texi2html 1.56k + clip patches and <A href="http://www.clip.dia.fi.upm.es/Software">lpdoc</A> from ciao.texi on 5 October 2004 -->

<LINK rel="stylesheet" href="ciao.css" type="text/css">
<TITLE>The Ciao Prolog System               - XDR handle library</TITLE>
</HEAD>
<BODY> 
Go to the <A HREF="ciao_1.html">first</A>, <A HREF="ciao_192.html">previous</A>, <A HREF="ciao_194.html">next</A>, <A HREF="ciao_243.html">last</A> section, <A HREF="ciao_toc.html">table of contents</A>.
<P><HR><P>


<H1><A NAME="SEC745" HREF="ciao_toc.html#TOC745">XDR handle library</A></H1>
<P>
<A NAME="IDX8366"></A>


<P>
<STRONG>Author(s):</STRONG> José Manuel Gómez Pérez.


<P>
This library offers facilities to enable users to setup preferences on the values an eventual XML document may take. XML documents are specified by XDR documents (eXternal Data Representation standard), in a way conceptually similar to that of objects and classes in object oriented programming. These facilities allow to take as input an XDR Schema defining the class of documents of interest, and establish a dialogue with the user via an HTML form that allows the user to setup preferences to select sub-classes of documents (those which satisfy the preferences). The preferences are the output of the process and may be in the form of XPath expressions, for example, as can be seen in the example attached in the "examples" directory. 



<UL>
<LI><A HREF="ciao_193.html#SEC746">Usage and interface (xdr_handle)</A>
<LI><A HREF="ciao_193.html#SEC747">Documentation on exports (xdr_handle)</A>
</UL>



<H2><A NAME="SEC746" HREF="ciao_toc.html#TOC746">Usage and interface (<CODE>xdr_handle</CODE>)</A></H2>

<div class="cartouche">

<UL>

<LI><STRONG>Library usage:</STRONG>

<CODE>:- use_module(library(xdr_handle)).</CODE>

<LI><STRONG>Exports:</STRONG>


<UL>

<LI><EM>Predicates:</EM>

<A NAME="IDX8367"></A>
<CODE>xdr_tree/3</CODE>, 
<A NAME="IDX8368"></A>
<CODE>xdr_tree/1</CODE>, 
<A NAME="IDX8369"></A>
<CODE>xdr2html/4</CODE>, 
<A NAME="IDX8370"></A>
<CODE>xdr2html/2</CODE>, 
<A NAME="IDX8371"></A>
<CODE>unfold_tree/2</CODE>, 
<A NAME="IDX8372"></A>
<CODE>unfold_tree_dic/3</CODE>, 
<A NAME="IDX8373"></A>
<CODE>xdr_xpath/2</CODE>.

<LI><EM>Regular Types:</EM>

<A NAME="IDX8374"></A>
<CODE>xdr_node/1</CODE>.

</UL>

<LI><STRONG>Other modules used:</STRONG>


<UL>

<LI><EM>System library modules:</EM>

<A NAME="IDX8375"></A>
<CODE>pillow/http</CODE>, 
<A NAME="IDX8376"></A>
<CODE>pillow/html</CODE>, 
<A NAME="IDX8377"></A>
<CODE>pillow/pillow_types</CODE>, 
<A NAME="IDX8378"></A>
<CODE>xdr_handle/xdr_types</CODE>, 
<A NAME="IDX8379"></A>
<CODE>aggregates</CODE>, 
<A NAME="IDX8380"></A>
<CODE>lists</CODE>, 
<A NAME="IDX8381"></A>
<CODE>terms</CODE>.

</UL>

</UL>

</div class="cartouche">



<H2><A NAME="SEC747" HREF="ciao_toc.html#TOC747">Documentation on exports (<CODE>xdr_handle</CODE>)</A></H2>
<P>
<A NAME="IDX8382"></A>
<A NAME="IDX8383"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>xdr_tree/3:</B>
<DD><A NAME="IDX8384"></A>


<P>
<STRONG>Usage:</STRONG> <CODE>xdr_tree(XDR_url, XDR_tree, XDR_id)</CODE>

<UL>
<LI><EM>Description:</EM> Parses an XDR (External Data Representation Standard) located at an url <CODE>XDR_url</CODE> into a tree structured Prolog term <CODE>XDR_tree</CODE>. It also returns an identifier of the XDR_tree <CODE>XDR_id</CODE> corresponding to the sequence of nodes in the tree (this is intended to be a hook to use in CGI applications).

<LI><EM>The following properties should hold at call time:</EM>

<CODE>XDR_url</CODE> is currently a term which is not a free variable.
 (<CODE>term_typing:nonvar/1</CODE>)

<CODE>XDR_tree</CODE> is a free variable.
 (<CODE>term_typing:var/1</CODE>)

<CODE>XDR_id</CODE> is a free variable.
 (<CODE>term_typing:var/1</CODE>)

<CODE>XDR_url</CODE> specifies a URL.
 (<CODE>pillow_types:url_term/1</CODE>)

<CODE>XDR_tree</CODE> specifies an XDR document.
 (<CODE>xdr_types:xdr/1</CODE>)

<CODE>XDR_id</CODE> is an integer.
 (<CODE>basic_props:int/1</CODE>)
</UL>

</DL>

<P>
<A NAME="IDX8385"></A>
<A NAME="IDX8386"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>xdr_tree/1:</B>
<DD><A NAME="IDX8387"></A>


<P>
<STRONG>Usage:</STRONG> <CODE>xdr_tree(XDR_tree)</CODE>

<UL>
<LI><EM>Description:</EM> Checks the correctness of an XDR tree <CODE>XDR_tree</CODE>.

<LI><EM>The following properties should hold at call time:</EM>

<CODE>XDR_tree</CODE> specifies an XDR document.
 (<CODE>xdr_types:xdr/1</CODE>)
</UL>

</DL>

<P>
<A NAME="IDX8388"></A>
<A NAME="IDX8389"></A>
<DL>
<DT><span class="define">REGTYPE:</span> <B>xdr_node/1:</B>
<DD><A NAME="IDX8390"></A>


<P>
<STRONG>Usage:</STRONG> <CODE>xdr_node(XDR_node)</CODE>

<UL>
<LI><EM>Description:</EM> <CODE>XDR_node</CODE> is a XDR tree node.

</UL>

</DL>

<P>
<A NAME="IDX8391"></A>
<A NAME="IDX8392"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>xdr2html/4:</B>
<DD><A NAME="IDX8393"></A>


<P>
<STRONG>Usage:</STRONG> <CODE>xdr2html(XDRTree, HTMLOutput, UnfoldedTree, Dic)</CODE>

<UL>
<LI><EM>Description:</EM> Receives an XDR tree <CODE>XDRTree</CODE> and produces the corresponding HTML code <CODE>HTMLOutput</CODE>, an equivalente unfolded plain tree <CODE>UnfoldedTree</CODE> and a control dictionary <CODE>Dic</CODE> to hold a reference the evenutal fom objects.

<LI><EM>The following properties should hold at call time:</EM>

<CODE>XDRTree</CODE> is currently a term which is not a free variable.
 (<CODE>term_typing:nonvar/1</CODE>)

<CODE>HTMLOutput</CODE> is a free variable.
 (<CODE>term_typing:var/1</CODE>)

<CODE>UnfoldedTree</CODE> is a free variable.
 (<CODE>term_typing:var/1</CODE>)

<CODE>Dic</CODE> is a free variable.
 (<CODE>term_typing:var/1</CODE>)

<CODE>XDRTree</CODE> specifies an XDR document.
 (<CODE>xdr_types:xdr/1</CODE>)

<CODE>HTMLOutput</CODE> is a term representing HTML code.
 (<CODE>pillow_types:html_term/1</CODE>)

<CODE>UnfoldedTree</CODE> specifies an XDR document.
 (<CODE>xdr_types:xdr/1</CODE>)

<CODE>Dic</CODE> is a dictionary of values of the attributes of a form. It is a list of <CODE>form_assignment</CODE>
 (<CODE>pillow_types:form_dict/1</CODE>)
</UL>

</DL>

<P>
<A NAME="IDX8394"></A>
<A NAME="IDX8395"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>xdr2html/2:</B>
<DD><A NAME="IDX8396"></A>


<P>
<STRONG>Usage:</STRONG> <CODE>xdr2html(XDRTree, HTMLOutput)</CODE>

<UL>
<LI><EM>Description:</EM> Receives an XDR tree <CODE>XDRTree</CODE> and produces the corresponding HTML code <CODE>HTMLOutput</CODE>. This html code is intended to be part of a form used as a means by which an eventual user can give value to an instance of the XDR, i.e. an XML element.

<LI><EM>The following properties should hold at call time:</EM>

<CODE>XDRTree</CODE> is currently a term which is not a free variable.
 (<CODE>term_typing:nonvar/1</CODE>)

<CODE>HTMLOutput</CODE> is a free variable.
 (<CODE>term_typing:var/1</CODE>)

<CODE>XDRTree</CODE> specifies an XDR document.
 (<CODE>xdr_types:xdr/1</CODE>)

<CODE>HTMLOutput</CODE> is a term representing HTML code.
 (<CODE>pillow_types:html_term/1</CODE>)
</UL>

</DL>

<P>
<A NAME="IDX8397"></A>
<A NAME="IDX8398"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>unfold_tree/2:</B>
<DD><A NAME="IDX8399"></A>


<P>
<STRONG>Usage:</STRONG> <CODE>unfold_tree(XDRTree, UFT)</CODE>

<UL>
<LI><EM>Description:</EM> Obtains an unfolded XDR tree <CODE>UFT</CODE> from a standard XDR tree <CODE>XDRTree</CODE>, i.e. an XDR tree where all references to XDR elements have been substituted with the elements themselves. Especially useful for eventual generation of equivalent XPATH expressions, (see example).

<LI><EM>The following properties should hold at call time:</EM>

<CODE>XDRTree</CODE> is currently a term which is not a free variable.
 (<CODE>term_typing:nonvar/1</CODE>)

<CODE>UFT</CODE> is a free variable.
 (<CODE>term_typing:var/1</CODE>)

<CODE>XDRTree</CODE> specifies an XDR document.
 (<CODE>xdr_types:xdr/1</CODE>)

<CODE>UFT</CODE> specifies an XDR document.
 (<CODE>xdr_types:xdr/1</CODE>)
</UL>

</DL>

<P>
<A NAME="IDX8400"></A>
<A NAME="IDX8401"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>unfold_tree_dic/3:</B>
<DD><A NAME="IDX8402"></A>


<P>
<STRONG>Usage:</STRONG> <CODE>unfold_tree_dic(XDRTree, UFT, Dic)</CODE>

<UL>
<LI><EM>Description:</EM> Obtains an unfolded XDR tree <CODE>UFT</CODE> and a form dictionary <CODE>Dic</CODE> from a standard XDR tree <CODE>XDRTree</CODE>. Especially useful for HTML form data exchange (see example).

<LI><EM>The following properties should hold at call time:</EM>

<CODE>XDRTree</CODE> is currently a term which is not a free variable.
 (<CODE>term_typing:nonvar/1</CODE>)

<CODE>UFT</CODE> is a free variable.
 (<CODE>term_typing:var/1</CODE>)

<CODE>Dic</CODE> is a free variable.
 (<CODE>term_typing:var/1</CODE>)

<CODE>XDRTree</CODE> specifies an XDR document.
 (<CODE>xdr_types:xdr/1</CODE>)

<CODE>UFT</CODE> specifies an XDR document.
 (<CODE>xdr_types:xdr/1</CODE>)

<CODE>Dic</CODE> is a dictionary of values of the attributes of a form. It is a list of <CODE>form_assignment</CODE>
 (<CODE>pillow_types:form_dict/1</CODE>)
</UL>

</DL>

<P>
<A NAME="IDX8403"></A>
<A NAME="IDX8404"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>xdr_xpath/2:</B>
<DD><A NAME="IDX8405"></A>


<P>
<STRONG>Usage:</STRONG> <CODE>xdr_xpath(XDRTree, XPath)</CODE>

<UL>
<LI><EM>Description:</EM> Produces an XPATH expression <CODE>XPath</CODE> from an XDR tree <CODE>XDRTree</CODE>. If the given XDR tree has no definite value the xpath expression produced will be empty

<LI><EM>The following properties should hold at call time:</EM>

<CODE>XDRTree</CODE> is currently a term which is not a free variable.
 (<CODE>term_typing:nonvar/1</CODE>)

<CODE>XPath</CODE> is a free variable.
 (<CODE>term_typing:var/1</CODE>)

<CODE>XDRTree</CODE> specifies an XDR document.
 (<CODE>xdr_types:xdr/1</CODE>)

<CODE>XPath</CODE> is an atom.
 (<CODE>basic_props:atm/1</CODE>)
</UL>

</DL>

<P><HR><P>
Go to the <A HREF="ciao_1.html">first</A>, <A HREF="ciao_192.html">previous</A>, <A HREF="ciao_194.html">next</A>, <A HREF="ciao_243.html">last</A> section, <A HREF="ciao_toc.html">table of contents</A>.
</BODY>
</HTML>
