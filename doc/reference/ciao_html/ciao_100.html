<HTML>
<HEAD>
<!-- Created by texi2html 1.56k + clip patches and <A href="http://www.clip.dia.fi.upm.es/Software">lpdoc</A> from ciao.texi on 26 October 2001 -->

<LINK rel="stylesheet" href="ciao.css" type="text/css">
<TITLE>The Ciao Prolog System               - Andorra execution</TITLE>
</HEAD>
<BODY> 
Go to the <A HREF="ciao_1.html">first</A>, <A HREF="ciao_99.html">previous</A>, <A HREF="ciao_101.html">next</A>, <A HREF="ciao_218.html">last</A> section, <A HREF="ciao_toc.html">table of contents</A>.
<P><HR><P>


<H1><A NAME="SEC404" HREF="ciao_toc.html#TOC404">Andorra execution</A></H1>
<P>
<A NAME="IDX4363"></A>


<P>
<STRONG>Author(s):</STRONG> Claudio Vaucheret, Francisco Bueno.


<P>
This package allows modules execution under the Basic Andorra Model [BibRef: andorra-principle]. The model classifies goals as <EM>determinate</EM>, if at most one clause matches the goal, or nondeterminate, otherwise. In this model a goal is delayed until either it becomes determinate or it becomes the leftmost goal and no determinate goal is available. The implementation of this selection rule is based on the use of attributed variables [BibRef: holzbaur-plilp92,holzbaur-phd].  In order to test determinacy, we verify only the heads of clauses and builtins in the bodies of clauses before the first cut. By default, when a goal is determinate, is detected dynamically, regarding the non matching clauses each time a variable appearing in the goal is instantiated.  In addition, efficiency can be improved by user directives setting the determinacy conditions.  The directive:  <CODE>:- determinate(Pred,Cond)</CODE>  states than the predicate <CODE>Pred</CODE> is determinate when <CODE>Cond</CODE> holds. <CODE>Cond</CODE> can be a single condition or conjunctions and disjunctions of conditions. A single condition can be:  

<OL>
 
<LI><CODE>ground(A)</CODE> where A is an argument of <CODE>Pred</CODE>

<LI><CODE>nonvar(A)</CODE> where A is an argument of <CODE>Pred</CODE>

<LI><CODE>instatiated(A,Path)</CODE> which means that the subterm of <CODE>A</CODE> addressed by <CODE>Path</CODE> is not var. <CODE>A</CODE> is an argument of <CODE>Pred</CODE> and <CODE>Path</CODE> is a list of integer numbers describing a path to the subterm regarding the whole term A as a tree. For example, <CODE>instantiated(f(g(X),h(i(Z),Y)),[2,1])</CODE> tests whether <CODE>i(Z)</CODE> is not var.

<LI><CODE>Term1 ?\= Term2</CODE> which means "if the terms Term1 and Term2 are instantiated they do not unify". <CODE>Term1</CODE> and <CODE>Term2</CODE> can be either any argument of <CODE>Pred</CODE> or a term <CODE>term(V,Path)</CODE> which refers to the subterm of <CODE>V</CODE> addressed by <CODE>Path</CODE>.

<LI><CODE>Term1 ?= Term2</CODE> which means "if the terms Term1 and Term2 are instantiated they unify"

<LI>any test that does not unify variables, ( <CODE>==/2</CODE>, <CODE>\==/2</CODE>, <CODE>atomic/1</CODE>).

</OL>

<P>
  For example  

<PRE>
:- determinate(member(A,B,C), ( A ?= term(B,[1])  ; C?\=[_|_]) ).

member(A,[A|B],B).
member(A,[B|C],[B|D]) :-
        A==B,
        member(A,C,D).
</PRE>

<P>
  In this example, the directive states than the call <CODE>member(A,B,C)</CODE> is determinate when <CODE>A</CODE> doesn't unify to the first argument of <CODE>B</CODE> or <CODE>C</CODE> doesn't unify to <CODE>[_|_]</CODE>.   It is possible to preserve the computation rule for calls to predicates defined in other modules. These modules should obviously also use this package. In addition <EM>all</EM> predicates from such modules should imported, i.e., the directive <CODE>:- use_module(module)</CODE>, should be used in this case instead of <CODE>:- use_module(module,[...])</CODE>. Otherwise calls to predicates outside the module will only be called when they became the leftmost goal.   



<UL>
<LI><A HREF="ciao_100.html#SEC405">Usage and interface (andorra)</A>
</UL>



<H2><A NAME="SEC405" HREF="ciao_toc.html#TOC405">Usage and interface (<CODE>andorra</CODE>)</A></H2>

<div class="cartouche">

<UL>

<LI><STRONG>Library usage:</STRONG>

<CODE>:- use_package(andorra).</CODE>

or

<CODE>:- module(...,...,[andorra]).</CODE>

<LI><STRONG>New operators defined:</STRONG>

<A NAME="IDX4364"></A>
<CODE>?\=/2</CODE> [700,xfx], 
<A NAME="IDX4365"></A>
<CODE>?=/2</CODE> [700,xfx].
</UL>

</div class="cartouche">

<P><HR><P>
Go to the <A HREF="ciao_1.html">first</A>, <A HREF="ciao_99.html">previous</A>, <A HREF="ciao_101.html">next</A>, <A HREF="ciao_218.html">last</A> section, <A HREF="ciao_toc.html">table of contents</A>.
</BODY>
</HTML>
