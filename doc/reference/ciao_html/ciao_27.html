<HTML>
<HEAD>
<!-- Created by texi2html 1.56k + clip patches and <A href="http://www.clip.dia.fi.upm.es/Software">lpdoc</A> from ciao.texi on 26 January 2000 -->

<LINK rel="stylesheet" href="ciao.css" type="text/css">
<TITLE>The Ciao Prolog System               - Changing system behaviour and various flags</TITLE>
</HEAD>
<BODY> 
Go to the <A HREF="ciao_1.html">first</A>, <A HREF="ciao_26.html">previous</A>, <A HREF="ciao_28.html">next</A>, <A HREF="ciao_148.html">last</A> section, <A HREF="ciao_toc.html">table of contents</A>.
<P><HR><P>


<H1><A NAME="SEC115" HREF="ciao_toc.html#TOC115">Changing system behaviour and various flags</A></H1>
<P>
<A NAME="IDX1454"></A>


<P>
<STRONG>Author(s):</STRONG> Daniel Cabeza, Mats Carlsson.


<P>
<STRONG>Version:</STRONG> 1.5#1 (1999/11/29, 17:12:34 MET)


<P>
<A NAME="IDX1455"></A>
<A NAME="IDX1456"></A>
Flags define some parameters of the system and control the behavior of system or library predicates. Each flag has a name and an associated predefined value, and except some system flags which are fixed in general their associated value is changeable. Predefined flags in the system are: 


<DL COMPACT>

<DT><CODE>fileerrors</CODE>
<DD>
If <CODE>on</CODE>, predicates handling files give errors when a file is inexistent or an operation is not allowed. If <CODE>off</CODE>, fail in that conditions. Initially <CODE>on</CODE>. 

<DT><CODE>unknown</CODE>
<DD>
Controls action on calls to undefined predicates. The possible states of the flag are: 

<DL COMPACT>

<DT><CODE>error</CODE>
<DD>
An error is thrown with the 
<A NAME="IDX1457"></A>
error term <CODE>existence_error(procedure, F/A)</CODE>. 

<DT><CODE>fail</CODE>
<DD>
The call simply fails. 

<DT><CODE>warning</CODE>
<DD>
A warning is written and the call fails. 

</DL>

The state is initially <CODE>error</CODE>. <KBD> * ISO * </KBD>

<DT><CODE>quiet</CODE>
<DD>
Controls which messages issued using 
<A NAME="IDX1458"></A>
<CODE>io_aux</CODE> are actually written. As the system uses that library to report its messages, this flag controls the <EM>verbosity</EM> of the system. Possible states of the flag are: 

<DL COMPACT>

<DT><CODE>on</CODE>
<DD>
No messages are reported. 

<DT><CODE>error</CODE>
<DD>
Only error messages are reported. 

<DT><CODE>warning</CODE>
<DD>
Only error and warning messages are reported. 

<DT><CODE>off</CODE>
<DD>
All messages are reported, except debug messages. This is the default state. 

<DT><CODE>debug</CODE>
<DD>
All messages, including debug messages, are reported. This is only intended for the system implementators. 

</DL>

<DT><CODE>argv</CODE>
<DD>
Value is a list of atoms representing the program arguments supplied when the current executable was invoked. This is the value to which is instantiated the argument of the 
<A NAME="IDX1459"></A>
<CODE>main/1</CODE> predicate at executable startup. Unchangeable. 

<DT><CODE>bounded</CODE>
<DD>
It is <CODE>false</CODE>, to denote that the range of integers can be considered infinite (but see 
<A NAME="IDX1460"></A>
<CODE>int/1</CODE>). Unchangeable. <KBD> * ISO * </KBD>

<DT><CODE>integer_rounding_function</CODE>
<DD>
It is <CODE>toward_zero</CODE>, so that <CODE>-1 =:= -3//2</CODE> succeeds. Unchangeable. <KBD> * ISO * </KBD>

<DT><CODE>max_arity</CODE>
<DD>
It is 255, so that no compound term (or predicate) can have more than this number of arguments. Unchangeable. <KBD> * ISO * </KBD>

<DT><CODE>gc</CODE>
<DD>
Controls whether garbage collection is done. May be <CODE>on</CODE> (default) or <CODE>off</CODE>. 

<DT><CODE>gc_margin</CODE>
<DD>
An integer <CODE>Margin</CODE>. If less than <CODE>Margin</CODE> kilobytes are reclaimed in a garbage collection then the size of the garbage collected area should be increased. Also, no garbage collection is attempted unless the garbage collected area has at least <CODE>Margin</CODE> kilobytes. Initially 500. 

<DT><CODE>gc_trace</CODE>
<DD>
Governs garbage collection trace messages. An element off <CODE>[on,off,terse,verbose]</CODE>. Initially <CODE>off</CODE>. 

</DL>


<UL>
<LI><A HREF="ciao_27.html#SEC116">Usage and interface (prolog_flags)</A>
<LI><A HREF="ciao_27.html#SEC117">Documentation on exports (prolog_flags)</A>
<LI><A HREF="ciao_27.html#SEC118">Documentation on multifiles (prolog_flags)</A>
</UL>



<H2><A NAME="SEC116" HREF="ciao_toc.html#TOC116">Usage and interface (<CODE>prolog_flags</CODE>)</A></H2>

<div class="cartouche">

<UL>

<LI><STRONG>Library usage:</STRONG>

These predicates are builtin in CIAO, so nothing special has to be done to use them.

<LI><STRONG>Exports:</STRONG>


<UL>

<LI><EM>Predicates:</EM>

<A NAME="IDX1461"></A>
<CODE>set_prolog_flag/2</CODE>, 
<A NAME="IDX1462"></A>
<CODE>current_prolog_flag/2</CODE>, 
<A NAME="IDX1463"></A>
<CODE>prolog_flag/3</CODE>, 
<A NAME="IDX1464"></A>
<CODE>push_prolog_flag/2</CODE>, 
<A NAME="IDX1465"></A>
<CODE>pop_prolog_flag/1</CODE>, 
<A NAME="IDX1466"></A>
<CODE>prompt/2</CODE>, 
<A NAME="IDX1467"></A>
<CODE>gc/0</CODE>, 
<A NAME="IDX1468"></A>
<CODE>nogc/0</CODE>, 
<A NAME="IDX1469"></A>
<CODE>fileerrors/0</CODE>, 
<A NAME="IDX1470"></A>
<CODE>nofileerrors/0</CODE>.

<LI><EM>Multifiles:</EM>

<A NAME="IDX1471"></A>
<CODE>define_flag/3</CODE>.

</UL>

</UL>

</div class="cartouche">



<H2><A NAME="SEC117" HREF="ciao_toc.html#TOC117">Documentation on exports (<CODE>prolog_flags</CODE>)</A></H2>
<P>
<A NAME="IDX1472"></A>
<A NAME="IDX1473"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>set_prolog_flag/2:</B>
<DD><A NAME="IDX1474"></A>


<P>
<CODE>set_prolog_flag(FlagName,Value)</CODE>


<P>
Set existing flag <CODE>FlagName</CODE> to <CODE>Value</CODE>.


<P>
<STRONG>Usage 1:</STRONG> <CODE>set_prolog_flag(+atm,+term)</CODE>
<KBD> * ISO * </KBD>

<UL>
</UL>

<P>
<STRONG>Usage 2:</STRONG> 
<KBD> * ISO * </KBD>

<UL>
<LI><EM>The following properties should hold at call time:</EM>

<CODE>FlagName</CODE> is an atom.
 (<CODE>basic_props:atm/1</CODE>)

<CODE>Value</CODE> is any term.
 (<CODE>basic_props:term/1</CODE>)
</UL>

</DL>

<P>
<A NAME="IDX1475"></A>
<A NAME="IDX1476"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>current_prolog_flag/2:</B>
<DD><A NAME="IDX1477"></A>


<P>
<CODE>current_prolog_flag(FlagName,Value)</CODE>


<P>
<CODE>FlagName</CODE> is an existing flag and <CODE>Value</CODE> is the value currently associated with it.


<P>
<STRONG>Usage 1:</STRONG> <CODE>current_prolog_flag(?(atm),?(term))</CODE>
<KBD> * ISO * </KBD>

<UL>
</UL>

<P>
<STRONG>Usage 2:</STRONG> 
<KBD> * ISO * </KBD>

<UL>
<LI><EM>Calls should, and exit will be compatible with:</EM>

<CODE>FlagName</CODE> is an atom.
 (<CODE>basic_props:atm/1</CODE>)

<CODE>Value</CODE> is any term.
 (<CODE>basic_props:term/1</CODE>)
<LI><EM>The following properties hold upon exit:</EM>

<CODE>FlagName</CODE> is an atom.
 (<CODE>basic_props:atm/1</CODE>)

<CODE>Value</CODE> is any term.
 (<CODE>basic_props:term/1</CODE>)
</UL>

</DL>

<P>
<A NAME="IDX1478"></A>
<A NAME="IDX1479"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>prolog_flag/3:</B>
<DD><A NAME="IDX1480"></A>


<P>
<CODE>prolog_flag(FlagName,OldValue,NewValue)</CODE>


<P>
<CODE>FlagName</CODE> is an existing flag, unify <CODE>OldValue</CODE> with the value associated with it, and set it to new value <CODE>NewValue</CODE>.


<P>
<STRONG>Usage 1:</STRONG> <CODE>prolog_flag(?(atm),?(term),+term)</CODE>

<UL>
</UL>

<P>
<STRONG>Usage 2:</STRONG> <CODE>prolog_flag(?(FlagName),-(OldValue),-(NewValue))</CODE>

<UL>
<LI><EM>Description:</EM> Same as <CODE>current_prolog_flag(<CODE>FlagName</CODE>, <CODE>OldValue</CODE>)</CODE>

<LI><EM>The following properties should hold at call time:</EM>

<CODE>FlagName</CODE> is an atom.
 (<CODE>basic_props:atm/1</CODE>)

The terms <CODE>OldValue</CODE> and <CODE>NewValue</CODE> are strictly identical.
 (<CODE>term_compare:== /2</CODE>)
</UL>

<P>
<STRONG>Usage 3:</STRONG> 

<UL>
<LI><EM>Calls should, and exit will be compatible with:</EM>

<CODE>FlagName</CODE> is an atom.
 (<CODE>basic_props:atm/1</CODE>)

<CODE>OldValue</CODE> is any term.
 (<CODE>basic_props:term/1</CODE>)
<LI><EM>The following properties should hold at call time:</EM>

<CODE>NewValue</CODE> is any term.
 (<CODE>basic_props:term/1</CODE>)
<LI><EM>The following properties hold upon exit:</EM>

<CODE>FlagName</CODE> is an atom.
 (<CODE>basic_props:atm/1</CODE>)

<CODE>OldValue</CODE> is any term.
 (<CODE>basic_props:term/1</CODE>)
</UL>

<P>
<STRONG>Usage 4:</STRONG> <CODE>prolog_flag(FlagName,OldValue,NewValue)</CODE>

<UL>
<LI><EM>Description:</EM> Same as <CODE>current_prolog_flag(<CODE>FlagName</CODE>, <CODE>OldValue</CODE>)</CODE>

<LI><EM>The following properties should hold at call time:</EM>

<CODE>OldValue</CODE> is a free variable.
 (<CODE>term_typing:var/1</CODE>)

<CODE>NewValue</CODE> is a free variable.
 (<CODE>term_typing:var/1</CODE>)

<CODE>FlagName</CODE> is an atom.
 (<CODE>basic_props:atm/1</CODE>)

The terms <CODE>OldValue</CODE> and <CODE>NewValue</CODE> are strictly identical.
 (<CODE>term_compare:== /2</CODE>)
</UL>

</DL>

<P>
<A NAME="IDX1481"></A>
<A NAME="IDX1482"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>push_prolog_flag/2:</B>
<DD><A NAME="IDX1483"></A>


<P>
<CODE>push_prolog_flag(Flag,NewValue)</CODE>


<P>
Same as 
<A NAME="IDX1484"></A>
<CODE>set_prolog_flag/2</CODE>, but storing current value of <CODE>Flag</CODE> to restore it with 
<A NAME="IDX1485"></A>
<CODE>pop_prolog_flag/1</CODE>.


<P>
<STRONG>Usage 1:</STRONG> <CODE>push_prolog_flag(+atm,+term)</CODE>

<UL>
</UL>

<P>
<STRONG>Usage 2:</STRONG> 

<UL>
<LI><EM>The following properties should hold at call time:</EM>

<CODE>Flag</CODE> is an atom.
 (<CODE>basic_props:atm/1</CODE>)

<CODE>NewValue</CODE> is any term.
 (<CODE>basic_props:term/1</CODE>)
</UL>

</DL>

<P>
<A NAME="IDX1486"></A>
<A NAME="IDX1487"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>pop_prolog_flag/1:</B>
<DD><A NAME="IDX1488"></A>


<P>
<CODE>pop_prolog_flag(Flag)</CODE>


<P>
Restore the value of <CODE>Flag</CODE> previous to the last non-canceled 
<A NAME="IDX1489"></A>
<CODE>push_prolog_flag/2</CODE> on it.


<P>
<STRONG>Usage 1:</STRONG> <CODE>pop_prolog_flag(+atm)</CODE>

<UL>
</UL>

<P>
<STRONG>Usage 2:</STRONG> 

<UL>
<LI><EM>The following properties should hold at call time:</EM>

<CODE>Flag</CODE> is an atom.
 (<CODE>basic_props:atm/1</CODE>)
</UL>

</DL>

<P>
<A NAME="IDX1490"></A>
<A NAME="IDX1491"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>prompt/2:</B>
<DD><A NAME="IDX1492"></A>


<P>
<CODE>prompt(Old,New)</CODE>


<P>
Unify <CODE>Old</CODE> with the current prompt for reading, change it to <CODE>New</CODE>.


<P>
<STRONG>Usage 1:</STRONG> <CODE>prompt(?(atm),+atm)</CODE>

<UL>
</UL>

<P>
<STRONG>Usage 2:</STRONG> <CODE>prompt(Old,New)</CODE>

<UL>
<LI><EM>Description:</EM> Unify <CODE>Old</CODE> with the current prompt for reading without changing it.

<LI><EM>The following properties should hold at call time:</EM>

<CODE>Old</CODE> is a free variable.
 (<CODE>term_typing:var/1</CODE>)

<CODE>New</CODE> is a free variable.
 (<CODE>term_typing:var/1</CODE>)

The terms <CODE>Old</CODE> and <CODE>New</CODE> are strictly identical.
 (<CODE>term_compare:== /2</CODE>)
<LI><EM>The following properties hold upon exit:</EM>

<CODE>Old</CODE> is an atom.
 (<CODE>basic_props:atm/1</CODE>)

<CODE>New</CODE> is an atom.
 (<CODE>basic_props:atm/1</CODE>)
</UL>

<P>
<STRONG>Usage 3:</STRONG> 

<UL>
<LI><EM>Calls should, and exit will be compatible with:</EM>

<CODE>Old</CODE> is an atom.
 (<CODE>basic_props:atm/1</CODE>)
<LI><EM>The following properties should hold at call time:</EM>

<CODE>New</CODE> is an atom.
 (<CODE>basic_props:atm/1</CODE>)
<LI><EM>The following properties hold upon exit:</EM>

<CODE>Old</CODE> is an atom.
 (<CODE>basic_props:atm/1</CODE>)
</UL>

<P>
<STRONG>Usage 4:</STRONG> <CODE>prompt(Old,New)</CODE>

<UL>
<LI><EM>Description:</EM> Unify <CODE>Old</CODE> with the current prompt for reading without changing it.

<LI><EM>The following properties should hold at call time:</EM>

<CODE>Old</CODE> is a free variable.
 (<CODE>term_typing:var/1</CODE>)

<CODE>New</CODE> is a free variable.
 (<CODE>term_typing:var/1</CODE>)

The terms <CODE>Old</CODE> and <CODE>New</CODE> are strictly identical.
 (<CODE>term_compare:== /2</CODE>)
<LI><EM>The following properties hold upon exit:</EM>

<CODE>Old</CODE> is an atom.
 (<CODE>basic_props:atm/1</CODE>)

<CODE>New</CODE> is an atom.
 (<CODE>basic_props:atm/1</CODE>)
</UL>

</DL>

<P>
<A NAME="IDX1493"></A>
<A NAME="IDX1494"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>gc/0:</B>
<DD><A NAME="IDX1495"></A>


<P>
<STRONG>Usage 1:</STRONG> 

<UL>
<LI><EM>Description:</EM> Enable garbage collection. Equivalent to <CODE>set_prolog_flag(gc, on)</CODE>

</UL>

<P>
<STRONG>Usage 2:</STRONG> 

<UL>
<LI><EM>Description:</EM> Enable garbage collection. Equivalent to <CODE>set_prolog_flag(gc, on)</CODE>

</UL>

</DL>

<P>
<A NAME="IDX1496"></A>
<A NAME="IDX1497"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>nogc/0:</B>
<DD><A NAME="IDX1498"></A>


<P>
<STRONG>Usage 1:</STRONG> 

<UL>
<LI><EM>Description:</EM> Disable garbage collection. Equivalent to <CODE>set_prolog_flag(gc, off)</CODE>

</UL>

<P>
<STRONG>Usage 2:</STRONG> 

<UL>
<LI><EM>Description:</EM> Disable garbage collection. Equivalent to <CODE>set_prolog_flag(gc, off)</CODE>

</UL>

</DL>

<P>
<A NAME="IDX1499"></A>
<A NAME="IDX1500"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>fileerrors/0:</B>
<DD><A NAME="IDX1501"></A>


<P>
<STRONG>Usage 1:</STRONG> 

<UL>
<LI><EM>Description:</EM> Enable reporting of file errors. Equivalent to <CODE>set_prolog_flag(fileerrors, on)</CODE>

</UL>

<P>
<STRONG>Usage 2:</STRONG> 

<UL>
<LI><EM>Description:</EM> Enable reporting of file errors. Equivalent to <CODE>set_prolog_flag(fileerrors, on)</CODE>

</UL>

</DL>

<P>
<A NAME="IDX1502"></A>
<A NAME="IDX1503"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>nofileerrors/0:</B>
<DD><A NAME="IDX1504"></A>


<P>
<STRONG>Usage 1:</STRONG> 

<UL>
<LI><EM>Description:</EM> Disable reporting of file errors. Equivalent to <CODE>set_prolog_flag(fileerrors, off)</CODE>

</UL>

<P>
<STRONG>Usage 2:</STRONG> 

<UL>
<LI><EM>Description:</EM> Disable reporting of file errors. Equivalent to <CODE>set_prolog_flag(fileerrors, off)</CODE>

</UL>

</DL>



<H2><A NAME="SEC118" HREF="ciao_toc.html#TOC118">Documentation on multifiles (<CODE>prolog_flags</CODE>)</A></H2>
<P>
<A NAME="IDX1505"></A>
<A NAME="IDX1506"></A>
<DL>
<DT><span class="define">PREDICATE:</span> <B>define_flag/3:</B>
<DD><A NAME="IDX1507"></A>


<P>
<CODE>define_flag(Flag,Values,Default)</CODE>


<P>
New flags can be defined by writing facts of this predicate. <CODE>Flag</CODE> is the name of the new flag, <CODE>Values</CODE> defines the posible values for the flag (see below) and <CODE>Default</CODE> defines the predefined value associated with the flag (which should be compatible with <CODE>Values</CODE>).


<P>
The predicate is <EM>multifile</EM>.


<P>
<STRONG>Usage 1:</STRONG> 

<UL>
<LI><EM>Description:</EM> Posible values for the flag are atoms.

Example: 

<PRE>
:- multifile define_flag/3.
define_flag(tmpdir, atom, '/tmp').
</PRE>

 
<LI><EM>Call and exit should be <EM>compatible</EM> with:</EM>

<CODE>Flag</CODE> is an atom.
 (<CODE>basic_props:atm/1</CODE>)

Unify <CODE>Values</CODE> and <CODE>atom</CODE>.
 (<CODE>term_basic:= /2</CODE>)

<CODE>Default</CODE> is an atom.
 (<CODE>basic_props:atm/1</CODE>)
</UL>

<P>
<STRONG>Usage 2:</STRONG> 

<UL>
<LI><EM>Description:</EM> Posible values for the flag are integers.

Example: 

<PRE>
:- multifile define_flag/3.
define_flag(max_connections, integer, 10).
</PRE>

 
<LI><EM>Call and exit should be <EM>compatible</EM> with:</EM>

<CODE>Flag</CODE> is an atom.
 (<CODE>basic_props:atm/1</CODE>)

Unify <CODE>Values</CODE> and <CODE>integer</CODE>.
 (<CODE>term_basic:= /2</CODE>)

<CODE>Default</CODE> is an integer.
 (<CODE>basic_props:int/1</CODE>)
</UL>

<P>
<STRONG>Usage 3:</STRONG> <CODE>define_flag(Flag,Values,Default)</CODE>

<UL>
<LI><EM>Description:</EM> Posible values for the flag are the elements of <CODE>Values</CODE>.

Example: 

<PRE>
:- multifile define_flag/3.
define_flag(debug, [on,debug,trace,off], off).
</PRE>

 
<LI><EM>Call and exit should be <EM>compatible</EM> with:</EM>

<CODE>Flag</CODE> is an atom.
 (<CODE>basic_props:atm/1</CODE>)

<CODE>Values</CODE> is a list.
 (<CODE>basic_props:list/1</CODE>)

<CODE>Default</CODE> is any term.
 (<CODE>basic_props:term/1</CODE>)
<LI><EM>The following properties should hold at call time:</EM>

<CODE>Default</CODE> is an element of <CODE>Values</CODE>.
 (<CODE>basic_props:member/2</CODE>)
</UL>

</DL>

<P><HR><P>
Go to the <A HREF="ciao_1.html">first</A>, <A HREF="ciao_26.html">previous</A>, <A HREF="ciao_28.html">next</A>, <A HREF="ciao_148.html">last</A> section, <A HREF="ciao_toc.html">table of contents</A>.
</BODY>
</HTML>
