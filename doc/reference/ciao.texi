\raggedbottom                     
\input texinfo @c -*- texinfo -*- 
@c ------------------------------------------------
@c WARNING: Do not edit this file (ciao.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/doc/common/ciao.pl
@c ------------------------------------------------
@c %**start of header     
@setfilename ciao           
@settitle The Ciao Prolog System              
@c @paragraphindent 0     
@setchapternewpage odd    
@c @setchapternewpage off 
@c @setchapternewpage on  
@c @footnotestyle separate
@defcodeindex li
@defcodeindex pd
@defcodeindex pr
@defcodeindex te
@defcodeindex de
@defindex co
@defcodeindex gl
@c @smallbook             
@iftex                    
@afourpaper               
@end iftex                
@tolerance 10000          
@hbadness 10000           
@c %**end of header       
                          
                          
@ifinfo                   
 

 @strong{Ciao} is a 
@coindex public domain
@glindex public domain
@emph{public domain} programming environment which supports the development and efficient compilation of @emph{logic programs}, @emph{constraint logic programs} (CLP), @emph{functional logic programs}, and @emph{object-oriented logic programs}. In particular, @strong{Ciao} includes standard @strong{ISO-Prolog} as a sublanguage and a program development environment similar to that of traditional Prolog and CLP implementations. However, @strong{Ciao} extends the Prolog language and improves on traditional Prolog programming environments in a number of significant ways: 


@itemize @bullet{} 


@item @strong{Ciao} offers support for @emph{programming in the large} with a robust module/object system, module-based automatic incremental compilation (with no need for makefiles), an assertion language for declaring (@emph{optional}) program properties (including types and modes), automatic static inference and static/dynamic checking of such assertions, etc. 


@item @strong{Ciao} also offers support for @emph{programming in the small} producing small executables (including only those builtins used by the program) and support for writing scripts in Prolog. 


@item The @strong{Ciao} compiler generates several forms of architecture-independent and stand-alone executables. Library modules can be compiled into compact bytecode or C source files, and linked statically, dynamically, or autoloaded. 


@item @strong{Ciao} supports concurrency (threads), distributed execution, and parallel execution. 


@item The @strong{Ciao} programming environment includes a large number of @emph{libraries} providing a wide range of additional functionality, from WWW programming to support for several control rules. 


@item The @strong{Ciao} programming environment also includes 
@glindex lpdoc
@code{lpdoc}, a tool for generating documentation automatically for Prolog programs adorned with (@strong{Ciao}) assertions and special, machine-readable comments. 


@end itemize  

The @strong{Ciao} language has been designed from the ground up to be highly extensible (in a modular way) and to allow modular program development, global program analysis, and static debugging and optimization via source to source program transformation, including automatic parallelization. The latter tasks are performed by the @strong{Ciao preprocessor} (
@glindex ciaopp
@code{ciaopp}, distributed separately). The @strong{Ciao} system also includes a rich 
@glindex emacs
@code{emacs} interface and a number of execution visualization tools. 

@strong{Ciao} is distributed under the 
@glindex GNU General Public License
GNU General Public License, version 2, as published by the Free Software Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA. 

                        

@sp 1
This documentation corresponds to version 1.4 (1999/11/27, 19:0:0 MEST).
                          
Copyright @copyright{} F. Bueno, D. Cabeza, M. Carro, M. Hermenegildo, P. L@'opez, and G. Puebla 

This document may be freely read, stored, reproduced, disseminated, translated or quoted by any means and on any medium provided the following conditions are met: 


@enumerate  


@item Every reader or user of this document acknowledges that is aware that no guarantee is given regarding its contents, on any account, and specifically concerning veracity, accuracy and fitness for any purpose. 


@item No modification is made other than cosmetic, change of representation format, translation, correction of obvious syntactic errors, or as permitted by the clauses below. 


@item Comments and other additions may be inserted, provided they clearly appear as such; translations or fragments must clearly refer to an original complete version, preferably one that is easily accessed whenever possible. 


@item Translations, comments and other additions or modifications must be dated and their author(s) must be identifiable (possibly via an alias). 


@item This licence is preserved and applies to the whole document with modifications and additions (except for brief quotes), independently of the representation format. 


@item Any reference to the "official version", "original version" or "how to obtain original versions" of the document is preserved verbatim. Any copyright notice in the document is preserved verbatim. Also, the title and author(s) of the original document should be clearly mentioned as such. 


@item In the case of translations, verbatim sentences mentioned in (6.) are preserved in the language of the original document accompanied by verbatim translations to the language of the traslated document. All translations state clearly that the author is not responsible for the translated work. This license is included, at least in the language in which it is referenced in the original version. 
 
@item Whatever the mode of storage, reproduction or dissemination, anyone able to access a digitized version of this document must be able to make a digitized copy in a format directly usable, and if possible editable, according to accepted, and publicly documented, public standards. 


@item Redistributing this document to a third party requires simultaneous redistribution of this licence, without modification, and in particular without any further condition or restriction, expressed or implied, related or not to this redistribution. In particular, in case of inclusion in a database or collection, the owner or the manager of the database or the collection renounces any right related to this inclusion and concerning the possible uses of the document after extraction from the database or the collection, whether alone or in relation with other documents. 


@end enumerate  

Any incompatibility of the above clauses with legal, contractual or judiciary decisions or constraints implies a corresponding limitation of reading, usage, or redistribution rights for this document, verbatim or modified. 

                        
@end ifinfo               
                          
@titlepage                
@title The Ciao Prolog System                 
@c @font@authorrm=cmbx10 scaled @magstep2 
@subtitle @emph{A Next Generation Logic Programming Environment}
@subtitle REFERENCE MANUAL
@subtitle @strong{The Ciao System Documentation Series}
@subtitle Technical Report CLIP 3/97.1
@subtitle @emph{Preliminary version printed on:} @today 
@subtitle Version 1.4 (1999/11/27, 19:0:0 MEST)
@author F. Bueno, D. Cabeza, M. Carro,
@author M. Hermenegildo, P. L@'opez, and G. Puebla
@author @email{clip@@dia.fi.upm.es}
@author @uref{http://www.clip.dia.fi.upm.es/}
@author The CLIP Group
@author School of Computer Science
@author Technical University of Madrid
@c Copyright page         
@page                     
@vskip 0pt plus 1filll    
Copyright @copyright{} F. Bueno, D. Cabeza, M. Carro, M. Hermenegildo, P. L@'opez, and G. Puebla 

This document may be freely read, stored, reproduced, disseminated, translated or quoted by any means and on any medium provided the following conditions are met: 


@enumerate  


@item Every reader or user of this document acknowledges that is aware that no guarantee is given regarding its contents, on any account, and specifically concerning veracity, accuracy and fitness for any purpose. 


@item No modification is made other than cosmetic, change of representation format, translation, correction of obvious syntactic errors, or as permitted by the clauses below. 


@item Comments and other additions may be inserted, provided they clearly appear as such; translations or fragments must clearly refer to an original complete version, preferably one that is easily accessed whenever possible. 


@item Translations, comments and other additions or modifications must be dated and their author(s) must be identifiable (possibly via an alias). 


@item This licence is preserved and applies to the whole document with modifications and additions (except for brief quotes), independently of the representation format. 


@item Any reference to the "official version", "original version" or "how to obtain original versions" of the document is preserved verbatim. Any copyright notice in the document is preserved verbatim. Also, the title and author(s) of the original document should be clearly mentioned as such. 


@item In the case of translations, verbatim sentences mentioned in (6.) are preserved in the language of the original document accompanied by verbatim translations to the language of the traslated document. All translations state clearly that the author is not responsible for the translated work. This license is included, at least in the language in which it is referenced in the original version. 
 
@item Whatever the mode of storage, reproduction or dissemination, anyone able to access a digitized version of this document must be able to make a digitized copy in a format directly usable, and if possible editable, according to accepted, and publicly documented, public standards. 


@item Redistributing this document to a third party requires simultaneous redistribution of this licence, without modification, and in particular without any further condition or restriction, expressed or implied, related or not to this redistribution. In particular, in case of inclusion in a database or collection, the owner or the manager of the database or the collection renounces any right related to this inclusion and concerning the possible uses of the document after extraction from the database or the collection, whether alone or in relation with other documents. 


@end enumerate  

Any incompatibility of the above clauses with legal, contractual or judiciary decisions or constraints implies a corresponding limitation of reading, usage, or redistribution rights for this document, verbatim or modified. 

                        
@end titlepage            
                          
@pageno 1                
                          
@ifinfo                   
@node Top, Summary, (dir), (dir)
@top The Ciao Prolog System                   

@end ifinfo               


@ifinfo

@sp 1
This documentation corresponds to version 1.4 (1999/11/27, 19:0:0 MEST).
@end ifinfo
@c Contents:
@c @summarycontents
@contents

@c (component)


@menu
* Summary::			
* Introduction::		
* Getting started::		
* *** PART I - The program development environment::  
* The stand-alone command-line compiler::  
* The interactive top-level shell::  
* The interactive debugger::	
* Predicates controlling the interactive debugger::  
* The script interpreter::	
* Customizing library paths and path aliases::	
* Using Ciao inside GNU emacs::	 
* *** PART II - The Ciao basic language (engine)::  
* The module system::		
* Directives for using code in other files::  
* Control constructs/predicates::  
* Basic builtin directives::	
* Basic data types and properties::  
* Extra-logical properties for typing::	 
* Basic term manipulation::	
* Comparing terms::		
* Basic predicates handling names of constants::  
* Arithmetic::			
* Basic input/output::		
* Basic file/stream handling::	
* Exception handling::		
* Fast/concurrent update of facts::  
* Changing system behaviour and various flags::	 
* Concurrency/multithreading primitives::  
* Extending the syntax::	
* Message printing primitives::	 
* Attributed variables::	
* Gathering some basic internal info::	
* *** PART III - ISO-Prolog library (iso)::  
* ISO-Prolog package::		
* Standard operators::		
* All solutions predicates::	
* Dynamic predicates::		
* iso_byte_char (library)::	
* iso_incomplete (library)::	
* iso_misc (library)::		
* Term input::			
* Structured stream handling::	
* Term output::			
* *** PART IV - Classic Prolog library (classic)::  
* Classic Prolog package::	
* Definite clause grammars::	
* Definite clause grammars (expansion)::  
* Quintus-like internal database::  
* List processing::		
* Sorting lists::		
* Dictionaries::		
* String processing::		
* DEC-10 Prolog file IO::	
* Formatted output::		
* ttyout (library)::		
* dynmods (library)::		
* runtime_ops (library)::	
* *** PART V - Annotated Prolog library (assertions)::	
* The Ciao assertion package::	
* Types and properties related to assertions::	
* Declaring regular types::	
* Properties which are native to analyzers::  
* Meta-properties::		
* ISO-Prolog modes::		
* Classical Prolog modes::	
* Run-time checking of assertions::  
* *** PART VI - Ciao Prolog library miscellanea::  
* Operating system utilities::	
* Prolog system internal predicates::  
* ctrlcclean (library)::	
* errhandle (library)::		
* fastrw (library)::		
* File name manipulation::	
* file_utils (library)::	
* file_locks (library)::	
* terms (library)::		
* tokenize (library)::		
* Printing status and error messages::	
* A simple pretty-printer for Ciao programs::  
* Pretty-printing assertions::	
* The Ciao library browser::	
* Code translation utilities::	
* conc_aggregates (library)::	
* *** PART VII - Ciao Prolog extensions::  
* Pure Prolog package::		
* argnames (library)::		
* Independent and-parallel execution::	
* functions (library)::		
* global (library)::		
* Miscellaneous predicates::	
* actmods (library)::		
* Breadth-first execution::	
* Constraint programming over rationals::  
* Constraint programming over reals::  
* Object oriented programming::	 
* Declaring classes and interfaces::  
* Error reporting when compiling classes and interfaces::  
* Using OCIAO objects::		
* Error reporting when using objects::	
* Run time usage of objects::	
* Using classes from the CIAO toplevel shell::	
* *** PART VIII - Interfaces to other languages and systems::  
* Foreign interface::		
* Utilities for on-demand compilation of foreign files::  
* The socket interface::	
* The tcl/tk interface::	
* Connecting with the Web::	
* html (library)::		
* http (library)::		
* Persistent predicate database::  
* Using the persdb library::	
* SQL persistent database interface::  
* Prolog to SQL translator::	
* Low-level socket interface to SQL/ODBC databases::  
* Low-level Prolog to Java interface::	
* Low-level Java to Prolog interface::	
* Low-level Prolog to Java socket connection::	
* linda (library)::		
* *** PART IX - Abstract data types::  
* atom2term (library)::		
* counters (library)::		
* Identity lists::		
* Term manipulation::		
* Lists of numbers::		
* Pattern (regular expression) matching::  
* queues (library)::		
* Random numbers::		
* sets (library)::		
* Variable names dictionaries::	 
* *** PART X - Miscellaneous standalone utilities::  
* Printing the declarations and code in a file::  
* Printing the contents of a bytecode file::  
* Gathering the dependent files for a file::  
* Finding differences between two Prolog files::  
* The Ciao lpmake scripting facility::	
* Find out which architecture we are running on::  
* *** PART XI - Appendices::	
* Installing Ciao::		
* References::			
* Library/Module Definition Index::  
* Predicate/Method Definition Index::  
* Property Definition Index::	
* Regular Type Definition Index::  
* Declaration Definition Index::  
* Concept Definition Index::	
* Global Index::		
@end menu

@node Summary, Introduction, Top, Top
@comment node-name, next,  previous,  up
@unnumbered Summary

 

 @strong{Ciao} is a 
@coindex public domain
@glindex public domain
@emph{public domain} programming environment which supports the development and efficient compilation of @emph{logic programs}, @emph{constraint logic programs} (CLP), @emph{functional logic programs}, and @emph{object-oriented logic programs}. In particular, @strong{Ciao} includes standard @strong{ISO-Prolog} as a sublanguage and a program development environment similar to that of traditional Prolog and CLP implementations. However, @strong{Ciao} extends the Prolog language and improves on traditional Prolog programming environments in a number of significant ways: 


@itemize @bullet{} 


@item @strong{Ciao} offers support for @emph{programming in the large} with a robust module/object system, module-based automatic incremental compilation (with no need for makefiles), an assertion language for declaring (@emph{optional}) program properties (including types and modes), automatic static inference and static/dynamic checking of such assertions, etc. 


@item @strong{Ciao} also offers support for @emph{programming in the small} producing small executables (including only those builtins used by the program) and support for writing scripts in Prolog. 


@item The @strong{Ciao} compiler generates several forms of architecture-independent and stand-alone executables. Library modules can be compiled into compact bytecode or C source files, and linked statically, dynamically, or autoloaded. 


@item @strong{Ciao} supports concurrency (threads), distributed execution, and parallel execution. 


@item The @strong{Ciao} programming environment includes a large number of @emph{libraries} providing a wide range of additional functionality, from WWW programming to support for several control rules. 


@item The @strong{Ciao} programming environment also includes 
@glindex lpdoc
@code{lpdoc}, a tool for generating documentation automatically for Prolog programs adorned with (@strong{Ciao}) assertions and special, machine-readable comments. 


@end itemize  

The @strong{Ciao} language has been designed from the ground up to be highly extensible (in a modular way) and to allow modular program development, global program analysis, and static debugging and optimization via source to source program transformation, including automatic parallelization. The latter tasks are performed by the @strong{Ciao preprocessor} (
@glindex ciaopp
@code{ciaopp}, distributed separately). The @strong{Ciao} system also includes a rich 
@glindex emacs
@code{emacs} interface and a number of execution visualization tools. 

@strong{Ciao} is distributed under the 
@glindex GNU General Public License
GNU General Public License, version 2, as published by the Free Software Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA. 



@ifnotinfo

@sp 1
This documentation corresponds to version 1.4 (1999/11/27, 19:0:0 MEST).
@end ifnotinfo

@c (component)


@node Introduction, Getting started, Summary, Top
@comment node-name, next,  previous,  up
@chapter Introduction

 


@noindent
@strong{NOTE:} @emph{This (semi-automatically generated) manual is still incomplete. It is however being updated regularly as the machine-readable documentation of the different libraries is completed}. 

This is the @emph{Reference Manual} for the Ciao Prolog development system. It contains basic information on how to install Ciao Prolog and how to write, debug, and run Ciao Prolog programs, both from the command line and from inside GNU 
@glindex emacs
@code{emacs}. It also documents all the libraries available in the standard distribution. 



@menu
* About the Ciao Prolog development system::  
* ISO-Prolog compliance::	
* Syntax terminology and notational conventions::  
* Acknowledgments::		
* Known bugs and planned improvements (ciao)::	
* Version/Change Log (ciao)::	
@end menu

@node About the Ciao Prolog development system, ISO-Prolog compliance, Introduction, Introduction
@comment node-name, next,  previous,  up
@section About the Ciao Prolog development system 
@coindex ciao, global description
@glindex ciao, global description 

 The Ciao system comprises Ciao Prolog and its programming environment, which includes a number of programming tools such as the Ciao compiler (@code{ciaoc}), top-level interactive shell (@code{ciaosh} or @code{ciao}), a Prolog-script interpreter (@code{ciao-shell}), a Prolog @code{emacs} mode which helps program developing with support for tasks as editing, debugging and version/change tracking, a program preprocessor (@code{ciaopp}), which supports static debugging and optimization from program analysis via source to source program transformation, an automatic documentation generator (@code{lpdoc}) [Her99b], and a number of execution visualization tools. 

This manual documents the first four of the abovementioned tools [PART I - The program development environment]), and the Ciao Prolog language and library [PART II - The Ciao basic language (engine)]. @code{ciaopp} and @code{lpdoc} are documented in separated manuals. 

The Ciao language has been designed from the ground up to be minimal but also highly extensible (in a modular way). The first objective allows producing small executables (including only those builtins used by the program), providing basic support for pure logic programming, and support for writing scripts in Prolog. The second one allows adding support for standard ISO-Prolog [PART III - ISO-Prolog library (iso)], as well as extensions such as constraint logic programming, functional logic programming, and object-oriented logic programming [PART VII - Ciao Prolog extensions]. 

Based on the same motivation for modularity, Ciao design has also been focused on allowing modular program development, automatic manipulation and optimization. Ciao includes a robust module system [CH99a], module-based automatic incremental compilation [CH99b], and modular global program analysis, debugging and optimization [PH99], based on a rich assertion language [PART V - Annotated Prolog library (assertions)] for declaring (optional) program properties (including types and modes), which can be checked either statically or dynamically. All program analysis and static debugging and optimization tasks are performed by the @code{ciaopp} preprocessor. 

Ciao also includes several other features and utilities, such as support for several forms of executables, concurrency (threads), distributed and parallel execution, high-order, WWW programming, interfaces to other languages like C and Java, etc. 





@node ISO-Prolog compliance, Syntax terminology and notational conventions, About the Ciao Prolog development system, Introduction
@comment node-name, next,  previous,  up
@section ISO-Prolog compliance 
@coindex iso-prolog, compliance
@glindex iso-prolog, compliance 

Ciao has been designed to subsume 
@coindex ISO-Prolog
@glindex ISO-Prolog
@emph{ISO-Prolog} [DEDC96] (International Standard ISO/IEC 13211-1, PROLOG: Part 1--General Core), while extending it in many ways. The intention is to ensure that all ISO-compliant Prolog programs should run correctly under Ciao. At the same time, Ciao allows selectively avoiding the loading of most ISO-builtins (and changing some other ISO characteristics) when not needed, so that it is possible to work with purer subsets of Prolog, and develop extensions using these purer subsets as a starting point. Also, Ciao allows the development of libraries which significantly extend the language both syntactically and semantically. 

Given that the final version of the ISO standard has only been recently published, total compliance with ISO is still not achieved. There are some minor deviations in, e.g., the treatment of characters, the syntax, some of the arithmetic functions, and part of the error system. However, despite this, Ciao has been reported by independent sources (members of the standarization body) to be one of the most conforming Prologs at the moment of this writing, and the first one to be able to compile all the standard-conforming test cases. 

Also, Ciao does not offer a strictly conforming mode which rejects uses of non-ISO features. However, in order to aid programmers who wish to write standard compliant programs, library predicates that correspond to those in the ISO-Prolog standard are marked specially in the manuals, and any differences between the Ciao and the prescribed ISO-Prolog behaviours, if any, commented appropriately. 

The intention of the Ciao developers is to progressively complete the compliance of Ciao with the published parts of the ISO standard as well as with the other parts which are currently in preparation and may be published in the future. 

Finally, as stated elsewhere, one of the design objectives of Ciao is to address some shortcomings of previous implementations of Prolog and logic programming in general. Given this, we also hope that some of the better ideas present in the Ciao system will make it eventually into the standard. 



@node Syntax terminology and notational conventions, Acknowledgments, ISO-Prolog compliance, Introduction
@comment node-name, next,  previous,  up
@section Syntax terminology and notational conventions 
@coindex notation
@glindex notation 

 In Prolog, procedures are called @emph{predicates} and predicate calls @emph{literals}. They all have the classical syntax of procedures (and of logic predications and of mathematical functions). Predicates are identified in this manual by a keyword 'PREDICATE' at the right margin of the place where they are documented. 

Prolog instructions are expressions made up of control constructs (@ref{Control constructs/predicates}) and literals, and are called @emph{goals}. Literals are also (atomic) goals. 

A predicate definition is a sequence of clauses. A clause has the form @code{H :- B.} (ending in '@code{.}'), where @code{H} is syntactically the same as a literal and is called the clause @emph{head}, and @code{B} is a goal and is called the clause @emph{body}. A clause with no body is written @code{H.} and is called a @emph{fact}. Clauses with body are also called @emph{rules}. A Prolog program is a sequence of predicate definitions. 



@menu
* Characters and character strings::  
* Predicate specs::		
* Modes::			
* Properties and types::	
* Declarations::		
* Operators::			
@end menu

@node Characters and character strings, Predicate specs, Syntax terminology and notational conventions, Syntax terminology and notational conventions
@comment node-name, next,  previous,  up
@subsection Characters and character strings 

We adopt the following convention for delineating character strings in the text of this manual: when a string is being used as a Prolog atom it is written thus: @code{user} or @code{'user'}; but in all other circumstances double quotes are used. 


@coindex keyboard
@glindex keyboard 
When referring to keyboard characters, printing characters are written thus: @key{a}, while control characters are written like this: @key{^A}. Thus @key{^C} is the character you get by holding down the @key{CTL} key while you type @key{c}. Finally, the special control characters carriage-return, line-feed and space are often abbreviated to @key{RET}, @key{LFD} and @key{SPC} respectively. 



@node Predicate specs, Modes, Characters and character strings, Syntax terminology and notational conventions
@comment node-name, next,  previous,  up
@subsection Predicate specs 

Predicates in Prolog are distinguished by their name @emph{and} their arity. We will call @code{name/arity} a 
@glindex @emph{predicate spec}
@emph{predicate spec}. The notation @code{name/arity} is therefore used when it is necessary to refer to a predicate unambiguously. For example, @code{concatenate/3} specifies the predicate which is named ``concatenate'' and which takes 3 arguments. 

(Note that different predicates may have the same name and different arity. Conversely, of course, they may have the same arity and different name.) 



@node Modes, Properties and types, Predicate specs, Syntax terminology and notational conventions
@comment node-name, next,  previous,  up
@subsection Modes 

When documenting a predicate, we will often describe its usage with a 
@glindex mode spec
mode spec which has the form @code{name(Arg1, ..., ArgN)} where each @code{Arg} may be preceded by a 
@glindex @emph{mode}
@emph{mode}. A mode is a functor which is wrapped around an argument (or prepended if defined as an operator). Such a mode allows documenting in a compact way the 
@glindex instantiation state
instantiation state on call and exit of the argument to which it is applied. The set of modes which can be used in Ciao is not fixed. Instead, arbitrary modes can be defined by in programs using the 
@glindex modedef/1
@code{modedef/1} declarations of the Ciao 
@glindex @emph{assertion language}
@emph{assertion language} (@ref{The Ciao assertion package} for details). Modes are identified in this manual by a keyword 'MODE'. 

Herein, we will use the set of modes defined in the Ciao 
@glindex isomodes
@code{isomodes} library, which is essentially the same as those used in the 
@glindex ISO-Prolog
ISO-Prolog standard (@ref{ISO-Prolog modes}). 



@node Properties and types, Declarations, Modes, Syntax terminology and notational conventions
@comment node-name, next,  previous,  up
@subsection Properties and types 

Although Ciao Prolog is @emph{not} a typed language, it allows writing (and using) types, as well as (more general) properties. There may be properties of the states and of the computation. Properties of the states allow expressing characteristics of the program variables during computation, like in @code{sorted(X)} (@code{X} is a sorted list). Properties of the computation allow expressing characteristics of a whole computation, like in @code{is_det(p(X,Y))} (such calls yield only one solution). Properties are just a special form of predicates (@ref{Declaring regular types}) and are identified in this manual by a keyword 'PROPERTY'. 

Ciao types are @emph{regular types} (@ref{Declaring regular types}), which are a special form of properties themselves. They are identified in this manual by a keyword 'REGTYPE'. 



@node Declarations, Operators, Properties and types, Syntax terminology and notational conventions
@comment node-name, next,  previous,  up
@subsection Declarations 

A @emph{declaration} is an instruction to one of the Ciao environment tools to do something, which is interspersed in the code of a program. Usually the target tool is either the compiler (telling it that a predicate is dynamic, or a meta-predicate, etc.) or the preprocessor (which understands declarations of properties and types, assertions, etc.). 

A declaration has the form @code{:- D.} where @code{D} is syntactically the same as a literal. Declarations are identified in this manual by a keyword 'DECLARATION'. 



@node Operators,  , Declarations, Syntax terminology and notational conventions
@comment node-name, next,  previous,  up
@subsection Operators 

An @emph{operator} is a functor (or predicate name) which has been declared as such, thus allowing its use in a prefix, infix, or suffix fashion, instead of the standard procedure-like fashion. E.g., declaring @code{+} as an infix operator allows writing @code{X+Y} instead of @code{'+'(X,Y)} (which may still, of course, be written). 

Operators in Ciao are local to the module/file where they are declared. However, some operators are standard and allowed in every program. See @ref{Standard operators}. This manual documents the operator declarations in each (library) module where they are included. 



@node Acknowledgments, Known bugs and planned improvements (ciao), Syntax terminology and notational conventions, Introduction
@comment node-name, next,  previous,  up
@section Acknowledgments 
@coindex acknowledgments
@glindex acknowledgments 

 The Ciao system is a joint effort on one side of the present (
@coindex Francisco Bueno
@glindex Francisco Bueno
@emph{Francisco Bueno}, 
@coindex Daniel Cabeza
@glindex Daniel Cabeza
@emph{Daniel Cabeza}, 
@coindex Manuel Carro
@glindex Manuel Carro
@emph{Manuel Carro}, 
@coindex Manuel Hermenegildo
@glindex Manuel Hermenegildo
@emph{Manuel Hermenegildo}, 
@coindex Pedro Lopez
@glindex Pedro Lopez 
@emph{Pedro L@'opez}, and 
@coindex German Puebla
@glindex German Puebla 
@emph{Germ@'an Puebla}) and past (
@coindex Maria Jose Garcia de la Banda
@glindex Maria Jose Garcia de la Banda 
@emph{Mar@'{@dotless{i}}a Jos@'e Garc@'{@dotless{i}}a de la Banda}) members of the 
@coindex CLIP group
@glindex CLIP group
@emph{CLIP group} at the School of Computer Science, 
@coindex Technical University of Madrid
@glindex Technical University of Madrid
@emph{Technical University of Madrid} , and on the other side of several colleagues and students that have collaborated with us over the years of its development. The following is an (inevitably incomplete) list of those that have contributed to the development of Ciao: 


@itemize @bullet{} 


@item The 
@coindex Ciao engine
@glindex Ciao engine
@emph{Ciao engine}, compiler, libraries and documentation, although completely rewritten at this point, have their origins in the 
@coindex &-Prolog
@glindex &-Prolog
@emph{&-Prolog} 
@coindex parallel Prolog
@glindex parallel Prolog
@emph{parallel Prolog} engine and 
@coindex parallelizing compiler
@glindex parallelizing compiler
@emph{parallelizing compiler}, developed by 
@coindex Manuel Hermenegildo
@glindex Manuel Hermenegildo
@emph{Manuel Hermenegildo}, 
@coindex Kevin Greene
@glindex Kevin Greene
@emph{Kevin Greene}, 
@coindex Kalyan Muthukumar
@glindex Kalyan Muthukumar
@emph{Kalyan Muthukumar}, and 
@coindex Roger Nasr
@glindex Roger Nasr
@emph{Roger Nasr} at 
@coindex MCC
@glindex MCC
@emph{MCC} and later at 
@coindex UPM
@glindex UPM
@emph{UPM}. The &-Prolog engine and low-level (
@coindex WAM
@glindex WAM
@emph{WAM}) compilers in turn were derived from early versions (0.5 to 0.7) of 
@coindex SICStus Prolog
@glindex SICStus Prolog
@emph{SICStus Prolog} [Car88]. SICStus is an excellent, high performance Prolog system, developed by 
@coindex Mats Carlsson
@glindex Mats Carlsson
@emph{Mats Carlsson} and colleagues at the 
@coindex Swedish Institute of Computer Science
@glindex Swedish Institute of Computer Science
@emph{Swedish Institute of Computer Science} (
@coindex SICS
@glindex SICS
@emph{SICS}), that every user of Prolog should check out [Swe95,AAF91]. Very special thanks are due to 
@coindex Seif Haridi
@glindex Seif Haridi
@emph{Seif Haridi}, 
@coindex Mats Carlsson
@glindex Mats Carlsson
@emph{Mats Carlsson}, and colleagues at SICS for allowing the SICStus 0.5-0.7 components in 
@coindex &-Prolog
@glindex &-Prolog
@emph{&-Prolog} and its successor, Ciao, to be distributed freely. Parts of the parallel abstract machine have been developed in collaboration with 
@coindex Gopal Gupta
@glindex Gopal Gupta
@emph{Gopal Gupta} and 
@coindex Enrico Pontelli
@glindex Enrico Pontelli
@emph{Enrico Pontelli} (
@coindex New Mexico State University
@glindex New Mexico State University
@emph{New Mexico State University}). 


@item Many aspects of the analyzers in the 
@coindex Ciao preprocessor
@glindex Ciao preprocessor
@emph{Ciao preprocessor} (
@glindex ciaopp
@code{ciaopp}) have been developed in collaboration with 
@coindex Peter Stuckey
@glindex Peter Stuckey
@emph{Peter Stuckey} (
@coindex Melbourne U.
@glindex Melbourne U.
@emph{Melbourne U.}), 
@coindex Kim Marriott
@glindex Kim Marriott
@emph{Kim Marriott} (
@coindex Monash U.
@glindex Monash U.
@emph{Monash U.}), 
@coindex Maurice Bruynooghe
@glindex Maurice Bruynooghe
@emph{Maurice Bruynooghe}, 
@coindex Gerda Janssens
@glindex Gerda Janssens
@emph{Gerda Janssens}, 
@coindex Anne Mulkers
@glindex Anne Mulkers
@emph{Anne Mulkers}, and 
@coindex Veroniek Dumortier
@glindex Veroniek Dumortier
@emph{Veroniek Dumortier} (
@coindex K.U. Leuven
@glindex K.U. Leuven
@emph{K.U. Leuven}), and 
@coindex Saumya Debray
@glindex Saumya Debray
@emph{Saumya Debray} (
@coindex U. of Arizona
@glindex U. of Arizona
@emph{U. of Arizona}). The assertion system has been developed in collaboration with 
@coindex Jan Maluzynski
@glindex Jan Maluzynski
@emph{Jan Maluzynski} and 
@coindex Wlodek Drabent
@glindex Wlodek Drabent
@emph{Wlodek Drabent} (
@coindex Linkoping U.
@glindex Linkoping U.
@emph{Linkoping U.}) and 
@coindex Pierre Deransart
@glindex Pierre Deransart
@emph{Pierre Deransart} (
@coindex INRIA
@glindex INRIA
@emph{INRIA}). The core of type inference system derives from the system developed by 
@coindex John Gallagher
@glindex John Gallagher
@emph{John Gallagher} [GdW94] (
@coindex Bristol University
@glindex Bristol University
@emph{Bristol University}) and later adapted to CLP(FD) by 
@coindex Pawel Pietrzak
@glindex Pawel Pietrzak
@emph{Pawel Pietrzak} (
@coindex Linkoping U.
@glindex Linkoping U.
@emph{Linkoping U.}). 


@item The constraint solvers for @emph{R} and @emph{Q} are derived from the code developed by 
@coindex Christian Holzbauer
@glindex Christian Holzbauer
@emph{Christian Holzbauer} (
@coindex Austrian Research Institute for AI
@glindex Austrian Research Institute for AI
@emph{Austrian Research Institute for AI} in Vienna) [Hol94,Hol90,Hol92]. 


@item The Ciao manuals include material from the 
@coindex DECsystem-10 Prolog User's Manual
@glindex DECsystem-10 Prolog User's Manual
@emph{DECsystem-10 Prolog User's Manual} by 
@coindex D.L. Bowen
@glindex D.L. Bowen
@emph{D.L. Bowen} (editor), 
@coindex L. Byrd
@glindex L. Byrd
@emph{L. Byrd}, 
@coindex F.C.N. Pereira
@glindex F.C.N. Pereira
@emph{F.C.N. Pereira}, 
@coindex L.M. Pereira
@glindex L.M. Pereira
@emph{L.M. Pereira}, and 
@coindex D.H.D. Warren
@glindex D.H.D. Warren
@emph{D.H.D. Warren} [BBP81]. They also contain material from the SICStus Prolog user manuals for SICStus versions 0.5-0.7 by 
@coindex Mats Carlsson
@glindex Mats Carlsson
@emph{Mats Carlsson} and 
@coindex Johan Widen
@glindex Johan Widen
@emph{Johan Widen} [Car88], as well as from the Prolog ISO standard documentation [DEDC96]. 


@item Ciao is designed to be highly extendable in a modular way. Many of the libraries distributed with Ciao have been developed by other people all of which is impossible to mention here. Individual author names are included in the documentation of each library. 


@item The development of the Ciao system has been supported in part by ESPRIT projects 
@glindex ACCLAIM
ACCLAIM, 
@glindex PARFORCE
PARFORCE, and 
@glindex DISCIPL
DISCIPL, and by 
@glindex CICYT/MEC
CICYT/MEC project 
@glindex ELLA
ELLA. 


@end itemize  

If you feel you have contributed to the development of Ciao and we have forgotten adding your name, please let us know and we will be glad to give proper credits. 





@node Known bugs and planned improvements (ciao), Version/Change Log (ciao), Acknowledgments, Introduction
@comment node-name, next,  previous,  up
@section Known bugs and planned improvements (@code{ciao})

@itemize @bullet{}

@item
Although the documentation is acceptable at this point, we are still really in beta mode in this regard.
@end itemize


@node Version/Change Log (ciao),  , Known bugs and planned improvements (ciao), Introduction
@comment node-name, next,  previous,  up
@section Version/Change Log (@code{ciao})

@table @strong

@item Version 1.4 (1999/11/27, 19:0:0 MEST)
 
@itemize @bullet{} 
@item Documentation greatly improved. 
@item Automatic compilation of foreign files. 
@item Concurrency primitives revamped; added multiengine capability. 
@item Windows installation and functioning is now much better. 
@item New version of OO library O'Ciao, with improved performance. 
@item Added support for "predicate abstractions" in call/N. 
@item Implemented reexportation through reexport declarations. 
@item Changed precedence of importations, last one is the higher. 
@item Modules can now implicitly export all predicates. 
@item Many minor bugs fixed. 
@end itemize 


@item Version 1.3 (1999/6/16, 17:5:58 MEST)
Development version following even 1.2.

@item Version 1.2 (1999/6/14, 16:54:55 MEST)
 Temporary version.

@item Version 1.1 (1999/6/4, 13:30:37 MEST)
Development version following even 1.0.

@item Version 1.0 (1999/6/4, 13:27:42 MEST)
 
@itemize @bullet{} 
@item Added Tcl/Tk interface library. 
@item Added push_prolog_flag/2 and pop_prolog_flag/1 declarations/builtins. 
@item Filename processing in Windows improved. 
@item Added redefining/1 declaration to avoid redefining warnings. 
@item Changed syntax/1 declaration to use_package/1. 
@item Added add_clause_trans/1 declaration. 
@item Changed format of .itf files such that a '+' stands for all the standard imports from engine, which are included in c_itf source internally (from engine(builtin_exports)). Further changes in itf data handling, so that once read in a session an .itf file, the file is cached and next time is needed no access to file system is required. 
@item Many bugs fixed. 
@end itemize 


@item Version 0.9 (1999/3/10, 17:3:49 CET)
 
@itemize @bullet{} 
@item Many bugs fixed. 
@end itemize 


@item Version 0.8 (1998/10/27, 13:12:36 MET)
 
@itemize @bullet{} 
@item Changed compiler so that only one pass is done, eliminated @code{.dep} files. 
@item New concurrency primitives. 
@item Changed assertion comment to # 
@item Implemented high-order with call/N. 
@item Integrated sql-interface with persistent predicates. 
@item First implementation of object oriented programming package. 
@item Some bugs fixed. 
@end itemize 


@item Version 0.7 (1998/9/15, 12:12:33 MEST)
 
@itemize @bullet{} 
@item Improved debugger capabilities and made easier to use. 
@item Simplified assertion format. 
@item New arithmetic functions added, which complete all ISO functions. 
@item Some bugs fixed. 
@end itemize  


@item Version 0.6 (1998/7/16, 21:12:7 MET DST)
 
@itemize @bullet{} 
@item Defining other path aliases (in addition to 'library') which can be loaded dynamically in executables is now possible. 
@item Added the posibility to define multifile predicates in the shell. 
@item Added the posibility to define dynamic predicates dynamically. 
@item Added addmodule meta-argument type. 
@item Implemented persistent data predicates. 
@item Implemented WWW library PiLLoW. 
@item Implemented active modules. 
@item Implemented lazy loading in executables. 
@item Modularized engine(builtin). 
@item Some bugs fixed. 
@end itemize 


@item Version 0.5 (1998/3/23)
 
@itemize @bullet{} 
@item First Windows version. 
@item Integrated debugger in toplevel. 
@item Implemented DCG's. 
@item Builtins renamed to match ISO-Prolog. 
@item Made ISO the default syntax. 
@end itemize 


@item Version 0.4 (1998/2/24)
 
@itemize @bullet{} 
@item First version with ciao emacs mode. 
@item Full integration of concurrent engine and compiler/library. 
@item Added new_declaration/1 directive. 
@item Added modular syntax enhancements. 
@item Shell script interpreter separated from toplevel shell. 
@item Added new compilation warnings. 
@end itemize  


@item Version 0.3 (1997/8/20)
 
@itemize @bullet{} 
@item Ciao builtins modularized. 
@item New prolog flags can be defined by libraries. 
@item Standalone comand-line compiler available, with automatic "make". 
@item Added assertions and regular types. 
@item First version using the automatic documentation generator. 
@end itemize  


@item Version 0.2 (1997/4/16)
 
@itemize @bullet{} 
@item First module system implemented. 
@item Implemented exceptions using catch/3 and throw/1. 
@item Added functional & record syntax. 
@item Added modular sentence, term, and goal translations. 
@item Implemented attributed variables. 
@item First CLPQ/CLPR implementation. 
@item Added the posibility of linking external .so files. 
@item Changes in systax to allow @code{P(X)} and @code{"string"||L}. 
@item Changed to be more similar to ISO-Prolog. 
@item Implemented Prolog shell scripts. 
@item Implemented data predicates. 
@end itemize 


@item Version 0.1 (1997/2/13)
First Ciao version, based on &-prolog system.
@end table

@c (component)


@node Getting started, *** PART I - The program development environment, Introduction, Top
@comment node-name, next,  previous,  up
@chapter Getting started
@c -------------------------------------------------
@c WARNING: Do not edit this file (GetStart.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/doc/common/GetStart.pl
@c -------------------------------------------------

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)





@c (component)


@node *** PART I - The program development environment, The stand-alone command-line compiler, Getting started, Top
@comment node-name, next,  previous,  up
@unnumbered PART I - The program development environment
@iftex
@vfill
@cartouche
@sp
@ 
@end iftex
@c -------------------------------------------------
@c WARNING: Do not edit this file (DevEnv.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/doc/common/DevEnv.pl
@c -------------------------------------------------


This part documents the components of the basic Ciao program development environment. They include: 


@table @asis 


@item ciaoc: 
the standalone compiler, which creates executables without having to enter the interactive top-level. 


@item ciaosh: 
(also invoked simply as @code{ciao}) is an interactive top-level shell, similar to the one found on most Prolog systems (with some enhancements). 


@item debugger.pl: 
a Byrd box-type debugger, similar to the one found on most Prolog systems (also with some enhancements). This is not a standalone application, but is rather included in 
@glindex ciaosh
@code{ciaosh}, as in other Prolog systems. 


@item ciao-shell: 
an interpreter/compiler for @emph{Prolog scripts} (i.e., files containing Prolog code which run without needing explicit compilation). 


@item ciao.el: 
a GNU 
@glindex emacs interface
emacs interface, which provides syntax coloring, atomatic location of errors, access to on-line manuals, etc. and greatly facilitates the interaction with the tools above. 


@end table  

The Ciao program development environment also includes 
@glindex ciaopp
@code{ciaopp}, the 
@glindex preprocessor
preprocessor, and 
@glindex lpdoc
@code{lpdoc}, the 
@glindex documentation generator
documentation generator, which are described in separate manuals. 



@iftex
@sp 
@end cartouche
@vfill
@end iftex

@c (component)


@node The stand-alone command-line compiler, The interactive top-level shell, *** PART I - The program development environment, Top
@comment node-name, next,  previous,  up
@chapter The stand-alone command-line compiler
@c -------------------------------------------------
@c WARNING: Do not edit this file (ciaoc.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/ciaoc/ciaoc.pl
@c -------------------------------------------------

@strong{Author(s):} Daniel Cabeza and the CLIP Group.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 0.9#103 (1999/5/30, 19:14:54 MEST)


@glindex ciaoc
@code{ciaoc} is the Ciao stand-alone command-line compiler. 
@glindex ciaoc
@code{ciaoc} can be used to create executables or to compile individual files to object code (to be later linked with other files). All these considerations apply also if the compilation is performed from the interactive top-level shell. 



@menu
* Building executables::	
* Paths used by the compiler during compilation::  
* Running the executables generated by the compiler::  
* Types of executables generated::  
* Intermediate files in the compilation process::  
* Usage (ciaoc)::		
@end menu

@node Building executables, Paths used by the compiler during compilation, The stand-alone command-line compiler, The stand-alone command-line compiler
@comment node-name, next,  previous,  up
@section Building executables 

An 
@coindex executable
@glindex executable
@emph{executable} can be built from a single file or from a collection of inter-related files. In the case of only one file, this file must define the predicate 
@glindex main/0
@code{main/0} or 
@glindex main/1
@code{main/1}. This predicate is the one which will be called when the executable is started. As an example, consider the following file, called @code{hello.pl}: 


@smallexample 
main :-
     write('Hello world'), 
     nl.
@end smallexample  


@noindent
It can be compiled using the 
@glindex ciaoc
@code{ciaoc} standalone compiler as follows: 


@smallexample 
/herme@@clip:/tmp
[60]> ciaoc hello

/herme@@clip:/tmp
[61]> 
@end smallexample  


@noindent
This produces (in Un*x-like systems) an executable called @code{hello}, which can then run by simply typing its name: 


@smallexample 
/herme@@clip:/tmp
[61]> hello
Hello world

@end smallexample  

If the application is composed of several files the process is identical. Assume @code{hello.pl} is now: 


@smallexample 
:- use_module(aux,[p/1]).

main :-
     p(X),
     write(X), 
     nl.
@end smallexample  


@noindent
where the file @code{aux.pl} contains: 


@smallexample 
:- module(aux,[p/1]).

p('Hello world').
@end smallexample  


@noindent
This can again be compiled using the 
@glindex ciaoc
@code{ciaoc} standalone compiler as before: 


@smallexample 
/herme@@clip:/tmp
[60]> ciaoc hello

/herme@@clip:/tmp
[61]> hello
Hello world

@end smallexample  


@noindent
The invocation of @code{ciaoc hello} compiles the file @code{hello.pl} and all connected files that may need recompilation -- in this case the file @code{aux.pl}. Also, if any library files used had not been compiled previously they would be compiled at this point (See @ref{Intermediate files in the compilation process}). Also, if, say, @code{hello.pl} is changed and recompiled, the object code resulting from the previous compilation of @code{aux.pl} will be reused. This is all done without any need for @code{Makefile}s, and considerably accelerates the development process for large applications. This process can be observed by selecting the @code{-v} option when invoking @code{ciaoc} (which is equivalent to setting the @code{verbose_compilation} Prolog flag in the top-level interpreter). 

If 
@glindex main/1
@code{main/1} is defined instead of 
@glindex main/0
@code{main/0} then when the executable is started the argument of 
@glindex main/1
@code{main/1} will be instantiated to a list of atoms, each one of them corresponding to a command line option. Consider the file @code{say.pl}: 


@smallexample 
main(Argv) :-
     write_list(Argv), nl.

write_list([]).
write_list([Arg|Args]) :- 
     write(Arg),
     write(' '),
     write_list(Args).
@end smallexample  


@noindent
Compiling it and running it results in the following output: 


@smallexample 
/herme@@clip:/tmp
[91]> ciaoc say

/herme@@clip:/tmp
[91]> say hello dolly
hello dolly 
@end smallexample  

The name of the generated executable can be controlled with the @code{-o} option (See @ref{Usage (ciaoc)}). 



@node Paths used by the compiler during compilation, Running the executables generated by the compiler, Building executables, The stand-alone command-line compiler
@comment node-name, next,  previous,  up
@section Paths used by the compiler during compilation 

The compiler will look for files mentioned in commands such as 
@glindex use_module/1
@code{use_module/1} or 
@glindex ensure_loaded/1
@code{ensure_loaded/1} in the current directory. Other paths can be added by including them in a file whose name is given to @code{ciaoc} using the @code{-u} option. This file should contain facts of the predicates 
@glindex file_search_path/2
@code{file_search_path/2} and 
@glindex library_directory/1
@code{library_directory/1} (see the documentation for these predicates and also @ref{Customizing library paths and path aliases} for details). 



@node Running the executables generated by the compiler, Types of executables generated, Paths used by the compiler during compilation, The stand-alone command-line compiler
@comment node-name, next,  previous,  up
@section Running the executables generated by the compiler 


@coindex executables, how to run
@glindex executables, how to run 

What the @code{ciaoc} compiler generates and how it is started varies somewhat from OS to OS. In general, the product of compiling an application with @code{ciaoc} is a @emph{shell script} that contains the bytecode (the product of the compilation) and invokes the 
@glindex Ciao engine
Ciao engine on it (see the first lines of the file). To run the generated executable from a Un*x shell, or from the 
@glindex bash
@code{bash} shell that comes with the Cygwin libraries (See @ref{Installation and compilation under Windows}) it suffices to type its name at the shell command line, as in the examples above. In a raw Win32 system, an additional @code{.bat} file is typically needed to start the application from the command line (or by double-clicking on it). The procedure for creating this 
@glindex .bat
@code{.bat} file changes somewhat depending on the Win32 operating system used. In Windows NT you can simply copy 
@glindex winNT_skel.bat
@code{winNT_skel.bat} (located in the 
@glindex win32
@code{win32} directory of the Ciao Prolog distribution) to the directory where the application is, and rename it to the name of the application to run (+ the @code{.bat} suffix). In Windows 95/98 you have to use the file 
@glindex win95_skel.bat
@code{win95_skel.bat} and change its name as before, but in addition you need to edit it to include the absolute path to the Ciao executable. We apologize for this (temporary) inconvenience, which we will try to smooth out in the near future by generating these @code{.bat} files automatically. 
 

@node Types of executables generated, Intermediate files in the compilation process, Running the executables generated by the compiler, The stand-alone command-line compiler
@comment node-name, next,  previous,  up
@section Types of executables generated 


@coindex executables, types
@glindex executables, types 

While the default options used by 
@glindex ciaoc
@code{ciaoc} are sufficient for normal use, by selecting other options 
@glindex ciaoc
@code{ciaoc} can generate several different types of executables, which offer interesting tradeoffs among size of the generated executable, portability, and startup time: 


@table @asis 


@item Dynamic executables: 
@coindex executables, dynamic
@glindex executables, dynamic 


@glindex ciaoc
@code{ciaoc} produces by default @emph{dynamic} executables. In this case the executable produced is a 
@glindex platform-independent
platform-independent file which includes in compiled form all the user defined files. On the other hand, any system libraries used by the application are loaded dynamically at startup. More precisely, any files that appear as @code{library(...)} in 
@glindex use_module/1
@code{use_module/1} and 
@glindex ensure_loaded/1
@code{ensure_loaded/1} declarations will not be included explicitly in the executable and will intead be loaded dynamically. Is is also possible to mark other 
@glindex path aliases
path aliases (see the documentation for 
@glindex file_search_path/2
@code{file_search_path/2}) for dynamic loading by using the @code{-d} option. Files accessed through such aliases will also be loaded dynamically. 

Dynamic loading allows making smaller executables. Such executables may be used directly in the same machine in which they were compiled, since suitable paths to the location of the libraries will be included as default in the executable by 
@glindex ciaoc
@code{ciaoc} during compilation. 

The executable can also be used in another machine, even if the architecture and OS are different. The requirement is that the Ciao libraries (which will also include the appropriate 
@glindex Ciao engine
Ciao engine for that architecture and OS) be installed in the target machine, and that the @code{CIAOLIB} and @code{CIAOENGINE} environment variables are set appropriately for the executable to be able to find them (see @ref{Environment variables used by Ciao executables}). How to do this differs slightly from OS to OS. 


@item Static executables: 
@coindex executables, static
@glindex executables, static 

Selecting the @code{-s} option @code{ciaoc} produces a @emph{static} executable. In this case the executable produced (again a 
@glindex platform-independent
platform-independent file) will include in it all the auxiliary files and any system libraries needed by the application. Thus, such an executable is almost complete, needing in order to run only the 
@glindex Ciao engine
Ciao engine, which is platform-specific.@footnote{Currently there is an exception to this related to libraries which are written in languages other than Prolog, as, e.g., C. C files are currently always compiled to dynamically loadable object files (@code{.so} files), and they thus need to be included manually in a distribution of an application. This will be automated in upcoming versions of the Ciao system.} Again, if the executable is run in the same machine in which it was compiled then the engine is found automatically. If the executable is moved to another machine, the executable only needs access to a suitable engine (which can be done by setting the @code{CIAOENGINE} environment variable to point to this engine). 

This type of compilation produces larger executables, but has the advantage that these executables can be installed and run in a different machine, with different architecture and OS, even if Ciao is not installed on that machine. To install (or distribute) such an executable, one only needs to copy the executable file itself and the appropriate engine for the target platform (See @ref{Installing Ciao} and @ref{Multiarchitecture support}), and to set things so that the executable can find the engine. @footnote{It is also possible to produce real standalone executables, i.e., executables that do not need to have an engine around. However, this is not automated yet, although it is planned for an upcoming version of the compiler. In particular, the compiler can generate a @code{.c} file for each @code{.pl} file. Then all the @code{.c} files can be compiled together into a real executable (the engine is added one more element during link time) producing a complete executable for a given architecture. The downside of course is that such an executable will not be portable to other architectures without recompilation.} 


@item Dynamic executables, with lazy loading: 
@coindex executables, lazy load
@glindex executables, lazy load 

Selecting the @code{-ll} option is very similar to the case of dynamic executables above, except that the code in the library modules is not loaded when the program is started but rather it is done during execution, the first time a predicate defined in that file is called. This is advantageous if a large application is composed of many parts but is such that typically only some of the parts are used in each invocation. The Ciao preprocessor, 
@glindex ciaopp
@code{ciaopp}, is a good example of this: it has many capabilitites but typically only some of them are used in a given session. An executable with lazy load has the advantage that it starts fast, loading a minimal functionality on startup, and then loads the different modules automatically as needed. 


@end table  



@node Intermediate files in the compilation process, Usage (ciaoc), Types of executables generated, The stand-alone command-line compiler
@comment node-name, next,  previous,  up
@section Intermediate files in the compilation process 

Compiling an individual source (i.e., @code{.pl}) file produces a @code{.itf} file and a @code{.po} file. The @code{.itf} file contains information of the 
@coindex modular interface
@glindex modular interface
@emph{modular interface} of the file, such as information on exported and imported predicates and on the other modules used by this module. This information is used to know if a given file should be recompiled at a given point in time and also to be able to detect more errors statically including undefined predicates, mismatches on predicate charaterictics across modules, etc. The @code{.po} file contains the platform-independent object code for a file, ready for linking (statically or dynamically). 

It is also possible to use @code{ciaoc} to explicitly generate the @code{.po} file for one or more @code{.pl} files by using the @code{-c} option. 



@node Usage (ciaoc),  , Intermediate files in the compilation process, The stand-alone command-line compiler
@comment node-name, next,  previous,  up
@section Usage (ciaoc) 

The following provides details on the different command line options available when invoking 
@glindex ciaoc
@code{ciaoc}: 


@sp 2 


@smallexample 
ciaoc <MiscOpts> <ExecOpts> [-o <execname>] <file> ...

  Make an executable from the listed files.  If there is
  more than one file, they must be non-module, and the
  first one must include the main predicate.  The -o
  option allows generating an arbitrary executable name.

ciaoc <MiscOpts> <ExecOpts> -a <publishmod> <module>

  Make an active module executable from <module> with
  address publish module <publishmod>.

ciaoc <MiscOpts> -c  <file> ...

  Compile listed files (make .po objects).

<MiscOpts> can be: [-v] [-u <file>]

-v  verbose mode

-u  use <file> for compilation

<ExecOpts> can be: [-s|-e|-l|(-ll <module>)*] (-d <alias>)*

-s  make a static executable (otherwise dynamic files are not included)

-e  make executable with eager load of dynamic files at startup (default)

-l  idem with lazy load of dynamic files (except insecure cases)

-ll force <module> to be loaded lazily,  implies -l

-d  files using this path alias are dynamic (default: library)

default extension for files is '.pl'

@end smallexample  



@c (component)


@node The interactive top-level shell, The interactive debugger, The stand-alone command-line compiler, Top
@comment node-name, next,  previous,  up
@chapter The interactive top-level shell
@liindex ciaosh
@c -------------------------------------------------
@c WARNING: Do not edit this file (ciaosh_doc.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/shell/ciaosh_doc.pl
@c -------------------------------------------------

@strong{Author(s):} Daniel Cabeza and the CLIP Group.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 1.3#105 (1999/11/18, 12:44:18 MET)


@glindex ciaosh
@code{ciaosh} is the CIAO interactive top-level shell. It provides the user an interactive programming environment with tools for incrementally building programs, debugging programs by following their executions, and modifying parts of programs without having to start again from scratch. If available, it is strongly recommended to use it with the 
@glindex emacs interface
emacs interface provided, as it greatly simplifies the operation. This chapter documents general operation in the shell. Subsequent chapters document the relevant exported predicates of the modules which provide functionalities to the shell. 



@menu
* Shell invocation and startup::  
* Shell interaction::		
* Entering recursive (conjunctive) shell levels::  
* Usage and interface (ciaosh)::  
* Documentation on exports (ciaosh)::  
* Documentation on internals (ciaosh)::	 
@end menu

@node Shell invocation and startup, Shell interaction, The interactive top-level shell, The interactive top-level shell
@comment node-name, next,  previous,  up
@section Shell invocation and startup 

When invoked, the shell responds with a message of identification and the prompt @code{?- } as soon as it is ready to accept input, thus: 


@smallexample 
CIAO 0.9 #21: Thu Mar 25 17:20:55 MET 1999
?- 
@end smallexample  

When the shell is initialized it looks for a file 
@glindex .ciaorc
@code{.ciaorc} in the HOME directory and makes an @code{include} of it, if it exists. This file is useful for including 
@glindex use_module/1
@code{use_module/1} declarations for the modules one wants to be loaded by default, changing 
@glindex prolog flag
prolog flags, etc. If the initialization file does not exist, the 
@glindex ISO-Prolog
ISO-Prolog compatibility package 
@glindex iso
@code{iso} is included, to provide (almost) all the ISO builtins by default. Two command-line options control the loading of the initialization file: 


@table @asis 


@item @code{-f} 
Fast start, do not load any initialization file. 


@item @code{-l} @code{File} 
Look for initialization file @code{File} instead of @code{~/.ciaorc}. If it does not exist, include the compatibility package @code{iso}. 


@end table  



@node Shell interaction, Entering recursive (conjunctive) shell levels, Shell invocation and startup, The interactive top-level shell
@comment node-name, next,  previous,  up
@section Shell interaction 

After the shell outputs the prompt, it is expecting either an internal command (see the following sections) or a 
@coindex query
@glindex query
@emph{query} (a goal or sequence of goals). When typing in the input, which must be a valid prolog term, if the term does not end in the first line, subsequent lines are indented. For example: 


@smallexample 
?- X =
   f(a,
   b).

X = f(a,b) ? 

yes
?- 
@end smallexample  

The queries are executed by the shell as if they appeared in the 
@glindex user module
user module. Thus, in addition to builtin predicates, predicates available to be executed directly are all predicates defined by loaded user files (files with no module declaration), and imported predicates from modules by the use of @code{use_module}. 

The possible answers of the shell, after executing an internal command or query, are: 


@itemize @bullet{} 


@item If the execution failed (or produced an error), the answer is @code{no}. 


@item If the execution was successful, and no 
@glindex answer variable
answer variable (see below) was bound (or constraints where imposed on such variables), the answer is simply @code{yes}. 


@item If the execution was successful and bindings where made (or constraints where imposed) on 
@glindex answer variable
answer variables, then the shell outputs the values of answer variables, as a sequence of bindings (or constraints), and then prints a @code{?} as a prompt. At this point it is expecting an input line from the user. By entering a carriage-return (@key{RET}) or any line starting with @code{y}, the query terminates and the shell answer @code{yes}. Entering a `@code{,}' the shell enters a 
@glindex recursive level
recursive level (see below). Finally, any other answer forces the system to backtrack and look for the next solution (answering as with the first solution). 


@end itemize  

To allow using connection variables in queries without having to report their results, variables whose name starts with @code{_} are not considered in answers, the rest being the 
@coindex answer variable
@glindex answer variable
@emph{answer variable}s. This example illustrates the previous points: 


@smallexample 
?- member(a, [b, c]).

no
?- member(a, [a, b]).

yes
?- member(X, [a|L]).

X = a ? ;

L = [X|_] ? 

yes
?- atom_codes(ciao, _C), member(L, _C).

L = 99 ? ;

L = 105 ? ;

L = 97 ? ;

L = 111 ? ;

no
?- 
@end smallexample  



@node Entering recursive (conjunctive) shell levels, Usage and interface (ciaosh), Shell interaction, The interactive top-level shell
@comment node-name, next,  previous,  up
@section Entering recursive (conjunctive) shell levels 

As stated before, when the user answers with `@code{,}' after a solution is presented, the shell enters a 
@coindex recursive level
@glindex recursive level
@emph{recursive level}, changing its prompt to @emph{N} @code{?- } (where @emph{N} is the recursion level) and keeping the bindings or constraints of the solution (this is inspired by the 
@coindex LogIn
@glindex LogIn
@emph{LogIn} language developed by 
@coindex H. Ait-Kaci
@glindex H. Ait-Kaci
@emph{H. Ait-Kaci}, 
@coindex P. Lincoln
@glindex P. Lincoln
@emph{P. Lincoln} and 
@coindex Roger Nasr
@glindex Roger Nasr
@emph{Roger Nasr} [AKNL86]). Thus, the following queries will be executed within that context, and all variables in the lower level solutions will be reported in subsequent solutions at this level. To exit a recursive level, input an @key{EOF} character or the command @code{up}. The last solution after entering the level is repeated, to allow asking for more solutions. Use command @code{top} to exit all recursive levels and return to the top level. Example interaction: 


@smallexample 
?- directory_files('.',_Fs), member(F,_Fs).

F = 'file_utils.po' ? ,

1 ?- file_property(F, mod_time(T)).

F = 'file_utils.po',
T = 923497679 ? 

yes
1 ?- up.

F = 'file_utils.po' ? ;

F = 'file_utils.pl' ? ;

F = 'file_utils.itf' ? ,

1 ?- file_property(F, mod_time(T)).

F = 'file_utils.itf',
T = 923497679 ? 

yes
1 ?- ^D
F = 'file_utils.itf' ? 

yes
?- 
@end smallexample  




@node Usage and interface (ciaosh), Documentation on exports (ciaosh), Entering recursive (conjunctive) shell levels, The interactive top-level shell
@comment node-name, next,  previous,  up
@section Usage and interface (@code{ciaosh})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

The following predicates can be used at the top-level shell natively (but see also @ref{The interactive debugger}).

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex use_module/1
@code{use_module/1}, 
@glindex use_module/2
@code{use_module/2}, 
@glindex ensure_loaded/1
@code{ensure_loaded/1}, 
@glindex include/1
@code{include/1}, 
@glindex use_package/1
@code{use_package/1}, 
@glindex consult/1
@code{consult/1}, 
@glindex compile/1
@code{compile/1}, 
@glindex ./2
@code{./2}, 
@glindex make_po/1
@code{make_po/1}, 
@glindex unload/1
@code{unload/1}, 
@glindex set_debug_mode/1
@code{set_debug_mode/1}, 
@glindex set_nodebug_mode/1
@code{set_nodebug_mode/1}, 
@glindex make_actmod/2
@code{make_actmod/2}, 
@glindex force_lazy/1
@code{force_lazy/1}, 
@glindex undo_force_lazy/1
@code{undo_force_lazy/1}, 
@glindex dynamic_search_path/1
@code{dynamic_search_path/1}, 
@glindex multifile/1
@code{multifile/1}.


@end itemize


@item @strong{Other modules used:}
@itemize @minus


@item @emph{Application modules:}

@glindex toplev
@code{toplev}.


@item @emph{System library modules:}

@glindex libpaths
@code{libpaths}, 
@glindex compiler/compiler
@code{compiler/compiler}, 
@glindex compiler/exemaker
@code{compiler/exemaker}, 
@glindex compiler/c_itf
@code{compiler/c_itf}, 
@glindex debugger
@code{debugger}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (ciaosh), Documentation on internals (ciaosh), Usage and interface (ciaosh), The interactive top-level shell
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{ciaosh})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{use_module/1 (pred)}}}
@temp
@end iftex
@pdindex use_module/1 
@glindex use_module/1 
@deffn PREDICATE use_module/1:






@strong{Usage:} @code{use_module(Module)}
@itemize @minus
@item @emph{Description:} Load into the top-level the module defined in @code{Module}, importing all the predicates it exports. 
@item @emph{The following properties should hold at call time:}


@code{Module} is a source name.
@iftex
@hfill
@end iftex
 (@code{streams_basic:sourcename/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{use_module/2 (pred)}}}
@temp
@end iftex
@pdindex use_module/2 
@glindex use_module/2 
@deffn PREDICATE use_module/2:






@strong{Usage:} @code{use_module(Module,Imports)}
@itemize @minus
@item @emph{Description:} Load into the top-level the module defined in @code{Module}, importing the predicates in @code{Imports}. 
@item @emph{The following properties should hold at call time:}


@code{Module} is a source name.
@iftex
@hfill
@end iftex
 (@code{streams_basic:sourcename/1})

@code{Imports} is a list of @code{predname}s.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{ensure_loaded/1 (pred)}}}
@temp
@end iftex
@pdindex ensure_loaded/1 
@glindex ensure_loaded/1 
@deffn PREDICATE ensure_loaded/1:






@strong{Usage:} @code{ensure_loaded(File)}
@itemize @minus
@item @emph{Description:} Load into the top-level the code residing in file (or files) @code{File}, which is user (i.e. non-module) code. 
@item @emph{The following properties should hold at call time:}


@code{File} is a source name or a list of source names.
@iftex
@hfill
@end iftex
 (@code{ciaosh_doc:sourcenames/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{include/1 (pred)}}}
@temp
@end iftex
@pdindex include/1 
@glindex include/1 
@deffn PREDICATE include/1:






@strong{Usage:} @code{include(File)}
@itemize @minus
@item @emph{Description:} The contents of the file @code{File} are included in the top-level shell. For the moment, it only works with some directives, which are interpreted by the shell, or with normal clauses (which are asserted), if library(dynamic) is loaded beforehand. 
@item @emph{The following properties should hold at call time:}


@code{File} is a source name.
@iftex
@hfill
@end iftex
 (@code{streams_basic:sourcename/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{use_package/1 (pred)}}}
@temp
@end iftex
@pdindex use_package/1 
@glindex use_package/1 
@deffn PREDICATE use_package/1:






@strong{Usage:} @code{use_package(Package)}
@itemize @minus
@item @emph{Description:} Equivalent to issuing an include(library(@code{Package})) for each listed file. By now some package contents cannot be handled. 
@item @emph{The following properties should hold at call time:}


@code{Package} is a source name or a list of source names.
@iftex
@hfill
@end iftex
 (@code{ciaosh_doc:sourcenames/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{consult/1 (pred)}}}
@temp
@end iftex
@pdindex consult/1 
@glindex consult/1 
@deffn PREDICATE consult/1:






@strong{Usage:} @code{consult(File)}
@itemize @minus
@item @emph{Description:} Provided for backward compatibility. Similar to 
@glindex ensure_loaded/1
@code{ensure_loaded/1}, but ensuring each listed file is loaded in consult mode (see @ref{The interactive debugger}). 
@item @emph{The following properties should hold at call time:}


@code{File} is a source name or a list of source names.
@iftex
@hfill
@end iftex
 (@code{ciaosh_doc:sourcenames/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{compile/1 (pred)}}}
@temp
@end iftex
@pdindex compile/1 
@glindex compile/1 
@deffn PREDICATE compile/1:






@strong{Usage:} @code{compile(File)}
@itemize @minus
@item @emph{Description:} Provided for backward compatibility. Similar to 
@glindex ensure_loaded/1
@code{ensure_loaded/1}, but ensuring each listed file is loaded in compile mode (see @ref{The interactive debugger}). 
@item @emph{The following properties should hold at call time:}


@code{File} is a source name or a list of source names.
@iftex
@hfill
@end iftex
 (@code{ciaosh_doc:sourcenames/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{./2 (pred)}}}
@temp
@end iftex
@pdindex ./2 
@glindex ./2 
@deffn PREDICATE ./2:






@strong{Usage:} @code{[File|Files]}
@itemize @minus
@item @emph{Description:} Provided for backward compatibility, obsoleted by 
@glindex ensure_loaded/1
@code{ensure_loaded/1}. 
@item @emph{The following properties should hold at call time:}


@code{File} is a source name.
@iftex
@hfill
@end iftex
 (@code{streams_basic:sourcename/1})

@code{Files} is a list of @code{sourcename}s.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{make_exec/2 (udreexp)}}}
@temp
@end iftex
@glindex make_exec/2 
@deffn (UNDOC_REEXPORT) make_exec/2:



 Imported from 
@glindex toplev
@code{toplev} (see the corresponding documentation for details).

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{make_po/1 (pred)}}}
@temp
@end iftex
@pdindex make_po/1 
@glindex make_po/1 
@deffn PREDICATE make_po/1:






@strong{Usage:} @code{make_po(Files)}
@itemize @minus
@item @emph{Description:} Make object (@code{.po}) files from @code{Files}. Equivalent to executing "@code{ciaoc -c}" on the files. 
@item @emph{The following properties should hold at call time:}


@code{Files} is a source name or a list of source names.
@iftex
@hfill
@end iftex
 (@code{ciaosh_doc:sourcenames/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{unload/1 (pred)}}}
@temp
@end iftex
@pdindex unload/1 
@glindex unload/1 
@deffn PREDICATE unload/1:






@strong{Usage:} @code{unload(File)}
@itemize @minus
@item @emph{Description:} Unloads dynamically loaded file @code{File}. 
@item @emph{The following properties should hold at call time:}


@code{File} is a source name.
@iftex
@hfill
@end iftex
 (@code{streams_basic:sourcename/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{set_debug_mode/1 (pred)}}}
@temp
@end iftex
@pdindex set_debug_mode/1 
@glindex set_debug_mode/1 
@deffn PREDICATE set_debug_mode/1:






@strong{Usage:} @code{set_debug_mode(File)}
@itemize @minus
@item @emph{Description:} Set the loading mode of @code{File} to @emph{consult}. See @ref{The interactive debugger}. 
@item @emph{The following properties should hold at call time:}


@code{File} is a source name.
@iftex
@hfill
@end iftex
 (@code{streams_basic:sourcename/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{set_nodebug_mode/1 (pred)}}}
@temp
@end iftex
@pdindex set_nodebug_mode/1 
@glindex set_nodebug_mode/1 
@deffn PREDICATE set_nodebug_mode/1:






@strong{Usage:} @code{set_nodebug_mode(File)}
@itemize @minus
@item @emph{Description:} Set the loading mode of @code{File} to @emph{compile}. See @ref{The interactive debugger}. 
@item @emph{The following properties should hold at call time:}


@code{File} is a source name.
@iftex
@hfill
@end iftex
 (@code{streams_basic:sourcename/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{make_actmod/2 (pred)}}}
@temp
@end iftex
@pdindex make_actmod/2 
@glindex make_actmod/2 
@deffn PREDICATE make_actmod/2:






@strong{Usage:} @code{make_actmod(ModuleFile,PublishMod)}
@itemize @minus
@item @emph{Description:} Make an 
@glindex active module
active module executable from the module residing in @code{ModuleFile}, using address publish module of name @code{PublishMod} (which needs to be in the library paths). 
@item @emph{The following properties should hold at call time:}


@code{ModuleFile} is a source name.
@iftex
@hfill
@end iftex
 (@code{streams_basic:sourcename/1})

@code{PublishMod} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{force_lazy/1 (pred)}}}
@temp
@end iftex
@pdindex force_lazy/1 
@glindex force_lazy/1 
@deffn PREDICATE force_lazy/1:






@strong{Usage:} @code{force_lazy(Module)}
@itemize @minus
@item @emph{Description:} Force module of name @code{Module} to be loaded lazily in the subsequent created executables. 
@item @emph{The following properties should hold at call time:}


@code{Module} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{undo_force_lazy/1 (pred)}}}
@temp
@end iftex
@pdindex undo_force_lazy/1 
@glindex undo_force_lazy/1 
@deffn PREDICATE undo_force_lazy/1:






@strong{Usage:} @code{undo_force_lazy(Module)}
@itemize @minus
@item @emph{Description:} Disable a previous 
@glindex force_lazy/1
@code{force_lazy/1} on module @code{Module} (or, if it is uninstantiated, all previous 
@glindex force_lazy/1
@code{force_lazy/1}). 
@item @emph{Calls should, and exit will be compatible with:}


@code{Module} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{dynamic_search_path/1 (pred)}}}
@temp
@end iftex
@pdindex dynamic_search_path/1 
@glindex dynamic_search_path/1 
@deffn PREDICATE dynamic_search_path/1:






@strong{Usage:} @code{dynamic_search_path(Name)}
@itemize @minus
@item @emph{Description:} Asserting a fact to this data predicate, files using 
@glindex path alias
path alias @code{Name} will be treated as dynamic in the subsequent created executables. 
@item @emph{The following properties should hold at call time:}


@code{Name} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{(multifile)/1 (pred)}}}
@temp
@end iftex
@pdindex multifile/1 
@glindex multifile/1 
@deffn PREDICATE multifile/1:






@strong{Usage:} @code{multifile Pred}
@itemize @minus
@item @emph{Description:} Dynamically declare predicate @code{Pred} as multifile. This is useful at the top-level shell to be able to call multifile predicates of loaded files. 
@item @emph{The following properties should hold at call time:}


@code{Pred} is a Name/Arity structure denoting a predicate name: 
@smallexample 
predname(P/A) :-
        atm(P),
        int(A).
@end smallexample 

@iftex
@hfill
@end iftex
 (@code{basic_props:predname/1})
@end itemize
@end deffn
@sp 1



@node Documentation on internals (ciaosh),  , Documentation on exports (ciaosh), The interactive top-level shell
@comment node-name, next,  previous,  up
@section Documentation on internals (@code{ciaosh})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{sourcenames/1 (prop)}}}
@temp
@end iftex
@prindex sourcenames/1 
@glindex sourcenames/1 
@deffn PROPERTY sourcenames/1:



Is defined as follows:
@smallexample 
sourcenames(File) :-
        sourcename(File).
sourcenames(Files) :-
        list(Files,sourcename).
@end smallexample  
See 
@glindex sourcename/1
@code{sourcename/1} in @ref{Basic file/stream handling}


@strong{Usage:} @code{sourcenames(Files)}
@itemize @minus
@item @emph{Description:} @code{Files} is a source name or a list of source names. 
@end itemize
@end deffn
@sp 1


@c (component)


@node The interactive debugger, Predicates controlling the interactive debugger, The interactive top-level shell, Top
@comment node-name, next,  previous,  up
@chapter The interactive debugger
@c -------------------------------------------------
@c WARNING: Do not edit this file (debugger_doc.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/debugger_doc.pl
@c -------------------------------------------------


 

The Ciao program development environment includes a number of advanced debugging tools, such as the 
@glindex ciaopp
@code{ciaopp} preprocessor and some execution visualizers. Herein we discuss the interactive debugger available in the standard top-level, which allows to trace the control flow of programs, similar to other popular Prolog systems. This is a classical Byrd 'box-type' 
@coindex debugger
@glindex debugger
@emph{debugger} [Byr80,BBP81], with some enhancements. 

Byrd's 
@glindex Procedure Box
Procedure Box model of debugging execution provides a simple way of visualising control flow, especially during backtracking. Control flow is viewed at the predicate level, rather than at the level of individual clauses. The Ciao debugger has the ability to mark selected modules and/or files for debugging, rather than having to exhaustively trace your program. It also allows to selectively set 
@glindex spy-points
spy-points. Spy-points allow the programmer to nominate interesting predicates at which program execution is to pause so that the programmer can interact with the debugger. There is a wide choice of control and information options available during debugging interaction. 



@menu
* Marking modules and files for debugging::  
* The debugging process::	
* The procedure box control flow model::  
* Format of debugging messages::  
* Options available during debugging::	
@end menu

@node Marking modules and files for debugging, The debugging process, The interactive debugger, The interactive debugger
@comment node-name, next,  previous,  up
@section Marking modules and files for debugging 

Usually, when a program is not working properly, the programmer has a feeling of which are the modules where the fault may be. Since full-fledged debugging is only available on @emph{consulted} (interpreted) modules, which are executed much slower than compiled modules, there is the posibility of telling the top level which particular modules are wanted to be loaded in 
@coindex consult mode
@glindex consult mode
@emph{consult mode}, with the aim of debugging them. The most simple way of achieving this (appart from using the Ciao 
@glindex emacs
@code{emacs} mode, which includes special support for debugging) is executing in the Ciao shell prompt, for each suspicious module @code{Module} in the program, a command like this: 


@smallexample 
?- debug_module(Module).
@end smallexample  


@noindent
Note that files without module declaration belong to the module user, so the command to be issued for debugging a user file, say 'foo.pl', would be @code{debug_module(user)}, and not @code{debug_module(foo)}. 

The above command performs in fact two related things: on the one hand, it instructs the compiler to load any file containing a module of this name in consult mode; on the other, it instructs the debugger to actually prepare for debugging the code belonging to that module. After that, the modules which are to be debugged have to be (re)loaded in any appropriate form. The nice thing is that, if the modules are part of a bigger application, a command to load the main application file will automatically force loading the dependent modules which have changed, including those whose loading mode has changed, thus allowing the debugging of required files. 

Later, as the bug location is isolated, one would want to restrict more and more the modules where debugging takes place. To this end, and without the need of reloading, one can tell the debugger to not consider a module for debugging issuing a 
@glindex nodebug_module/1
@code{nodebug_module/1} command, which counteracts a 
@glindex debug_module/1
@code{debug_module/1} command with the same module name. 

There exist also the top-level commands 
@glindex set_debug_mode/1
@code{set_debug_mode/1} and 
@glindex set_nodebug_mode/1
@code{set_nodebug_mode/1}, which accept as argument a file spec (i.e., @code{library(foo)} or @code{foo}, even if it is a user file) to be able to load a file in consult mode without changing the set of modules the debugger will try to spy. 



@node The debugging process, The procedure box control flow model, Marking modules and files for debugging, The interactive debugger
@comment node-name, next,  previous,  up
@section The debugging process 

Once modules or user files are marked for debugging and reloaded, the traditional debugging shell commands can be used (the 
@glindex debugger
@code{debugger} library following this section contains all the commands and their description), with the same meaning as in other Prolog systems such as 
@glindex SICStus
SICStus. The difference in their behavior is that in Ciao debugging takes place only in the modules in which it was activated, and that 
@glindex nospy/1
@code{nospy/1} and 
@glindex spy/1
@code{spy/1} accept sequences of predicate specs, and they will search for those predicates only in the debugging-marked modules. 



@node The procedure box control flow model, Format of debugging messages, The debugging process, The interactive debugger
@comment node-name, next,  previous,  up
@section The procedure box control flow model 

During debugging the interpreter prints out a sequence of goals in various states of instantiation in order to show the state the program has reached in its execution. However, in order to understand what is occurring it is necessary to understand when and why the interpreter prints out goals. As in other programming languages, key points of interest are procedure entry and return, but in Prolog there is the additional complexity of backtracking. One of the major confusions that novice Prolog programmers have to face is the question of what actually happens when a goal fails and the system suddenly starts backtracking. The Procedure Box model of Prolog execution views program control flow in terms of movement about the program text. This model provides a basis for the debugging mechanism in the interpreter, and enables the user to view the behaviour of the program in a consistent way. 

Let us look at an example Prolog procedure: 

@image{autofigbyrdbox} 

The first clause states that @code{Y} is a descendant of @code{X} if @code{Y} is an offspring of @code{X}, and the second clause states that @code{Z} is a descendant of @code{X} if @code{Y} is an offspring of @code{X} and if @code{Z} is a descendant of @code{Y}. In the diagram a box has been drawn around the whole procedure and labelled arrows indicate the control flow in and out of this box. There are four such arrows which we shall look at in turn. 


@itemize @bullet{} 


@item Call 

This arrow represents initial invocation of the procedure. When a goal of the form @code{descendant(X,Y)} is required to be satisfied, control passes through the Call port of the descendant box with the intention of matching a component clause and then satisfying any subgoals in the body of that clause. Note that this is independent of whether such a match is possible; i.e. first the box is called, and then the attempt to match takes place. Textually we can imagine moving to the code for descendant when meeting a call to descendant in some other part of the code. 


@item Exit 

This arrow represents a successful return from the procedure. This occurs when the initial goal has been unified with one of the component clauses and any subgoals have been satisfied. Control now passes out of the Exit port of the descendant box. Textually we stop following the code for descendant and go back to the place we came from. 


@item Redo 

This arrow indicates that a subsequent goal has failed and that the system is backtracking in an attempt to find alternatives to previous solutions. Control passes through the Redo port of the descendant box. An attempt will now be made to resatisfy one of the component subgoals in the body of the clause that last succeeded; or, if that fails, to completely rematch the original goal with an alternative clause and then try to satisfy any subgoals in the body of this new clause. Textually we follow the code backwards up the way we came looking for new ways of succeeding, possibly dropping down on to another clause and following that if necessary. 


@item Fail 

This arrow represents a failure of the initial goal, which might occur if no clause is matched, or if subgoals are never satisfied, or if any solution produced is always rejected by later processing. Control now passes out of the Fail port of the descendant box and the system continues to backtrack. Textually we move back to the code which called this procedure and keep moving backwards up the code looking for choice points. 
@end itemize  

In terms of this model, the information we get about the procedure box is only the control flow through these four ports. This means that at this level we are not concerned with which clause matches, and how any subgoals are satisfied, but rather we only wish to know the initial goal and the final outcome. However, it can be seen that whenever we are trying to satisfy subgoals, what we are actually doing is passing through the ports of @emph{their} respective boxes. If we were to follow this, then we would have complete information about the control flow inside the procedure box. 

Note that the box we have drawn around the procedure should really be seen as an invocation box. That is, there will be a different box for each different invocation of the procedure. Obviously, with something like a recursive procedure, there will be many different Calls and Exits in the control flow, but these will be for different invocations. Since this might get confusing each invocation box is given a unique integer identifier. 



@node Format of debugging messages, Options available during debugging, The procedure box control flow model, The interactive debugger
@comment node-name, next,  previous,  up
@section Format of debugging messages 

This section explains the exact format of the message output by the debugger at a port. All trace messages are output to the terminal regardless of where the current output stream is directed (which allows tracing programs while they are performing file IO). The basic format is as follows: 


@smallexample 
S  13  7  Call: T user:descendant(dani,_123) ?
@end smallexample  

@code{S} is a spy-point indicator. It is printed as '@code{+}', indicating that there is a spy-point on @code{descendant/2} in module @code{user}, or as ' ', denoting no spy-point. 

@code{T} is a subterm trace. This is used in conjunction with the @code{^} command (set subterm), described below. If a subterm has been selected, @code{T} is printed as the sequence of commands used to select the subterm. Normally, however, @code{T} is printed as ' ', indicating that no subterm has been selected. 

The first number is the unique invocation identifier. It is always nondecreasing (provided that the debugger is switched on) regardless of whether or not the invocations are being actually seen. This number can be used to cross correlate the trace messages for the various ports, since it is unique for every invocation. It will also give an indication of the number of procedure calls made since the start of the execution. The invocation counter starts again for every fresh execution of a command, and it is also reset when retries (see later) are performed. 

The number following this is the @emph{current depth}; i.e., the number of direct @emph{ancestors} this goal has. The next word specifies the particular port (@code{Call}, @code{Exit}, @code{Redo} or @code{Fail}). The goal is then printed so that its current instantiation state can be inspected. The final @code{?} is the prompt indicating that the debugger is waiting for user interaction. One of the option codes allowed (see below) can be input at this point. 

Ports can be unleashed. This means that the debugger will not stop for interaction at the messages for an unleashed port. Obviously, the @code{?} prompt will not be shown in such messages, since the user has specified to not wish to interact at this point. 

Note that not all procedure calls are traced; there are a few basic predicates which have been made invisible since it is more convenient not to trace them. These include debugging directives, basic control structures, and some builtins. This means that messages will never be printed concerning these predicates during debugging. 



@node Options available during debugging,  , Format of debugging messages, The interactive debugger
@comment node-name, next,  previous,  up
@section Options available during debugging 
@coindex debug options
@glindex debug options 

This section describes the particular options that are available when the debugger prompts after printing out a debugging message. All the options are one letter mnemonics, some of which can be optionally followed by a decimal integer. They are read from the terminal with any blanks being completely ignored up to the next terminator (carriage-return, line-feed, or escape). Some options only actually require the terminator; e.g., the creep option, only requires @key{RET}. 

The only option which do really needs to be remembered is '@code{h}' (followed by @key{RET}). This provides help in the form of the following list of available options. 


@smallexample 
<cr>   creep            c      creep
 l     leap             s      skip
 r     retry            r <i>  retry i
 f     fail             f <i>  fail i
 d     display          p      print
 w     write
 g     ancestors        g <n>  ancestors n
 n     nodebug          =      debugging
 +     spy this         -      nospy this
 a     abort            b      break
 @@     command          u      unify
 <     reset printdepth < <n>  set printdepth
 ^     reset subterm    ^ <n>  set subterm
 ?     help             h      help
@end smallexample  


@itemize @bullet{} 
@item @code{c} 
@coindex creep
@glindex creep
@emph{creep} causes the debugger to single-step to the very next port and print a message. Then if the port is leashed the user is prompted for further interaction. Otherwise it continues creeping. If leashing is off, creep is the same as leap (see below) except that a complete trace is printed on the terminal. 


@item @code{l} 
@coindex leap
@glindex leap
@emph{leap} causes the interpreter to resume running the program, only stopping when a spy-point is reached (or when the program terminates). Leaping can thus be used to follow the execution at a higher level than exhaustive tracing. All that is needed to do is to set spy-points on an evenly spread set of pertinent predicates, and then follow the control flow through these by leaping from one to the other. 


@item @code{s} 
@coindex skip
@glindex skip
@emph{skip} is only valid for Call and Redo ports. It skips over the entire execution of the predicate. That is, no message will be seen until control comes back to this predicate (at either the Exit port or the Fail port). Skip is particularly useful while creeping since it guarantees that control will be returned after the (possibly complex) execution within the box. With skip then no message at all will appear until control returns. This includes calls to predicates with spy-points set; they will be masked out during the skip. There is a way of overriding this: the @code{t} option after a @key{^C} interrupt will disable the masking. Normally, however, this masking is just what is required! 


@item @code{r} 
@coindex retry
@glindex retry
@emph{retry} can be used at any of the four ports (although at the Call port it has no effect). It transfers control back to the Call port of the box. This allows restarting an invocation when, for example, it has left the programmer with some weird result. The state of execution is exactly the same as in the original call, (unless the invocation has performed side effects, which will not be undone). When a retry is performed the invocation counter is reset so that counting will continue from the current invocation number regardless of what happened before the retry. This is in accord with the fact that execution has, in operational terms, returned to the state before anything else was called. 

If an integer is supplied after the retry command, then this is taken as specifying an invocation number and the system tries to get to the Call port, not of the current box, but of the invocation box specified. It does this by continuously failing until it reaches the right place. Unfortunately this process cannot be guaranteed: it may be the case that the invocation then programmer is looking for has been cut out of the search space by cuts in the program. In this case the system fails to the latest surviving Call port before the correct one. 


@item @code{f} 
@coindex fail
@glindex fail
@emph{fail} can be used at any of the four ports (although at the Fail port it has no effect). It transfers control to the Fail port of the box, forcing the invocation to fail prematurely. If an integer is supplied after the command, then this is taken as specifying an invocation number and the system tries to get to the Fail port of the invocation box specified. It does this by continuously failing until it reaches the right place. Unfortunately, as before, this process cannot be guaranteed. 


@item @code{d} displays the current goal using @code{display/1}. See write (below). 


@item @code{p} re-prints the current goal using @code{print/1}. Nested structures will be printed to the specified @emph{printdepth} (below). 


@item @code{w} writes the current goal on the terminal using @code{write/1}. 


@item @code{g} provides a list of ancestors to the current goal, i.e., all goals that are hierarchically above the current goal in the calling sequence. It is always possible to jump to any goal in the ancestor list (by using retry, etc.). If an integer @code{n} is supplied, then only @code{n} ancestors will be printed. That is to say, the last @code{n} ancestors will be printed counting back from the current goal. Each entry in the list is preceded by the invocation number followed by the depth number (as would be given in a trace message). 


@item @code{n} switches the debugger off. Note that this is the correct way to switch debugging off at a trace point. The @code{@@} or @code{b} options cannot be used because they always return to the debugger. 


@item @code{=} outputs information concerning the status of the current debugging session. 


@item @code{+} 
@coindex spy
@glindex spy
@emph{spy} sets a spy-point on the current goal. 


@item @code{-} 
@coindex nospy
@glindex nospy
@emph{nospy} removes the spy-point from the current goal. 


@item @code{a} 
@coindex abort
@glindex abort
@emph{abort} causes an abort of the current execution. All the execution states built so far are destroyed and the system is put right back at the top-level of the interpreter. (This is the same as the built-in predicate @code{abort/0}.) 


@item @code{b} 
@coindex break
@glindex break
@emph{break} introduces an interpreter break-point: current execution flow is suspended, and a new interpreter top-level started 'on top' of the previous execution, which is 'sitting underneath' it. When the break-point is ended (with @key{^D}) previous execution is resumed, and the user will be reprompted at the port at which execution broke. The new execution is completely separate from the suspended one; the invocation numbers will start again from 1 during the break. The debugger is temporarily switched off as the break-point is called and will be re-switched on when the break is finished. However, any changes to the leashing or to spy-points will remain in effect. (This option might not be temporarily available.) 


@item @code{@@} 
@coindex command
@glindex command
@emph{command} allows calling arbitrary goals. It is effectively a one-off break (see above). The initial message @code{| :- } will be output on the terminal, and a command is then read from the terminal and executed as if it was at top-level. 


@item @code{u} 
@coindex unify
@glindex unify
@emph{unify} is available at the Call port and gives the option of providing a solution to the goal from the terminal rather than executing the goal. This is convenient, e.g., for providing a ``stub'' for a predicate that has not yet been written. A prompt @code{|: } will be output on the terminal, and the solution is then read from the terminal and unified with the goal. (This option might not be temporarily available.) 


@item @code{<} 
@coindex printdepth
@glindex printdepth
@emph{printdepth} sets a limit for the subterm nesting level that is printed in messages. While in the debugger, a printdepth is in effect for limiting the subterm nesting level when printing the current goal. When displaying or writing the current goal, all nesting levels are shown. The limit is initially 10. This command, without arguments, resets the limit to 10. With an argument of @code{n} the limit is set to @code{n}. 


@item @code{^} 
@coindex subterm
@glindex subterm
@emph{subterm} sets the subterm to be printed in messages. While at a particular port, a current subterm of the current goal is maintained. It is the current subterm which is displayed, printed, or written when prompting for a debugger command. Used in combination with the printdepth, this provides a means for navigating in the current goal for focusing on the part which is of interest. The current subterm is set to the current goal when arriving at a new port. This command, without arguments, resets the current subterm to the current goal. With an argument of @code{n} (greater than 0 and less or equal to the number of subterms of the current subterm), the current subterm is replaced by its @code{n}'th subterm. With an argument of @code{0}, the current subterm is replaced by its parent term. 


@item @code{?} or @code{h} displays the table of options given above. 


@end itemize  



@c (component)


@node Predicates controlling the interactive debugger, The script interpreter, The interactive debugger, Top
@comment node-name, next,  previous,  up
@chapter Predicates controlling the interactive debugger
@liindex debugger
@c -------------------------------------------------
@c WARNING: Do not edit this file (debugger.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/debugger.pl
@c -------------------------------------------------

@strong{Author(s):} A. Ciepielewski, M. Carlsson, T. Chikayama, K. Shen, D. Cabeza.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 1.3#104 (1999/11/17, 22:5:53 MET)

This library implements predicates which are normally used in the interactive top-level shell to debug programs.



@menu
* Usage and interface (debugger)::  
* Documentation on exports (debugger)::	 
* Documentation on internals (debugger)::  
@end menu

@node Usage and interface (debugger), Documentation on exports (debugger), Predicates controlling the interactive debugger, Predicates controlling the interactive debugger
@comment node-name, next,  previous,  up
@section Usage and interface (@code{debugger})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(debugger)).}

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex debug_module/1
@code{debug_module/1}, 
@glindex nodebug_module/1
@code{nodebug_module/1}, 
@glindex debug/0
@code{debug/0}, 
@glindex nodebug/0
@code{nodebug/0}, 
@glindex trace/0
@code{trace/0}, 
@glindex notrace/0
@code{notrace/0}, 
@glindex spy/1
@code{spy/1}, 
@glindex nospy/1
@code{nospy/1}, 
@glindex nospyall/0
@code{nospyall/0}, 
@glindex debugging/0
@code{debugging/0}, 
@glindex leash/1
@code{leash/1}, 
@glindex maxdepth/1
@code{maxdepth/1}, 
@glindex call_in_module/2
@code{call_in_module/2}.


@end itemize


@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex format
@code{format}, 
@glindex ttyout
@code{ttyout}, 
@glindex read
@code{read}, 
@glindex write
@code{write}, 
@glindex aggregates
@code{aggregates}, 
@glindex sort
@code{sort}, 
@glindex prolog_sys
@code{prolog_sys}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (debugger), Documentation on internals (debugger), Usage and interface (debugger), Predicates controlling the interactive debugger
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{debugger})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{debug_module/1 (pred)}}}
@temp
@end iftex
@pdindex debug_module/1 
@glindex debug_module/1 
@deffn PREDICATE debug_module/1:






@strong{Usage:} @code{debug_module(Module)}
@itemize @minus
@item @emph{Description:} The debugger will take into acount module @code{Module} (assuming it is is loaded in consult mode). When issuing this command at the toplevel shell, the compiler is instructed also to set to @emph{consult} the loading mode of files defining that module. 
@item @emph{The following properties should hold at call time:}


@code{Module} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{nodebug_module/1 (pred)}}}
@temp
@end iftex
@pdindex nodebug_module/1 
@glindex nodebug_module/1 
@deffn PREDICATE nodebug_module/1:






@strong{Usage:} @code{nodebug_module(Module)}
@itemize @minus
@item @emph{Description:} The debugger will not take into acount module @code{Module}. When issuing this command at the toplevel shell, the compiler is instructed also to set to @emph{compile} the loding mode of files defining that module. 
@item @emph{The following properties should hold at call time:}


@code{Module} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{debug/0 (pred)}}}
@temp
@end iftex
@pdindex debug/0 
@glindex debug/0 
@deffn PREDICATE debug/0:






@strong{Usage:} 
@itemize @minus
@item @emph{Description:} Switches the debugger on. The interpreter will stop at all ports of procedure boxes of spied predicates. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{nodebug/0 (pred)}}}
@temp
@end iftex
@pdindex nodebug/0 
@glindex nodebug/0 
@deffn PREDICATE nodebug/0:






@strong{Usage:} 
@itemize @minus
@item @emph{Description:} Switches the debugger off. If there are any spy-points set then they will be kept but disabled. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{trace/0 (pred)}}}
@temp
@end iftex
@pdindex trace/0 
@glindex trace/0 
@deffn PREDICATE trace/0:






@strong{Usage:} 
@itemize @minus
@item @emph{Description:} Start tracing, switching the debugger on if needed. The interpreter will stop at all leashed ports of procedure boxes of predicates either belonging to debugged modules or called from clauses of debugged modules. A message is printed at each stop point, expecting input from the user (write @code{h} to see the available options). 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{notrace/0 (pred)}}}
@temp
@end iftex
@pdindex notrace/0 
@glindex notrace/0 
@deffn PREDICATE notrace/0:






@strong{Usage:} 
@itemize @minus
@item @emph{Description:} Equivalent to 
@glindex nodebug/0
@code{nodebug/0}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{spy/1 (pred)}}}
@temp
@end iftex
@pdindex spy/1 
@glindex spy/1 
@deffn PREDICATE spy/1:






@strong{Usage:} @code{spy(PredSpec)}
@itemize @minus
@item @emph{Description:} Set spy-points on predicates belonging to debugged modules which match @code{PredSpec}, switching the debugger on if needed. This predicate is defined as a prefix operator by the toplevel. 
@item @emph{The following properties should hold at call time:}


@code{PredSpec} is a sequence of @code{multpredspec}s.
@iftex
@hfill
@end iftex
 (@code{basic_props:sequence/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{nospy/1 (pred)}}}
@temp
@end iftex
@pdindex nospy/1 
@glindex nospy/1 
@deffn PREDICATE nospy/1:






@strong{Usage:} @code{nospy(PredSpec)}
@itemize @minus
@item @emph{Description:} Remove spy-points on predicates belonging to debugged modules which match @code{PredSpec}. This predicate is defined as a prefix operator by the toplevel. 
@item @emph{The following properties should hold at call time:}


@code{PredSpec} is a sequence of @code{multpredspec}s.
@iftex
@hfill
@end iftex
 (@code{basic_props:sequence/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{nospyall/0 (pred)}}}
@temp
@end iftex
@pdindex nospyall/0 
@glindex nospyall/0 
@deffn PREDICATE nospyall/0:






@strong{Usage:} 
@itemize @minus
@item @emph{Description:} Remove all spy-points. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{debugging/0 (pred)}}}
@temp
@end iftex
@pdindex debugging/0 
@glindex debugging/0 
@deffn PREDICATE debugging/0:






@strong{Usage:} 
@itemize @minus
@item @emph{Description:} Display debugger state. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{leash/1 (pred)}}}
@temp
@end iftex
@pdindex leash/1 
@glindex leash/1 
@deffn PREDICATE leash/1:






@strong{Usage:} @code{leash(Ports)}
@itemize @minus
@item @emph{Description:} Leash on ports @code{Ports}, some of @code{call}, @code{exit}, @code{redo}, @code{fail}. 
@item @emph{The following properties should hold at call time:}


@code{Ports} is a list of @code{atm}s.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{maxdepth/1 (pred)}}}
@temp
@end iftex
@pdindex maxdepth/1 
@glindex maxdepth/1 
@deffn PREDICATE maxdepth/1:






@strong{Usage:} @code{maxdepth(MaxDepth)}
@itemize @minus
@item @emph{Description:} Set maximum invocation depth in debugging to @code{MaxDepth}. Calls to compiled predicates are not included in the computation of the depth. 
@item @emph{The following properties should hold at call time:}


@code{MaxDepth} is an integer.
@iftex
@hfill
@end iftex
 (@code{basic_props:int/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{call_in_module/2 (pred)}}}
@temp
@end iftex
@pdindex call_in_module/2 
@glindex call_in_module/2 
@deffn PREDICATE call_in_module/2:






@strong{Usage:} @code{call_in_module(Module,Predicate)}
@itemize @minus
@item @emph{Description:} Calls predicate @code{Predicate} belonging to module @code{Module}, even if that module does not export the predicate. 
@item @emph{The following properties should hold at call time:}


@code{Module} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})

@code{Predicate} is a term which represents a goal, i.e., an atom or a structure.
@iftex
@hfill
@end iftex
 (@code{basic_props:callable/1})
@end itemize
@end deffn
@sp 1



@node Documentation on internals (debugger),  , Documentation on exports (debugger), Predicates controlling the interactive debugger
@comment node-name, next,  previous,  up
@section Documentation on internals (@code{debugger})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{multpredspec/1 (prop)}}}
@temp
@end iftex
@prindex multpredspec/1 
@glindex multpredspec/1 
@deffn PROPERTY multpredspec/1:



A property, defined as follows:
@smallexample 
@smallexample 
multpredspec(Mod:Spec) :-
        atm(Mod),
        multpredspec(Spec).
multpredspec(Name/Low-High) :-
        atm(Name),
        int(Low),
        int(High).
multpredspec(Name/(Low-High)) :-
        atm(Name),
        int(Low),
        int(High).
multpredspec(Name/Arity) :-
        atm(Name),
        int(Arity).
multpredspec(Name) :-
        atm(Name).
@end smallexample 
@end smallexample 


@end deffn
@sp 1


@c (component)


@node The script interpreter, Customizing library paths and path aliases, Predicates controlling the interactive debugger, Top
@comment node-name, next,  previous,  up
@chapter The script interpreter
@c -------------------------------------------------
@c WARNING: Do not edit this file (ciao-shell.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/shell/ciao-shell.pl
@c -------------------------------------------------

@strong{Author(s):} Daniel Cabeza, Manuel Hermenegildo.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 1.3#106 (1999/11/18, 12:48:54 MET)


@glindex ciao-shell
@code{ciao-shell} is the Ciao script interpreter. It can be used to write 
@coindex Prolog shell scripts
@glindex Prolog shell scripts
@emph{Prolog shell scripts} (see [Her96,CHV96b]), that is, executable files containing source code, which are compiled on demand. 

Writing Prolog scripts can sometimes be advantageous with respect to creating binary executables for small- to medium-sized programs that are modified often and perform relatively simple tasks. The advantage is that no compilation is necessary, and thus changes and updates to the program imply only editing the source file. The disadvantage is that startup of the script (the first time after it is modified) is slower than for an application that has been compiled previously. 

An area of application is, for example, writing 
@coindex CGI executables
@glindex CGI executables
@emph{CGI executables}: the slow speed of the network connection in comparison with that of executing a program makes program execution speed less important has made scripting languages very popular for writing these scripts. Logic languages are, a priori, excellent candidates to be used as scripting languages. For example, the built-in grammars and databases can sometimes greatly simplify many typical script-based applications. 



@menu
* How it works::		
* Command line arguments in scripts::  
@end menu

@node How it works, Command line arguments in scripts, The script interpreter, The script interpreter
@comment node-name, next,  previous,  up
@section How it works 

Essentially, @code{ciao-shell} is a smaller version of the Ciao top-level, which starts by loading the file given to it as the first argument and then starts execution at 
@glindex main/1
@code{main/1} (the argument is instantiated to a list containing the command line options, in the usual way). However, while doing this, @code{ciao-shell} changes the 
@glindex prolog flag
prolog flag @code{quiet} so that no informational or warning messages are printed (error messages will be reported to @code{user_error}, however). The operation of @code{ciao-shell} in Unix-like systems is based in a special compiler feature: when the first character of a file is '@code{#}', the compiler skips the first lines until an empty line is found. 

For example, in a Linux/Unix system, assume a file called 
@glindex hello
@code{hello} contains the following program: 


@smallexample 
#!/bin/sh 
exec ciao-shell $0 "$@@" # -*- mode: ciao; -*-

main(_) :-
     write('Hello world'), nl.
@end smallexample  

Then, the file 
@glindex hello
@code{hello} can be @emph{run} by simply making it executable and invoking it from the command line: 


@smallexample 
/herme@@clip:/tmp
[86]> chmod +x hello

/herme@@clip:/tmp
[87]> hello
Hello world
@end smallexample  

The line: 
@smallexample 
#!/bin/sh 
@end smallexample  
@noindent
invokes the @code{/bin/sh} shell which will interpret the following line: 
@smallexample 
exec ciao-shell $0 "$@@" # -*- mode: ciao; -*-
@end smallexample  


@noindent
and invoke 
@glindex ciao-shell
@code{ciao-shell}, instructing it to read this same file (@code{$0}), passing it the rest of the arguments to @code{hello} as arguments to the prolog program. The second part of the line @code{# -*- mode: ciao; -*-} is simply a comment which is seen by 
@glindex emacs
@code{emacs} and instructs it to edit this file in Ciao mode (this is needed because these script files typically do not have a @code{.pl} ending). When 
@glindex ciao-shell
@code{ciao-shell} starts, if it is the first time, it compiles the program (skipping the first lines, as explained above), or else at successive runs loads the @code{.po} object file, and then calls 
@glindex main/1
@code{main/1}. 

Note that the process of creating Prolog scripts is made very simple by the Ciao 
@glindex emacs mode
emacs mode, which automatically inserts the header and makes the file executable (See @ref{Using Ciao inside GNU emacs}). 



@node Command line arguments in scripts,  , How it works, The script interpreter
@comment node-name, next,  previous,  up
@section Command line arguments in scripts 


@noindent
The following example illustrates the use of command-line arguments in scripts. Assume that a file called @code{say} contains the following lines: 


@smallexample 
#!/bin/sh 
exec ciao-shell $0 "$@@" # -*- mode: ciao; -*-

main(Argv) :-
     write_list(Argv), nl.

write_list([]).
write_list([Arg|Args]) :- 
     write(Arg),
     write(' '),
     write_list(Args).
@end smallexample  


@noindent
An example of use is: 


@smallexample 
/herme@@clip:/tmp
[91]> say hello dolly
hello dolly 
@end smallexample  
 




@c (component)


@node Customizing library paths and path aliases, Using Ciao inside GNU emacs, The script interpreter, Top
@comment node-name, next,  previous,  up
@chapter Customizing library paths and path aliases
@liindex libpaths
@c -------------------------------------------------
@c WARNING: Do not edit this file (libpaths.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/libpaths.pl
@c -------------------------------------------------


This library provides means for customizing, from environment variables, the libraries and 
@glindex path alias
path aliases known by an executable. Many applications of CIAO, including 
@glindex ciaoc
@code{ciaoc}, 
@glindex ciaosh
@code{ciaosh}, and 
@glindex ciao-shell
@code{ciao-shell} make use of this library. Note that if an executable is created dynamic, it will try to load its components at startup, before the procedures of this module can be invoked, so in this case all the components should be in standard locations.



@menu
* Usage and interface (libpaths)::  
* Documentation on exports (libpaths)::	 
* Documentation on multifiles (libpaths)::  
@end menu

@node Usage and interface (libpaths), Documentation on exports (libpaths), Customizing library paths and path aliases, Customizing library paths and path aliases
@comment node-name, next,  previous,  up
@section Usage and interface (@code{libpaths})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(libpaths)).}

@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex system
@code{system}, 
@glindex lists
@code{lists}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (libpaths), Documentation on multifiles (libpaths), Usage and interface (libpaths), Customizing library paths and path aliases
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{libpaths})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{get_alias_path/0 (pred)}}}
@temp
@end iftex
@pdindex get_alias_path/0 
@glindex get_alias_path/0 
@deffn PREDICATE get_alias_path/0:


@code{get_alias_path}


Consult the environment variable 'CIAOALIASPATH' and add facts to predicates 
@glindex library_directory/1
@code{library_directory/1} and 
@glindex file_search_path/2
@code{file_search_path/2} to define new library paths and 
@glindex path alias
path aliases. The format of 'CIAOALIASPATH' is a sequence of paths or alias assignments separated by colons, an alias assignment is the name of the alias, an '=' and the path represented by that alias (no blanks allowed). For example, given 
@smallexample 
   CIAOALIASPATH=/home/bardo/ciao:contrib=/usr/local/lib/ciao
@end smallexample  
the predicate will define /home/bardo/ciao as a library path and /usr/local/lib/ciao as the path represented by 'contrib'.

@end deffn
@sp 1



@node Documentation on multifiles (libpaths),  , Documentation on exports (libpaths), Customizing library paths and path aliases
@comment node-name, next,  previous,  up
@section Documentation on multifiles (@code{libpaths})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{file_search_path/2 (pred)}}}
@temp
@end iftex
@pdindex file_search_path/2 
@glindex file_search_path/2 
@deffn PREDICATE file_search_path/2:



See @ref{Basic file/stream handling}.


The predicate is @emph{multifile} and of type @emph{dynamic}.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{library_directory/1 (pred)}}}
@temp
@end iftex
@pdindex library_directory/1 
@glindex library_directory/1 
@deffn PREDICATE library_directory/1:



See @ref{Basic file/stream handling}.


The predicate is @emph{multifile} and of type @emph{dynamic}.

@end deffn
@sp 1


@c (component)


@node Using Ciao inside GNU emacs, *** PART II - The Ciao basic language (engine), Customizing library paths and path aliases, Top
@comment node-name, next,  previous,  up
@chapter Using Ciao inside GNU emacs
@c -------------------------------------------------
@c WARNING: Do not edit this file (CiaoMode.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/emacs/CiaoMode.pl
@c -------------------------------------------------

@strong{Author(s):} Manuel Hermenegildo and the CLIP Group.




The Ciao/Prolog 
@glindex emacs interface
emacs interface (or @emph{mode} 
@coindex emacs mode
@glindex emacs mode 
in 
@glindex emacs
@code{emacs} terms) provides a rich, integrated user interface to the Ciao 
@coindex program development environment
@glindex program development environment
@emph{program development environment} components, including the 
@glindex ciaosh
@code{ciaosh} interactive top level and the 
@glindex ciaopp
@code{ciaopp} preprocessor. While most features of the Ciao development environment are available from the command line of the preprocessor and the top-level shell, using Ciao inside 
@glindex emacs
@code{emacs} is highly recommended. The facilities that this mode provides include: 


@itemize @bullet{} 


@item 
@coindex Syntax highlighting
@glindex Syntax highlighting
@emph{Syntax highlighting} and syntax coloring, 
@coindex coloring, syntax
@glindex coloring, syntax 
@coindex auto-indentation
@glindex auto-indentation
@emph{auto-indentation}, 
@coindex auto-fill
@glindex auto-fill
@emph{auto-fill}, etc. of code. This includes the assertions used by the preprocessor and the documentation strings used by the Ciao auto-documenter, 
@glindex lpdoc
@code{lpdoc}. 


@item Providing automatic access to 
@glindex on-line help
on-line help for all predicates by accessing the Ciao system manuals in 
@glindex info
@code{info} format. 


@item Starting and communicating with 
@glindex ciaopp
@code{ciaopp}, the 
@coindex Ciao preprocessor
@glindex Ciao preprocessor
@emph{Ciao preprocessor}, running in its own 
@glindex sub-shell
sub-shell. This allows easily performing certain kinds of 
@coindex static checks
@glindex static checks
@emph{static checks} (useful for finding errors in programs before running them), program analysis tasks, and 
@coindex program transformations
@glindex program transformations
@emph{program transformations} on source programs. 


@item Starting and communicating with the 
@coindex Ciao top-level
@glindex Ciao top-level
@emph{Ciao top-level}, running in its own 
@glindex sub-shell
sub-shell. This facilitates loading programs, checking the @emph{syntax} of programs (and of 
@coindex assertions
@glindex assertions
@emph{assertions} within programs), marking and unmarking modules for interactive debugging, making stand-alone executables, compiling modules to dynamically linkable Prolog objects, compiling modules to active objects, etc. 


@item Syntax highlighting and coloring of the error and warning messages produced by the top level, preprocessor, or any other tool using the same message format (such as the 
@glindex lpdoc
@code{lpdoc} auto-documenter), and @emph{locating automatically the points in the source files where such errors occur}. 


@item Performing automatic 
@coindex version control
@glindex version control
@emph{version control} and keeping a 
@coindex change log
@glindex change log
@emph{change log} of individual files or whole applications. This is done by automatically including change log entries in source files, which can then be processed by the 
@glindex lpdoc
@code{lpdoc} auto-documenter. 


@end itemize  

This chapter explains how to use the Ciao/Prolog 
@glindex emacs
@code{emacs} interface and how to set up your 
@glindex emacs
@code{emacs} environment for correct operation. The Ciao 
@glindex emacs
@code{emacs} interface can also be used to work with other Prolog or CLP systems. 



@menu
* Installation of the Ciao/Prolog emacs interface::  
* Functionality and associated key sequences (bindings)::  
* Commands available in toplevel and preprocessor buffers::  
* Using Ciao/Prolog mode capabilities in standard shells::  
* Coexistence with other Prolog interfaces::  
* Version information::		
* Acknowledgments (ciao.el)::	
@end menu

@node Installation of the Ciao/Prolog emacs interface, Functionality and associated key sequences (bindings), Using Ciao inside GNU emacs, Using Ciao inside GNU emacs
@comment node-name, next,  previous,  up
@section Installation of the Ciao/Prolog emacs interface 

It may be possible that a complete pre-installation of the Ciao/Prolog 
@glindex emacs
@code{emacs} interface was already completed during Ciao installation. To check this, open a file with a @code{.pl} ending. You should see that 
@glindex emacs
@code{emacs} enters Ciao/Prolog mode: the mode is identified in the 
@glindex status bar
status bar below the 
@glindex buffer
buffer and, if the 
@glindex emacs menu bar
emacs menu bar is enabled, you should see the Ciao/Prolog menu. You should be able from the menu-bar, for example, to go to the Ciao manuals in the info or load the @code{.pl} file that you just opened into a ciao top level. 

If opening a file ending with @code{.pl} puts emacs in another mode (such as 
@glindex perl
@code{perl} mode, which is the --arguably incorrect-- default setting in some 
@glindex emacs
@code{emacs} distributions), then you can set things so that the Ciao/Prolog mode is loaded by default in your system. This can be done by including in your 
@glindex .emacs
@code{.emacs} file a line such as: 

@code{(load <CIAOLIBDIR>/DOTemacs)} 


@noindent
This loads the above mentioned file from the Ciao library, which contains the following lines (except that the paths are changed during installation to appropriate values for your system): 


@smallexample 
;; Ciao / &-Prolog / Prolog mode
;; (can be used for SICStus, and coexist with SICStus Prolog prolog.el)
;; 
(setq load-path (cons "<CIAOLIBDIR>" load-path))
(autoload 'run-ciao-toplevel "ciao"
          "Start a Ciao / &-Prolog / Prolog top-level sub-process." t)
(autoload 'run-ciao-preprocessor "ciao"
          "Start a Ciao / &-Prolog / Prolog preprocessor sub-process." t)
(autoload 'ciao-mode "ciao"
          "Major mode for edit/run Ciao, Prolog, &-Prolog" t)
(autoload 'ciao-inferior-mode "ciao"
          "Major mode for running Ciao, Prolog, lpdoc, etc." t)
(setq auto-mode-alist (cons '("\\.pl$" . ciao-mode) auto-mode-alist))
(setq auto-mode-alist (cons '("\\.pls$" . ciao-mode) auto-mode-alist))
(setq auto-mode-alist (cons '("\\.lpdoc$" . ciao-mode) auto-mode-alist))
(setq completion-ignored-extensions
      (append '(".dep" ".itf" ".po" ".asr" ".cpx")
              completion-ignored-extensions))
;; ------------------------------------------------------------------------
;; In Un*x, the following (or similar) lines should be included in your
;; .cshrc or .profile to find the manuals (the Ciao installation leaves
;; in the Ciao library directory 'DOTcshrc' and 'DOTprofile' files with
;; the right paths which can be included directly in your startup scripts):
;; 
;; setenv INFOPATH /usr/local/info:/usr/info:<LPDOCDIR>
;; ------------------------------------------------------------------------

@end smallexample  

If you would like to configure things in a different way, you can also copy the contents of this file to your 
@glindex .emacs
@code{.emacs} file and make the appropriate changes. For example, if you do not want @code{.pl} files to be put automatically in Ciao/Prolog mode, then comment out (or remove) the line: 

@code{(setq auto-mode-alist} ... @code{)} 


@noindent
You will then need to switch manually to Ciao/Prolog mode by typing @code{M-x ciao-mode} after opening a Prolog file. 

If you are able to open the Ciao/Prolog menu but the Ciao manuals are not found or the 
@glindex ciao
@code{ciao} command (the top-level) is not found when loading @code{.pl} files, the probable cause is that you do not have the Ciao paths in the @code{INFOPATH} and @code{MANPATH} 
@coindex environment variables
@glindex environment variables
@emph{environment variables} (whether these variables are set automatically or not for users depends on how the Ciao system was installed). You can add these paths easily by including the line: 

@code{source <CIAOLIBDIR>/DOTcshrc} 


@noindent
in your @code{.login} or @code{.cshrc} files if you are using 
@glindex csh
@code{csh} (or 
@glindex tcsh
@code{tcsh}, etc.), or, alternatively, the line: 

@code{. <CIAOLIBDIR>/DOTprofile} 


@noindent
in your @code{.login} or @code{.profile} files if you are using 
@glindex sh
@code{sh} (or 
@glindex bash
@code{bash}, etc.). See the Ciao installation instructions (@ref{Installing Ciao}) for details. 



@node Functionality and associated key sequences (bindings), Commands available in toplevel and preprocessor buffers, Installation of the Ciao/Prolog emacs interface, Using Ciao inside GNU emacs
@comment node-name, next,  previous,  up
@section Functionality and associated key sequences (bindings) 

The following is a summary of the capabilities of the Ciao/Prolog emacs interface and the (default) 
@coindex key sequences
@glindex key sequences
@emph{key sequences} used to access those capabilities. Most of these functions are accessible also from the menu bar. 



@menu
* Getting on-line help::	
* Loading debugging and compiling programs::  
* Locating errors and checking the syntax of assertions::  
* Commands which help in typing in programs::  
* Preprocessing programs::	
* Version control::		
* Setting the top-level and preprocessor executables::	
* Traditional Prolog Mode Commands::  
* Other commands::		
* Getting the Ciao/Prolog mode version::  
@end menu

@node Getting on-line help, Loading debugging and compiling programs, Functionality and associated key sequences (bindings), Functionality and associated key sequences (bindings)
@comment node-name, next,  previous,  up
@subsection Getting on-line help 

The following commands are useful for getting on-line help. This is done by accessing the 
@glindex info
@code{info} version of the Ciao manuals or the 
@glindex emacs
@code{emacs} built-in help strings. Note also that the 
@glindex info
@code{info} standard @code{search} command (generally bound to @key{s}) can be used inside 
@glindex info
@code{info} buffers to search for a given string. 
@table @asis 


@item @key{^C} @key{TAB}  
Find help for the symbol (e.g., predicate, directive, declaration, type, etc.) that is currently under the cursor. Opens a (hopefully) relevant part of the Ciao manuals in 
@glindex info
@code{info} mode. Requires that the Ciao manuals in 
@glindex info
@code{info} format be installed and that they accessible to emacs (i.e., they should appear somewhere in the info directory when typing @code{M-x info}). It also requires 
@glindex word-help.el
@code{word-help.el}, which is provided with Ciao. 
@end table  


@table @asis 


@item @key{^C} @key{/}  
Find a completion for the symbol (e.g., predicate, directive, declaration, type, etc.) that is currently under the cursor. Uses for completion the contents of the indices of the Ciao manuals. Same requirements as for finding help for the symbol. 
@end table  


@table @asis 


@item @key{^C} @key{^M}  
Go to the part of the info directory containing the Ciao manuals. 
@end table  


@table @asis 


@item @key{^H} @key{m}  
Show a short description of the Ciao/Prolog emacs mode, including all key bindings. 
@end table  



@node Loading debugging and compiling programs, Locating errors and checking the syntax of assertions, Getting on-line help, Functionality and associated key sequences (bindings)
@comment node-name, next,  previous,  up
@subsection Loading debugging and compiling programs 

These commands allow 
@coindex loading programs
@glindex loading programs
@emph{loading programs}, marking modules for 
@coindex debugging
@glindex debugging
@emph{debugging}, 
@coindex creating executables
@glindex creating executables
@emph{creating executables}, etc. by issuing the appropriate commands to a Ciao/Prolog top level shell, running in its own buffer as a subprocess. See @ref{The interactive top-level shell} for details. The following commands implement the communication with the Ciao/Prolog top level: 
@table @asis 


@item @key{^C} @key{l}  
Load the current buffer (and any auxiliary files it may use) into the top level. The type of compilation performed (
@coindex compiling
@glindex compiling
@emph{compiling} or 
@coindex consulting
@glindex consulting
@emph{consulting}) is selected automatically depending on whether the buffer has been marked for debugging or not -- see below. 
@end table  


@table @asis 


@item @key{^C} @key{m}  
Mark the current buffer for debugging. Note that if the buffer has already been loaded while it was unmarked for debugging (and has therefore been loaded in ``compile'' mode) it has to be loaded again. 
@end table  


@table @asis 


@item @key{^C} @key{u}  
Unmarks the current buffer for debugging. Note that if the buffer has already been loaded while it was marked for debugging (and has therefore been loaded in ``consult'' mode) it has to be loaded again. 
@end table  


@table @asis 


@item @key{^C} @key{r}  
Load the current region (between the cursor and a previous mark) into the top level for debugging. Since loading a region of a file is typically done for debugging and/or testing purposes, this command always loads the region in debugging mode (consult). 
@end table  


@table @asis 


@item @key{^C} @key{p}  
Load the predicate around the cursor into the top level. Since loading a single predicate is typically done for debugging and/or testing purposes, this command always loads the predicate in debugging mode (consult). 
@end table  


@table @asis 


@item @key{^C} @key{x}  
Make an executable from the code in the current buffer. The buffer must contain a 
@glindex main/0
@code{main/0} or 
@glindex main/1
@code{main/1} predicate. Note that compiler options can be set to determine whether the libraries and auxiliary files used by the executable will be statically linked, dynamically linked, auto-loaded, etc. 
@end table  


@table @asis 


@item @key{^C} @key{o}  
Make a Prolog object (.po) file from the code in the current buffer. This is very useful during debugging or program development, when only one or a few files of a large application are modified. If the application executable is dynamically linked, i.e., the component .po files are loaded dynamically during startup of the application, then this command can be used to recompile only the file or files which have changed, and the correct version will be loaded dynamically the next time the application is started. However, note that this only works if the inter-module interfaces have not changed. A safer, but possibly slower way is to generate the executable again, letting the Ciao compiler, which is inherently incremental, determine what needs to be recompiled. 
@end table  


@table @asis 


@item @key{^C} @key{a}  
Make an active module executable from the code in the current buffer. An active module is a remote procedure call server (see the 
@glindex activemod
@code{activemod} library documentation for details). 
@end table  


@table @asis 


@item @key{^C} @key{t}  
Ensure that an inferior Ciao/Prolog top-level process is running. Normally, it is not necessary to use this function since execution of any of the other functions related to the top level ensures that a top level is started (starting one if required). This function is useful when one would like to start a top level in order to type a command directly by hand into it. 
@end table  



@node Locating errors and checking the syntax of assertions, Commands which help in typing in programs, Loading debugging and compiling programs, Functionality and associated key sequences (bindings)
@comment node-name, next,  previous,  up
@subsection Locating errors and checking the syntax of assertions 

These commands allow several syntactic checks of assertions, and locating quickly the point in the source code corresponding to errors flagged by the compiler or preprocessor: 
@coindex locating errors
@glindex locating errors 
@table @asis 


@item @key{^C} @key{`}  
Go to location in source file containing next error reported by the last Ciao/Prolog subprocess (preprocessor or toplevel) which was run. 
@end table  


@table @asis 


@item @key{^C} @key{E}  
Check the syntax of the code and assertions in the current buffer, as well as imports and exports. Note that full (semantic) assertion checking must be done with the preprocessor. 
@end table  



@node Commands which help in typing in programs, Preprocessing programs, Locating errors and checking the syntax of assertions, Functionality and associated key sequences (bindings)
@comment node-name, next,  previous,  up
@subsection Commands which help in typing in programs 

The following commands are intended to help in the process of writing programs: 
@coindex writing programs
@glindex writing programs 
@table @asis 


@item @key{^C} @key{I} @key{S}  
Insert a (Unix) header at the top of the current buffer so that the ciao script interpreter will be called on this file if @emph{run} from the command line. It also makes the file 'executable' (e.g., '@code{chmod +x <file>}' in Unix). See @ref{The script interpreter} for details. 
@end table  



@node Preprocessing programs, Version control, Commands which help in typing in programs, Functionality and associated key sequences (bindings)
@comment node-name, next,  previous,  up
@subsection Preprocessing programs 

These commands allow 
@coindex preprocessing programs
@glindex preprocessing programs
@emph{preprocessing programs} with 
@glindex ciaopp
@code{ciaopp}, the 
@coindex Ciao preprocessor
@glindex Ciao preprocessor
@emph{Ciao preprocessor}. 

 
@glindex ciaopp
@code{ciaopp} is the precompiler of the CIAO Prolog development environment. 
@glindex ciaopp
@code{ciaopp} can perform a number of program debugging, analysis and source-to-source transformation tasks on (CIAO) Prolog programs. These tasks include: 


@itemize @bullet{} 


@item 
@coindex Inference of properties
@glindex Inference of properties
@emph{Inference of properties} of the predicates and literals of the progam, including 
@coindex types
@glindex types
@emph{types}, 
@coindex modes
@glindex modes
@emph{modes} and other 
@coindex variable instantiation
@glindex variable instantiation
@emph{variable instantiation} properties, 
@coindex non-failure
@glindex non-failure
@emph{non-failure}, 
@coindex determinacy
@glindex determinacy
@emph{determinacy}, bounds on 
@coindex computational cost
@glindex computational cost
@emph{computational cost}, bounds on 
@coindex sizes of terms
@glindex sizes of terms
@emph{sizes of terms} in the program, etc. 


@item Certain kinds of 
@coindex static debugging
@glindex static debugging
@emph{static debugging}, finding errors before running the program. This includes checking the ways in which programs call the system library predicates and also 
@coindex checking the assertions
@glindex checking the assertions
@emph{checking the assertions} present in the program or in other modules used by the program. Such assertions essentially represent partial 
@coindex specifications
@glindex specifications
@emph{specifications} of the program. 


@item Several kinds of source to source 
@coindex program transformations
@glindex program transformations
@emph{program transformations} such as 
@coindex program specialization
@glindex program specialization
@emph{program specialization}, 
@coindex program parallelization
@glindex program parallelization
@emph{program parallelization} (including 
@coindex granularity control
@glindex granularity control
@emph{granularity control}), inclusion of 
@coindex run-time tests
@glindex run-time tests
@emph{run-time tests} for assertions which cannot be checked completely at compile-time, etc. 


@end itemize  

The information generated by analysis, the assertions in the system libraries, and the assertions optionally included in user programs as specifications are all written in the same 
@coindex assertion language
@glindex assertion language
@emph{assertion language}, which is in turn also used by the CIAO system documentation generator, 
@glindex lpdoc
@code{lpdoc}. 


@glindex ciaopp
@code{ciaopp} is distributed under the 
@glindex GNU general public license
GNU general public license. 
 



See the preprocessor manual for details. The following commands implement the communication with the Ciao preprocessor: 
 
@table @asis 


@item @key{^C} @key{M}  
Preprocess the buffer, selecting options. Instructs the preprocessor to load the current buffer and start an interactive dialog in which the different options available in the preprocessor can be set. 
@end table  


@table @asis 


@item @key{^C} @key{P}  
Preprocess the buffer, using the previously selected options. If no options were set previously, then the preprocessor defaults are used. 
@end table  


@table @asis 


@item @key{^C} @key{^V}  
Show last output file produced by Ciao preprocessor. The preprocessor works by producing a file which is a transformed and/or adorned (with assertions) version of the input file. This is often used after running the preprocessor in order to see such results. 
@end table  


@table @asis 


@item @key{^C} @key{V}  
Preprocess the buffer, selecting options. Instructs the preprocessor to load the current buffer and start an interactive dialog in which the different options available in the preprocessor can be set. 
@end table  


@table @asis 


@item @key{^C} @key{^R}  
Ensure that an inferior Ciao preprocessor process is running 
@end table  



@node Version control, Setting the top-level and preprocessor executables, Preprocessing programs, Functionality and associated key sequences (bindings)
@comment node-name, next,  previous,  up
@subsection Version control 

The following commands can be used to carry out a simple form of 
@glindex version control
version control by keeping a 
@glindex log of changes
log of changes on a file or a group of related files. This log is kept in a format that is understood by 
@glindex lpdoc
@code{lpdoc}, the Ciao documenter [Her99a]. As a result, if these version comments are present, then 
@glindex lpdoc
@code{lpdoc} will be able to automatically assign up to date version numbers to the manuals that it generates. This way it is always possible to identify to which version of the software a manual corresponds. Also, 
@glindex lpdoc
@code{lpdoc} can create automatically sections describing the changes made since previous versions, which are extracted from the comments in the changelog entries. 

The main effect of these commands is automatically associate the following information to a set of changes performed in the file and/or in a set of related files: 


@itemize @bullet{} 


@item a 
@coindex version number
@glindex version number
@emph{version number} (such as, e.g., @code{1.2}, where @code{1} is the 
@glindex major version number
major version number and @code{2} is the 
@glindex minor version number
minor version number), 


@item a 
@glindex patch number
patch number (such as, e.g., the @code{4} in @code{1.2#4}), 


@item a 
@glindex time stamp
time stamp (such as, e.g., @code{1998/12/14,17:20*28+MET}), 


@item the author of the change, 
@coindex change, author
@glindex change, author 
and 


@item a comment explaining the change. 
@coindex change, comment
@glindex change, comment 
@end itemize  

The 
@glindex version numbering
version numbering used can be local to a single file or common to a number of related files. A simple version numbering policy is implemented: when a relevant change is made, the user typically inserts a 
@glindex changelog entry
changelog entry for it, using the appropriate command (or selecting the corresponding option when prompted while saving a file). This will cause the @emph{patch number} for the file (or for the whole system that the file is part of) to be incremented automatically and the corresponding machine-readable comment to be inserted in the file. Major and minor version numbers can also be changed, but this is always invoked by hand (see below). 

The changelog entry is written in the form of a 
@glindex comment/2
@code{comment/2} declaration. As mentioned before, the advantage of using this kind of changelog entries is that these declarations can be processed by the 
@glindex lpdoc
@code{lpdoc} automatic documenter (see the 
@glindex lpdoc
@code{lpdoc} reference manual [Her99a] or the 
@glindex assertions
@code{assertions} library documentation for more details on these declarations). 

Whether the user is asked or not to introduce such changelog entries, and how the patch and version numbers should be increased is controlled by the presence in the file of a 
@glindex comment/2
@code{comment/2} declaration of the type: 

@code{:- comment(version_maintenance,<type>).} 


@noindent
(note that this requires including the 
@glindex assertions
@code{assertions} library in the source file). These declarations themselves are also typically introduced automatically when using this mode (see below). 

The version maintenance mode can also be set alternatively by inserting a comment such as: 


@smallexample 
%% Local Variables: 
%% mode: Ciao/Prolog
%% update-version-comments: ""off""
%% End:
@end smallexample  

The lines above instruct emacs to put the buffer visiting the file in 
@glindex emacs Ciao/Prolog mode
emacs Ciao/Prolog mode and to turn version maintenance off. Setting the version maintenance mode in this way has the disadvantage that 
@glindex lpdoc
@code{lpdoc}, the auto-documenter, and other related tools will not be aware of the type of version maintenance being performed (the lines above are comments for Prolog). However, this can be useful in fact for setting the 
@coindex version maintenance mode for packages
@glindex version maintenance mode for packages
@emph{version maintenance mode for packages} and other files meant for inclusion in other files, since that way the settings will not affect the file in which the package is included. 

The following commands implement the version control support: 


@table @asis 


@item @key{^X} @key{^S}  
This is the standard 
@glindex emacs
@code{emacs} command that saves a buffer by writing the contents into the associated @code{.pl} file. However, in Ciao/Prolog mode this command can be set to ask the user before saving whether to introduce a change log entry documenting the changes performed. 

If the buffer does not already contain a comment specifying the 
@glindex type of version control
type of version control to be performed, and before saving the buffer, the Ciao/Prolog mode prompts the user to choose among the following options: 


@table @asis 


@item @key{q} 
Turn off prompting for the introduction of change log entries for now. 
@glindex emacs
@code{emacs} will not ask again while the buffer is loaded, but it will ask again next time you load the buffer. 


@item @key{n} 
Turn off version control for this file. A version control comment such as: 

@code{:- comment(version_maintenance,off).} 


@noindent
is added to the buffer and the file is saved. 
@glindex emacs
@code{emacs} will not perform any version control on this file until the line above is removed or modified (i.e., from now on C-x C-s simply saves the buffer). 


@item @key{y} 
Turn version control on for this file. 


@end table  

If @key{y} is selected, then the system prompts again regarding how and where the version and patch number information is to be maintained. The following options are available: 


@table @asis 


@item @code{on} 
All version control information will be contained within this file. When saving a buffer (C-x C-s) emacs will ask if a change log entry should be added to the file before saving. If a comment is entered by the user, a new patch number is assigned to it and the comment is added to the file. This patch number will be the one that follows the most recent change log entry already in the file. This is obviously useful when maintaining version numbers individually for each file. 


@item @code{<directory_name>} 
Global version control will be performed coherently on several files. When saving a buffer (C-x C-s) emacs will ask if a change log entry should be added to the file before saving. If a comment is given, the global patch number (which will be kept in the file: @code{<directory_name>/GlobalPatch}) is atomically incremented and the change log entry is added to the current file, associated to that patch number. Also, a small entry is added to a file @code{<directory_name>/GlobalChangeLog} which points to the current file. This allows inspecting all changes sequentially by visiting all the files where the changes were made (see C-c `). This is obviously useful when maintaining a single thread of version and patch numbers for a set of files. 


@item @code{off} 
Turns off version control: C-x C-s then simply saves the file as usual. 


@end table  

@strong{Some useful tips:} 


@itemize @bullet{} 


@item If a change log entry is in fact introduced, the cursor is left at the point in the file where the comment was inserted and the mark is left at the original file point. This allows inspecting (and possibly modifying) the change log entry, and then returning to the original point in the file by simply typing C-x C-x. 


@item 
@coindex moving change log entries
@glindex moving change log entries 
The first change log entry is entered by default at the end of the buffer. Later, the change log entries can be moved anywhere else in the file. New change log entries are always inserted just above the first change log entry which appears in the file. 


@item The comments in change log entries can be edited at any time. 


@item If a change log entry is moved to another file, and version numbers are shared by several files through a directory, the corresponding file pointer in the @code{<directory_name>/GlobalChangeLog} file needs to be changed also, for the entry to be locatable later using C-c C-n. 


@end itemize  
 
@end table  


@table @asis 


@item @key{^C} @key{^S}  
Same as C-x C-s except that it forces prompting for inclusion of a changelog entry even if the buffer is unmodified. 
@end table  


@table @asis 


@item @key{^C} @key{n}  
Force a move to a new major/minor version number (the user will be prompted for the new numbers). Only applicable if using directory-based version maintenance. Note that otherwise it suffices with introducing a change log entry in the file and changing its version number by hand. 
@end table  


@table @asis 


@item @key{^C} @key{^N}  
When a unique version numbering is being maintained across several files, this command allows inspecting all changes sequentially by visiting all the files in which the changes were made: 


@itemize @bullet{} 


@item If in a source file, find the next changelog entry in the source file, open in another window the corresponding 
@glindex GlobalChangeLog
@code{GlobalChangeLog} file, and position the cursor at the corresponding entry. This allows browsing the previous and following changes made, which may perhaps reside in other files in the system. 


@item If in a 
@glindex GlobalChangeLog
@code{GlobalChangeLog} file, look for the next entry in the file, and open in another window the source file in which the corresponding comment resides, positioning the corresponding comment at the top of the screen. This allows going through a section of the 
@glindex GlobalChangeLog
@code{GlobalChangeLog} file checking all the corresponding comments in the different files in which they occur. 


@end itemize  
 
@end table  



@node Setting the top-level and preprocessor executables, Traditional Prolog Mode Commands, Version control, Functionality and associated key sequences (bindings)
@comment node-name, next,  previous,  up
@subsection Setting the top-level and preprocessor executables 

These commands allow 
@coindex changing the executables used
@glindex changing the executables used
@emph{changing the executables used} when starting a Prolog top-level or the preprocessor, changing the arguments that these executables take, and changing the path where the Prolog libraries reside. This should be done only by users which understand the implications, but is very useful if several versions of Ciao/Prolog are available in the system: 
@table @asis 


@item @key{^C} @key{S} @key{C}  
Change the Ciao/Prolog executable used to run the Prolog-like top level. It is set by default to @code{ciao} or, to the environment variable @code{CIAO} if it is defined. 
@coindex toplevel command, setting
@glindex toplevel command, setting 
@end table  


@table @asis 


@item @key{^C} @key{S} @key{^C}  
Change the arguments passed to the Ciao/Prolog executable. They are set by default to none or, to the environment variable @code{CIAOARGS} if it is defined. 
@coindex toplevel command args, setting
@glindex toplevel command args, setting 
@end table  


@table @asis 


@item @key{^C} @key{S} @key{P}  
Change the executable used to run the Ciao Preprocessor toplevel. It is set by default to @code{ciaopp} or, to the environment variable @code{CIAOPP} if it is defined. 
@coindex preprocessor command, setting
@glindex preprocessor command, setting 
@end table  


@table @asis 


@item @key{^C} @key{S} @key{^P}  
Change the arguments parssed to the Ciao preprocessor executable. They are set by default to none or, to the environment variable @code{CIAOPPARGS} if it is defined. 
@coindex preprocessor command args, setting
@glindex preprocessor command args, setting 
@end table  


@table @asis 


@item @key{^C} @key{S} @key{L}  
Change the location of the Ciao/Prolog library paths (changes the environment variable CIAOLIB). 
@end table  



@node Traditional Prolog Mode Commands, Other commands, Setting the top-level and preprocessor executables, Functionality and associated key sequences (bindings)
@comment node-name, next,  previous,  up
@subsection Traditional Prolog Mode Commands 

These commands provide some bindings and facilities for loading programs, which are present in emacs Prolog modes of other Prolog systems (e.g., SICStus). This is useful mainly if the Ciao/Prolog emacs mode is used with such Prolog systems. Note that the behavior of these commands in Ciao is slightly different from that of SICStus. 
@table @asis 


@item @key{^C} @key{K}  
Compile the entire buffer. 
@end table  


@table @asis 


@item @key{^C} @key{k}  
Compile a given region. 
@end table  


@table @asis 


@item @key{^C} @key{^K}  
Compile the predicate around point. 
@end table  


@table @asis 


@item @key{^C} @key{C}  
Consult the entire buffer. 
@end table  


@table @asis 


@item @key{^C} @key{c}  
Consult a given region. 
@end table  


@table @asis 


@item @key{^C} @key{^C}  
Consult the predicate around point. 
@end table  



@node Other commands, Getting the Ciao/Prolog mode version, Traditional Prolog Mode Commands, Functionality and associated key sequences (bindings)
@comment node-name, next,  previous,  up
@subsection Other commands 

Some other commands which are active in the Ciao/Prolog mode: 
@table @asis 


@item @key{TAB}  
Indent current line as Ciao/Prolog code. With argument, indent any additional lines of the same clause rigidly along with this one. 
@end table  


@table @asis 


@item @key{^C} @key{^L}  
Recenter the most recently used Ciao/Prolog inferior process buffer (top-level or preprocessor). 
@end table  



@node Getting the Ciao/Prolog mode version,  , Other commands, Functionality and associated key sequences (bindings)
@comment node-name, next,  previous,  up
@subsection Getting the Ciao/Prolog mode version 


@coindex Ciao/Prolog mode version
@glindex Ciao/Prolog mode version 
@table @asis 


@item @key{^C} @key{v}  
Report the version of the emacs Ciao/Prolog mode. 
@end table  


 

@node Commands available in toplevel and preprocessor buffers, Using Ciao/Prolog mode capabilities in standard shells, Functionality and associated key sequences (bindings), Using Ciao inside GNU emacs
@comment node-name, next,  previous,  up
@section Commands available in toplevel and preprocessor buffers 

The interactive top level and the preprocessor both are typically run in an iteractive buffer, in which it is possible to communicate with them in the same way as is they had been started from a standard shell. In addition, the commands and key bindings available in buffers containing source code are also available in these interactive buffers, when applicable. 



@node Using Ciao/Prolog mode capabilities in standard shells, Coexistence with other Prolog interfaces, Commands available in toplevel and preprocessor buffers, Using Ciao inside GNU emacs
@comment node-name, next,  previous,  up
@section Using Ciao/Prolog mode capabilities in standard shells 

The capabilities (commands, coloring, ...) which are active in the Ciao/Prolog ``inferior'' mode (the mode of the buffers in which the top level and the preprocessor run) can also be made available in any standard command line shell which is being run within emacs. This can be enabled by going to the buffer in which the shell is running and typing ``@key{M-x} @code{ciao-inferior-mode}''. This is very useful for example when running the stand-alone compiler, the 
@glindex lpdoc
@code{lpdoc} documenter, or even certain user applications (those that use the standard error message library) in an emacs sub-shell. Turning the Ciao/Prolog inferior mode on on that sub-shell will highlight and color the error messages (type @key{^L}), and automatically find and visit the locations in the files in which the errors are reported. 



@node Coexistence with other Prolog interfaces, Version information, Using Ciao/Prolog mode capabilities in standard shells, Using Ciao inside GNU emacs
@comment node-name, next,  previous,  up
@section Coexistence with other Prolog interfaces 

As mentioned previously, the Ciao/Prolog 
@glindex emacs
@code{emacs} interface can also be used to work with other Prolog or CLP systems. Also, the Ciao/Prolog 
@glindex emacs
@code{emacs} interface (@emph{mode}) can coexist with other Prolog-related 
@glindex emacs
@code{emacs} interfaces (@emph{modes}) 
@coindex emacs mode, loading several
@glindex emacs mode, loading several 
(such as, e.g., the 
@glindex SICStus
@code{SICStus} Prolog interface). Only one of the interfaces can be active at a time for a given buffer (i.e., for each given file opened inside 
@glindex emacs
@code{emacs}). In order the change a buffer to a given interface, move the cursor to that buffer and type @code{M-x ...-mode} (e.g., for the Ciao/Prolog mode, @code{M-x ciao-mode}). 

If several Prolog-related 
@glindex emacs
@code{emacs} interfaces are loaded, then typically the @emph{last} one to be loaded takes precedence, in the sense that this will be the interface in which 
@glindex emacs
@code{emacs} will be set when opening files which have a @code{.pl} ending (this depends a bit on how things are set up in your @code{.emacs} file). 



@node Version information, Acknowledgments (ciao.el), Coexistence with other Prolog interfaces, Using Ciao inside GNU emacs
@comment node-name, next,  previous,  up
@section Version information 
This documentation corresponds to Ciao/Prolog emacs mode version @strong{5.55}. This mode is currently being developed within 
@glindex GNU emacs
@code{GNU emacs} version 20.2. It should also work with all other 20.XX and later 19.XX versions. 



@node Acknowledgments (ciao.el),  , Version information, Using Ciao inside GNU emacs
@comment node-name, next,  previous,  up
@section Acknowledgments (ciao.el) 

This code is derived from the 1993 version of the emacs interface for 
@glindex &-Prolog
&-Prolog, itself derived from the original 
@glindex prolog.el
@code{prolog.el} by 
@coindex Masanobu Umeda
@glindex Masanobu Umeda
@emph{Masanobu Umeda} with changes by 
@coindex Johan Andersson
@glindex Johan Andersson
@emph{Johan Andersson}, 
@coindex Peter Olin
@glindex Peter Olin
@emph{Peter Olin}, 
@coindex Mats Carlsson
@glindex Mats Carlsson
@emph{Mats Carlsson}, and 
@coindex Johan Bevemyr
@glindex Johan Bevemyr
@emph{Johan Bevemyr} of 
@coindex SICS
@glindex SICS
@emph{SICS}, Sweden. Other changes also by Daniel Cabeza.


@c (component)


@node *** PART II - The Ciao basic language (engine), The module system, Using Ciao inside GNU emacs, Top
@comment node-name, next,  previous,  up
@unnumbered PART II - The Ciao basic language (engine)
@iftex
@vfill
@cartouche
@sp
@ 
@end iftex
@c -------------------------------------------------
@c WARNING: Do not edit this file (Builtins.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/doc/common/Builtins.pl
@c -------------------------------------------------


 This part documents the 
@coindex Ciao engine builtins
@glindex Ciao engine builtins
@emph{Ciao engine builtins}, i.e., those that are contained in the @code{engine} directory 
@coindex engine directory
@glindex engine directory 
within the @code{lib} library. 
@coindex lib library
@glindex lib library 
The rest of the library predicates, including the packages that provide most of the 
@glindex ISO-Prolog builtins
ISO-Prolog builtins, are documented in subsequent parts. 

@iftex
@sp 
@end cartouche
@vfill
@end iftex

@c (component)


@node The module system, Directives for using code in other files, *** PART II - The Ciao basic language (engine), Top
@comment node-name, next,  previous,  up
@chapter The module system
@liindex modules
@c -------------------------------------------------
@c WARNING: Do not edit this file (modules.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/engine/modules.pl
@c -------------------------------------------------

@strong{Author(s):} Daniel Cabeza and the CLIP Group.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)


Modularity is a basic notion in a modern computer language. Modules allow dividing programs in several parts, which have its own independent name spaces. The module system in CIAO, as in many other Prolog implementations, is procedure based. This means that predicate names are local to a module, but functor/atom names in data are shared. 

The predicates visible in a module are the predicates defined in that module, plus the predicates imported from other modules. Only predicates exported by a module can be imported from other modules. The default module of a given predicate name is the local one if the predicate is defined locally, else the last module from which the predicate is imported, having explicit imports priority. To refer to a predicate from a module which is not the default for that predicate the name has to be module 
@coindex module qualification
@glindex module qualification
qualified. A module qualified predicate name has the form @code{Module}:@code{Predicate} as in the call @code{debugger:debug_module(M)}. Note that this does not allow having access to predicates not imported, nor defining clauses of other modules. 

All predicates defined in files with no module declaration belong to a special module called 
@coindex user module
@glindex user module 
@code{user}, and all are implicitly exported. This allows dividing programs in several files without being aware of the module system at all. Note that this feature is only supported for compatibility reasons, being its use discouraged. Many attractive compilation features of CIAO cannot be performed in @code{user} modules. 

The case of multifile predicates (defined with the declaration 
@glindex multifile/1
@code{multifile/1}) is also special. Multifile predicates can be defined by clauses distributed in several modules, and all modules which define a predicate as multifile can use that predicate. The name space of multifile predicates is independent, as if they belonged to special module @code{multifile}. 

Every @code{user} or module file imports implicitly a number of modules called 
@glindex builtin modules
builtin modules. They are imported before all other importations of the module, allowing thus redefining any of their predicates (with the exception of 
@glindex true/0
@code{true/0}) by defining local versions or importing them from other modules. Importing explicitly from a builtin module, however, disables the implicit importation of the rest (this feature is used by package 
@glindex library(pure)
@code{library(pure)} to define pure prolog code).



@menu
* Usage and interface (modules)::  
* Documentation on internals (modules)::  
@end menu

@node Usage and interface (modules), Documentation on internals (modules), The module system, The module system
@comment node-name, next,  previous,  up
@section Usage and interface (@code{modules})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

Modules are an intrinsic feature of CIAO, so nothing special has to be done to use them.
@end itemize
@end cartouche


@node Documentation on internals (modules),  , Usage and interface (modules), The module system
@comment node-name, next,  previous,  up
@section Documentation on internals (@code{modules})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{module/3 (decl)}}}
@temp
@end iftex
@deindex module/3 
@glindex module/3 
@deffn DECLARATION module/3:






@strong{Usage:} :- @code{module(Name,Exports,Packages)}.
@itemize @minus
@item @emph{Description:} Declares a module of name @code{Name} which exports the predicates in @code{Exports}, and uses the packages in @code{Packages}. @code{Name} must match with the name of the file where the module resides, without extension. For each source in @code{Packages}, a 
@glindex package file
package file is included, as if by an 
@glindex include/1
@code{include/1} declaration. If the source is specified with a 
@glindex path alias
path alias, this is the file included, if it is an atom, the library paths are searched. Package files provide functionalities by declaring imports from other modules, defining operators, new declarations, translations of code, etc. 

This directive must appear the first in the file. 

Also, if the compiler finds an unknown declaration as the first term in a file, the name of the declaration is regarded as a package library to be included, and the arguments of the declaration (if present) are interpreted like the arguments of 
@glindex module/3
@code{module/3}. 
@item @emph{The following properties hold at call time:}


@code{Name} is a module name (an atom).
@iftex
@hfill
@end iftex
 (@code{modules:modulename/1})

@code{Exports} is a list of @code{predname}s.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/2})

@code{Packages} is a list of @code{sourcename}s.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{module/2 (decl)}}}
@temp
@end iftex
@deindex module/2 
@glindex module/2 
@deffn DECLARATION module/2:






@strong{Usage:} :- @code{module(Name,Exports)}.
@itemize @minus
@item @emph{Description:} Same as directive 
@glindex module/3
@code{module/3}, with an implicit package @code{iso}, which enables to include 
@glindex ISO-Prolog
ISO-Prolog compatible code (compatibility not 100% yet). 
@item @emph{The following properties hold at call time:}


@code{Name} is a module name (an atom).
@iftex
@hfill
@end iftex
 (@code{modules:modulename/1})

@code{Exports} is a list of @code{predname}s.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{export/1 (decl)}}}
@temp
@end iftex
@deindex export/1 
@glindex export/1 
@deffn DECLARATION export/1:






@strong{Usage 1:} :- @code{export(Pred)}.
@itemize @minus
@item @emph{Description:} Adds @code{Pred} to the set of exported predicates. 
@item @emph{The following properties hold at call time:}


@code{Pred} is a Name/Arity structure denoting a predicate name: 
@smallexample 
predname(P/A) :-
        atm(P),
        int(A).
@end smallexample 

@iftex
@hfill
@end iftex
 (@code{basic_props:predname/1})
@end itemize

@strong{Usage 2:} :- @code{export(Exports)}.
@itemize @minus
@item @emph{Description:} Adds @code{Exports} to the set of exported predicates. 
@item @emph{The following properties hold at call time:}


@code{Exports} is a list of @code{predname}s.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{use_module/2 (decl)}}}
@temp
@end iftex
@deindex use_module/2 
@glindex use_module/2 
@deffn DECLARATION use_module/2:






@strong{Usage:} :- @code{use_module(Module,Imports)}.
@itemize @minus
@item @emph{Description:} Specifies that this code imports from the module defined in @code{Module} the predicates in @code{Imports}. The imported predicates must be exported by the other module. 
@item @emph{The following properties hold at call time:}


@code{Module} is a source name.
@iftex
@hfill
@end iftex
 (@code{streams_basic:sourcename/1})

@code{Imports} is a list of @code{predname}s.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{use_module/1 (decl)}}}
@temp
@end iftex
@deindex use_module/1 
@glindex use_module/1 
@deffn DECLARATION use_module/1:






@strong{Usage:} :- @code{use_module(Module)}.
@itemize @minus
@item @emph{Description:} Specifies that this code imports from the module defined in @code{Module} all the predicates exported by it. The previous version with the explicit import list is preferred to this as it minimizes the chances to have to recompile this code if the other module changes. 
@item @emph{The following properties hold at call time:}


@code{Module} is a source name.
@iftex
@hfill
@end iftex
 (@code{streams_basic:sourcename/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{import/2 (decl)}}}
@temp
@end iftex
@deindex import/2 
@glindex import/2 
@deffn DECLARATION import/2:






@strong{Usage:} :- @code{import(Module,Imports)}.
@itemize @minus
@item @emph{Description:} Declares that this code imports from the module with name @code{Module} the predicates in @code{Imports}. 

@strong{Important note:} this declaration is intended to be used when the current module or the imported module is going to be dynamically loaded, and so the compiler does not include the code of the imported module in the current executable (if only because the compiler cannot know the location of the module file at the time of compilation). For the same reason the predicates imported are not checked to be exported by @code{Module}. Its use in other cases is strongly discouraged, as it disallows many compiler optimizations. 
@item @emph{The following properties hold at call time:}


@code{Module} is a module name (an atom).
@iftex
@hfill
@end iftex
 (@code{modules:modulename/1})

@code{Imports} is a list of @code{predname}s.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{reexport/2 (decl)}}}
@temp
@end iftex
@deindex reexport/2 
@glindex reexport/2 
@deffn DECLARATION reexport/2:






@strong{Usage:} :- @code{reexport(Module,Preds)}.
@itemize @minus
@item @emph{Description:} Specifies that this code reexports from the module defined in @code{Module} the predicates in @code{Preds}. This implies that this module imports from the module defined in @code{Module} the predicates in @code{Preds}, an also that this module exports the predicates in @code{Preds} . 
@item @emph{The following properties hold at call time:}


@code{Module} is a source name.
@iftex
@hfill
@end iftex
 (@code{streams_basic:sourcename/1})

@code{Preds} is a list of @code{predname}s.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{reexport/1 (decl)}}}
@temp
@end iftex
@deindex reexport/1 
@glindex reexport/1 
@deffn DECLARATION reexport/1:






@strong{Usage:} :- @code{reexport(Module)}.
@itemize @minus
@item @emph{Description:} Specifies that this code reexports from the module defined in @code{Module} all the predicates exported by it. This implies that this module imports from the module defined in @code{Module} all the predicates exported by it, an also that this module exports all such predicates . 
@item @emph{The following properties hold at call time:}


@code{Module} is a source name.
@iftex
@hfill
@end iftex
 (@code{streams_basic:sourcename/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{(meta_predicate)/1 (decl)}}}
@temp
@end iftex
@deindex meta_predicate/1 
@glindex meta_predicate/1 
@deffn DECLARATION meta_predicate/1:






@strong{Usage:} :- @code{meta_predicate MetaSpecs}.
@itemize @minus
@item @emph{Description:} Specifies that the predicates in @code{MetaSpecs} have arguments which represent predicates and thus have to be module expanded. The directive is not mandatory in programs which do not use modules. This directive is defined as a prefix operator in the compiler. 
@item @emph{The following properties hold at call time:}


@code{MetaSpecs} is a sequence of @code{metaspec}s.
@iftex
@hfill
@end iftex
 (@code{basic_props:sequence/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{modulename/1 (regtype)}}}
@temp
@end iftex
@teindex modulename/1 
@glindex modulename/1 
@deffn REGTYPE modulename/1:






@strong{Usage:} @code{modulename(M)}
@itemize @minus
@item @emph{Description:} @code{M} is a module name (an atom). 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{metaspec/1 (regtype)}}}
@temp
@end iftex
@teindex metaspec/1 
@glindex metaspec/1 
@deffn REGTYPE metaspec/1:



A meta-predicate specification for a predicate is the functor of that predicate applied to atoms which represent the kind of module expansion that should be done with the arguments. Possible contents are represented as: 


@table @asis 


@item @code{goal} 
This argument will be a term denoting a goal (either a simple or complex one) which will be called. For commpatibility reasons it can be named as @code{:} as well. 


@item @code{clause} 
This argument will be a term denoting a clause. 


@item @code{fact} 
This argument should be instantiated to a term denoting a fact (head-only clause). 


@item @code{spec} 
This argument should be instantiated to a predicate name, as Functor/Arity. 


@item @code{pred(@emph{N})} 
This argument should be instantiated to a predicate construct to be called by means of a @code{call/@emph{N}} predicate call (see 
@glindex call/2
@code{call/2}). Thus, it should be an atom equal to the name of a predicate of arity @emph{N}, or a structure with functor the name of a predicate of arity @emph{M} (greater than @emph{N}) and with @emph{M}-@emph{N} arguments. 


@item @code{?,+,-,_} 
These other values denote that this argument is not module expanded. 


@end table 



@strong{Usage:} @code{metaspec(M)}
@itemize @minus
@item @emph{Description:} @code{M} is a meta-predicate specification. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1


@c (component)


@node Directives for using code in other files, Control constructs/predicates, The module system, Top
@comment node-name, next,  previous,  up
@chapter Directives for using code in other files
@liindex loading_code
@c -------------------------------------------------
@c WARNING: Do not edit this file (loading_code.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/engine/loading_code.pl
@c -------------------------------------------------

@strong{Author(s):} Daniel Cabeza.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 1.3#107 (1999/11/18, 13:6:14 MET)





@menu
* Usage and interface (loading_code)::	
* Documentation on internals (loading_code)::  
@end menu

@node Usage and interface (loading_code), Documentation on internals (loading_code), Directives for using code in other files, Directives for using code in other files
@comment node-name, next,  previous,  up
@section Usage and interface (@code{loading_code})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

These directives are builtin in CIAO, so nothing special has to be done to use them.
@end itemize
@end cartouche


@node Documentation on internals (loading_code),  , Usage and interface (loading_code), Directives for using code in other files
@comment node-name, next,  previous,  up
@section Documentation on internals (@code{loading_code})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{ensure_loaded/1 (decl)}}}
@temp
@end iftex
@deindex ensure_loaded/1 
@glindex ensure_loaded/1 
@deffn DECLARATION ensure_loaded/1:






@strong{Usage:} :- @code{ensure_loaded(File)}.
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@item @emph{Description:} Specifies that the code present in @code{File} will be included in the executable being prepared, in the @code{user} module. The file @code{File} cannot have a module declaration. This directive is intended to be used by programs not divided in modules. Dividing programs into modules is however strongly encouraged, since most of the attractive features of CIAO (such as static debugging and global optimization) are only partially available for @code{user} modules. 
@item @emph{The following properties should hold at call time:}


@code{File} is a source name.
@iftex
@hfill
@end iftex
 (@code{streams_basic:sourcename/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{include/1 (decl)}}}
@temp
@end iftex
@deindex include/1 
@glindex include/1 
@deffn DECLARATION include/1:






@strong{Usage:} :- @code{include(File)}.
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@item @emph{Description:} The contents of the file @code{File} are included in the current program text exactly as if they had been written in place of this directive. 
@item @emph{The following properties should hold at call time:}


@code{File} is a source name.
@iftex
@hfill
@end iftex
 (@code{streams_basic:sourcename/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{use_package/1 (decl)}}}
@temp
@end iftex
@deindex use_package/1 
@glindex use_package/1 
@deffn DECLARATION use_package/1:


:- @code{use_package(Package)}.


Specifies the use in this file of the packages defined in @code{Package}. See the description of the third argument of 
@glindex module/3
@code{module/3} for an explanation of 
@glindex package file
package files. 

This directive must appear the first in the file, or just after a 
@glindex module/3
@code{module/3} declaration. A file with no module declaration, in the absence of this directive, uses an implicit package @code{iso}, which enables to include 
@glindex ISO-Prolog
ISO-Prolog compatible code (compatibility not 100% yet).


@strong{Usage 1:} :- @code{use_package(Package)}.
@itemize @minus
@item @emph{The following properties should hold at call time:}


@code{Package} is a source name.
@iftex
@hfill
@end iftex
 (@code{streams_basic:sourcename/1})
@end itemize

@strong{Usage 2:} :- @code{use_package(Package)}.
@itemize @minus
@item @emph{The following properties should hold at call time:}


@code{Package} is a list of @code{sourcename}s.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/2})
@end itemize
@end deffn
@sp 1


@c (component)


@node Control constructs/predicates, Basic builtin directives, Directives for using code in other files, Top
@comment node-name, next,  previous,  up
@chapter Control constructs/predicates
@liindex basiccontrol
@c -------------------------------------------------
@c WARNING: Do not edit this file (basiccontrol.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/engine/basiccontrol.pl
@c -------------------------------------------------

@strong{Author(s):} Daniel Cabeza, Manuel Hermenegildo.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 1.3#99 (1999/11/12, 16:28:6 MET)

This module contains the set of basic control predicates, except the predicates dealing with exceptions, which are in @ref{Exception handling}.



@menu
* Usage and interface (basiccontrol)::	
* Documentation on exports (basiccontrol)::  
* Documentation on internals (basiccontrol)::  
@end menu

@node Usage and interface (basiccontrol), Documentation on exports (basiccontrol), Control constructs/predicates, Control constructs/predicates
@comment node-name, next,  previous,  up
@section Usage and interface (@code{basiccontrol})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

These predicates/constructs are builtin in CIAO, so nothing special has to be done to use them. In fact, as they are hardwired in some parts of the system, most of them cannot be redefined.

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex ,/2
@code{,/2}, 
@glindex ;/2
@code{;/2}, 
@glindex ->/2
@code{->/2}, 
@glindex !/0
@code{!/0}, 
@glindex \+/1
@code{\+/1}, 
@glindex if/3
@code{if/3}, 
@glindex true/0
@code{true/0}, 
@glindex fail/0
@code{fail/0}, 
@glindex repeat/0
@code{repeat/0}, 
@glindex call/1
@code{call/1}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (basiccontrol), Documentation on internals (basiccontrol), Usage and interface (basiccontrol), Control constructs/predicates
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{basiccontrol})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{,/2 (pred)}}}
@temp
@end iftex
@pdindex ,/2 
@glindex ,/2 
@deffn PREDICATE ,/2:


@code{P , Q}


Conjunction (@code{P} @emph{and} @code{Q}).


@strong{Usage:} @code{+callable , +callable}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{;/2 (pred)}}}
@temp
@end iftex
@pdindex ;/2 
@glindex ;/2 
@deffn PREDICATE ;/2:


@code{P ; Q}


Disjunction (@code{P} @emph{or} @code{Q}).


@strong{Usage:} @code{+callable ; +callable}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{-> /2 (pred)}}}
@temp
@end iftex
@pdindex ->/2 
@glindex ->/2 
@deffn PREDICATE ->/2:


@code{P -> Q}


If @code{P} then @code{Q} else fail, using first solution of @code{P} only. Also, @code{(}@code{P} @code{->} @code{Q} @code{;} @code{R}@code{)}, if @code{P} then @code{Q} else @code{R}, using first solution of @code{P} only. No cuts are allowed in @code{P}.


@strong{Usage:} @code{+callable -> +callable}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{!/0 (pred)}}}
@temp
@end iftex
@pdindex !/0 
@glindex !/0 
@deffn PREDICATE !/0:






@strong{Usage:} 
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@item @emph{Description:} Commit to any choices taken in the current predicate. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{(\+)/1 (pred)}}}
@temp
@end iftex
@pdindex \+/1 
@glindex \+/1 
@deffn PREDICATE \+/1:


@code{\+ P}


Goal @code{P} is not provable (negation by failure). Fails if @code{P} has a solution, and succeeds otherwise. No cuts are allowed in @code{P}.


@strong{Usage:} @code{\+ +callable}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{if/3 (pred)}}}
@temp
@end iftex
@pdindex if/3 
@glindex if/3 
@deffn PREDICATE if/3:


@code{if(P,Q,R)}


If @code{P} then @code{Q} else @code{R}, exploring all solutions of @code{P}. No cuts are allowed in @code{P}.


@strong{Usage:} @code{if(+callable,+callable,+callable)}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{true/0 (pred)}}}
@temp
@end iftex
@pdindex true/0 
@glindex true/0 
@deffn PREDICATE true/0:






The predicate is of type @emph{implicit}.


@strong{Usage:} 
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@item @emph{Description:} Succeed (noop). 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{fail/0 (pred)}}}
@temp
@end iftex
@pdindex fail/0 
@glindex fail/0 
@deffn PREDICATE fail/0:






The predicate is of type @emph{implicit}.


@strong{Usage:} 
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@item @emph{Description:} Fail, backtrack immediately. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{repeat/0 (pred)}}}
@temp
@end iftex
@pdindex repeat/0 
@glindex repeat/0 
@deffn PREDICATE repeat/0:






The predicate is of type @emph{implicit}.


@strong{Usage:} 
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@item @emph{Description:} Generates an infinite sequence of backtracking choices. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{call/1 (pred)}}}
@temp
@end iftex
@pdindex call/1 
@glindex call/1 
@deffn PREDICATE call/1:


@code{call(G)}


Executes goal @code{G}, restricting the scope of the cuts to the execution of @code{G}. Writing a variable @code{G} in a goal position is equivalent.


@emph{Meta-predicate} of type @emph{implicit} with arguments: @code{call(goal)}.


@strong{Usage:} @code{call(+callable)}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@end itemize
@end deffn
@sp 1



@node Documentation on internals (basiccontrol),  , Documentation on exports (basiccontrol), Control constructs/predicates
@comment node-name, next,  previous,  up
@section Documentation on internals (@code{basiccontrol})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{|/2 (pred)}}}
@temp
@end iftex
@pdindex |/2 
@glindex |/2 
@deffn PREDICATE |/2:



An alias for disjunction (when appearing outside a list). The alias is performed when terms are read in.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{call/2 (pred)}}}
@temp
@end iftex
@pdindex call/2 
@glindex call/2 
@deffn PREDICATE call/2:


@code{call(Pred,Arg1)}


There exists a set of builtin predicates of the form 
@glindex call/N
@code{call/N} such that execute predicate @code{Pred} given arguments @code{Arg1} ... @code{ArgX}, if @code{Pred} has already arguments the new ones are added to the start. This predicate can be written using the special Ciao syntax @code{Pred(Arg1,...,ArgX)}.


@strong{Usage:} @code{call(+callable,?)}
@itemize @minus
@end itemize
@end deffn
@sp 1


@c (component)


@node Basic builtin directives, Basic data types and properties, Control constructs/predicates, Top
@comment node-name, next,  previous,  up
@chapter Basic builtin directives
@liindex builtin_directives
@c -------------------------------------------------
@c WARNING: Do not edit this file (builtin_directives.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/engine/builtin_directives.pl
@c -------------------------------------------------

@strong{Author(s):} Daniel Cabeza.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 0.9#11 (1999/3/18, 21:28:24 MET)

This chapter documents the basic 
@glindex builtin directives
builtin directives in CIAO, additional to the documented in other chapters. These 
@glindex directives
directives are natively interpreted by the CIAO compiler (
@glindex ciaoc
@code{ciaoc}). 

Unlike in other Prolog systems, directives in CIAO are not goals to be @emph{executed} by the compiler or top level. Instead, they are @emph{read} and acted upon by these programs. The advantage of this is that the effect of the directives is consistent for executables, code loaded in the top level, code analyzed by the preprocessor, etc. 

As a result, by default only the builtin directives or declarations defined in this manual can be used in user programs. However, it is possible to define new declarations 
@coindex declarations, user defined
@glindex declarations, user defined 
by using the 
@glindex new_declaration/1
@code{new_declaration/1} and 
@glindex new_declaration/2
@code{new_declaration/2} directives documented in @ref{Extending the syntax}.



@menu
* Usage and interface (builtin_directives)::  
* Documentation on internals (builtin_directives)::  
@end menu

@node Usage and interface (builtin_directives), Documentation on internals (builtin_directives), Basic builtin directives, Basic builtin directives
@comment node-name, next,  previous,  up
@section Usage and interface (@code{builtin_directives})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

These directives are builtin in CIAO, so nothing special has to be done to use them.
@end itemize
@end cartouche


@node Documentation on internals (builtin_directives),  , Usage and interface (builtin_directives), Basic builtin directives
@comment node-name, next,  previous,  up
@section Documentation on internals (@code{builtin_directives})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{(multifile)/1 (decl)}}}
@temp
@end iftex
@deindex multifile/1 
@glindex multifile/1 
@deffn DECLARATION multifile/1:






@strong{Usage:} :- @code{multifile Predicates}.
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@item @emph{Description:} Specifies that each predicate in @code{Predicates} may have clauses in more than one file. Each file that contains clauses for a 
@glindex multifile predicate
multifile predicate must contain a directive multifile for the predicate. The directive should precede all clauses of the affected predicates. This directive is defined as a prefix operator in the compiler. 
@item @emph{The following properties should hold at call time:}


@code{Predicates} is a sequence or list of @code{predname}s.
@iftex
@hfill
@end iftex
 (@code{basic_props:sequence_or_list/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{(discontiguous)/1 (decl)}}}
@temp
@end iftex
@deindex discontiguous/1 
@glindex discontiguous/1 
@deffn DECLARATION discontiguous/1:






@strong{Usage:} :- @code{discontiguous Predicates}.
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@item @emph{Description:} Specifies that each predicate in @code{Predicates} may be defined in this file by clauses which are not in consecutive order. Otherwise, a warning is signaled by the compiler when clauses of a predicate are not consecutive (this behavior is controllable by the 
@glindex prolog flag
prolog flag @emph{discontiguous_warnings}). The directive should precede all clauses of the affected predicates. This directive is defined as a prefix operator in the compiler. 
@item @emph{The following properties should hold at call time:}


@code{Predicates} is a sequence or list of @code{predname}s.
@iftex
@hfill
@end iftex
 (@code{basic_props:sequence_or_list/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{impl_defined/1 (decl)}}}
@temp
@end iftex
@deindex impl_defined/1 
@glindex impl_defined/1 
@deffn DECLARATION impl_defined/1:






@strong{Usage:} :- @code{impl_defined(Predicates)}.
@itemize @minus
@item @emph{Description:} Specifies that each predicate in @code{Predicates} is @emph{impl}icitly @emph{defined} in the current prolog source, either because it is a builtin predicate or because it is defined in a C file. Otherwise, a warning is signaled by the compiler when an exported predicate is not defined in the module or imported from other module. 
@item @emph{The following properties should hold at call time:}


@code{Predicates} is a sequence or list of @code{predname}s.
@iftex
@hfill
@end iftex
 (@code{basic_props:sequence_or_list/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{redefining/1 (decl)}}}
@temp
@end iftex
@deindex redefining/1 
@glindex redefining/1 
@deffn DECLARATION redefining/1:






@strong{Usage:} :- @code{redefining(Predicate)}.
@itemize @minus
@item @emph{Description:} Specifies that this module redefines predicate @code{Predicate}, also imported from other module, or imports it from more than one module. This prevents the compiler giving warnings about redefinitions of that predicate. @code{Predicate} can be partially (or totally) uninstantiated, to allow disabling those warnings for several (or all) predicates at once. 
@item @emph{The following properties should hold at call time:}


@code{Predicate} is @emph{compatible} with @code{predname}
@iftex
@hfill
@end iftex
 (@code{basic_props:compat/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{initialization/1 (decl)}}}
@temp
@end iftex
@deindex initialization/1 
@glindex initialization/1 
@deffn DECLARATION initialization/1:






@strong{Usage:} :- @code{initialization(Goal)}.
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@item @emph{Description:} @code{Goal} will be executed at the start of the execution of any program containing the current code. 
@item @emph{The following properties should hold at call time:}


@code{Goal} is a term which represents a goal, i.e., an atom or a structure.
@iftex
@hfill
@end iftex
 (@code{basic_props:callable/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{on_abort/1 (decl)}}}
@temp
@end iftex
@deindex on_abort/1 
@glindex on_abort/1 
@deffn DECLARATION on_abort/1:






@strong{Usage:} :- @code{on_abort(Goal)}.
@itemize @minus
@item @emph{Description:} @code{Goal} will be executed after an abort of the execution of any program containing the current code. 
@item @emph{The following properties should hold at call time:}


@code{Goal} is a term which represents a goal, i.e., an atom or a structure.
@iftex
@hfill
@end iftex
 (@code{basic_props:callable/1})
@end itemize
@end deffn
@sp 1


@c (component)


@node Basic data types and properties, Extra-logical properties for typing, Basic builtin directives, Top
@comment node-name, next,  previous,  up
@chapter Basic data types and properties
@liindex basic_props
@c -------------------------------------------------
@c WARNING: Do not edit this file (basic_props.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/engine/basic_props.pl
@c -------------------------------------------------

@strong{Author(s):} Daniel Cabeza, Manuel Hermenegildo.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 1.3#100 (1999/11/12, 17:14:25 MET)


@coindex properties, basic
@glindex properties, basic 
This library contains the set of basic properties used by the builtin predicates, and which constitute the basic data types and properties of the language. They can be used both as type testing builtins within programs (by calling them explicitly) and as properties in assertions.



@menu
* Usage and interface (basic_props)::  
* Documentation on exports (basic_props)::  
@end menu

@node Usage and interface (basic_props), Documentation on exports (basic_props), Basic data types and properties, Basic data types and properties
@comment node-name, next,  previous,  up
@section Usage and interface (@code{basic_props})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(basic_props)).}

@item @strong{Exports:}
@itemize @minus


@item @emph{Properties:}

@glindex member/2
@code{member/2}, 
@glindex compat/2
@code{compat/2}, 
@glindex iso/1
@code{iso/1}, 
@glindex not_further_inst/2
@code{not_further_inst/2}, 
@glindex regtype/1
@code{regtype/1}.


@item @emph{Regular Types:}

@glindex term/1
@code{term/1}, 
@glindex int/1
@code{int/1}, 
@glindex nnegint/1
@code{nnegint/1}, 
@glindex flt/1
@code{flt/1}, 
@glindex num/1
@code{num/1}, 
@glindex atm/1
@code{atm/1}, 
@glindex struct/1
@code{struct/1}, 
@glindex gnd/1
@code{gnd/1}, 
@glindex constant/1
@code{constant/1}, 
@glindex callable/1
@code{callable/1}, 
@glindex operator_specifier/1
@code{operator_specifier/1}, 
@glindex list/1
@code{list/1}, 
@glindex list/2
@code{list/2}, 
@glindex sequence/2
@code{sequence/2}, 
@glindex sequence_or_list/2
@code{sequence_or_list/2}, 
@glindex character_code/1
@code{character_code/1}, 
@glindex string/1
@code{string/1}, 
@glindex predname/1
@code{predname/1}, 
@glindex atm_or_atm_list/1
@code{atm_or_atm_list/1}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (basic_props),  , Usage and interface (basic_props), Basic data types and properties
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{basic_props})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{term/1 (regtype)}}}
@temp
@end iftex
@teindex term/1 
@glindex term/1 
@deffn REGTYPE term/1:



The most general type (includes all possible terms).


@strong{Usage:} @code{term(X)}
@itemize @minus
@item @emph{Description:} @code{X} is any term. 
@item @emph{The following properties hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{int/1 (regtype)}}}
@temp
@end iftex
@teindex int/1 
@glindex int/1 
@deffn REGTYPE int/1:



The type of integers. The range of integers is @code{[-2^2147483616, 2^2147483616)}. Thus for all practical purposes, the range of integers can be considered infinite.


@strong{Usage:} @code{int(T)}
@itemize @minus
@item @emph{Description:} @code{T} is an integer. 
@item @emph{The following properties hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{nnegint/1 (regtype)}}}
@temp
@end iftex
@teindex nnegint/1 
@glindex nnegint/1 
@deffn REGTYPE nnegint/1:



The type of non-negative integers, i.e., natural numbers.


@strong{Usage:} @code{nnegint(T)}
@itemize @minus
@item @emph{Description:} @code{T} is a non-negative integer. 
@item @emph{The following properties hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{flt/1 (regtype)}}}
@temp
@end iftex
@teindex flt/1 
@glindex flt/1 
@deffn REGTYPE flt/1:



The type of floating-point numbers. The range of floats is the one provided by the C @code{double} type, typically @code{[4.9e-324, 1.8e+308]} (plus or minus).


@strong{Usage:} @code{flt(T)}
@itemize @minus
@item @emph{Description:} @code{T} is a float. 
@item @emph{The following properties hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{num/1 (regtype)}}}
@temp
@end iftex
@teindex num/1 
@glindex num/1 
@deffn REGTYPE num/1:



The type of numbers, that is, integer or floating-point.


@strong{Usage:} @code{num(T)}
@itemize @minus
@item @emph{Description:} @code{T} is a number. 
@item @emph{The following properties hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{atm/1 (regtype)}}}
@temp
@end iftex
@teindex atm/1 
@glindex atm/1 
@deffn REGTYPE atm/1:



The type of atoms, or non-numeric constants. The name of an atom must be of less than 512 characters.


@strong{Usage:} @code{atm(T)}
@itemize @minus
@item @emph{Description:} @code{T} is an atom. 
@item @emph{The following properties hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{struct/1 (regtype)}}}
@temp
@end iftex
@teindex struct/1 
@glindex struct/1 
@deffn REGTYPE struct/1:



The type of compound terms, or terms with non-zeroary functors.


@strong{Usage:} @code{struct(T)}
@itemize @minus
@item @emph{Description:} @code{T} is a compound term. 
@item @emph{The following properties hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{gnd/1 (regtype)}}}
@temp
@end iftex
@teindex gnd/1 
@glindex gnd/1 
@deffn REGTYPE gnd/1:



The type of all terms without variables.


@strong{Usage:} @code{gnd(T)}
@itemize @minus
@item @emph{Description:} @code{T} is ground. 
@item @emph{The following properties hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{constant/1 (regtype)}}}
@temp
@end iftex
@teindex constant/1 
@glindex constant/1 
@deffn REGTYPE constant/1:






@strong{Usage:} @code{constant(T)}
@itemize @minus
@item @emph{Description:} @code{T} is an atomic term (an atom or a number). 
@item @emph{The following properties hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{callable/1 (regtype)}}}
@temp
@end iftex
@teindex callable/1 
@glindex callable/1 
@deffn REGTYPE callable/1:






@strong{Usage:} @code{callable(T)}
@itemize @minus
@item @emph{Description:} @code{T} is a term which represents a goal, i.e., an atom or a structure. 
@item @emph{The following properties hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{operator_specifier/1 (regtype)}}}
@temp
@end iftex
@teindex operator_specifier/1 
@glindex operator_specifier/1 
@deffn REGTYPE operator_specifier/1:



The type and associativity of an operator is described by the following mnemonic atoms: 


@table @asis 


@item @code{xfx} 
Infix, non-associative: it is a requirement that both of the two subexpressions which are the arguments of the operator must be of @emph{lower} precedence than the operator itself. 


@item @code{xfy} 
Infix, right-associative: only the first (left-hand) subexpression must be of lower precedence; the right-hand subexpression can be of the @emph{same} precedence as the main operator. 


@item @code{xfx} 
Infix, left-associative: same as above, but the other way around. 


@item @code{fx} 
Prefix, non-associative: the subexpression must be of @emph{lower} precedence than the operator. 


@item @code{fy} 
Prefix, associative: the subexpression can be of the @emph{same} precedence as the operator. 


@item @code{xf} 
Postfix, non-associative: the subexpression must be of @emph{lower} precedence than the operator. 


@item @code{yf} 
Postfix, associative: the subexpression can be of the @emph{same} precedence as the operator. 


@end table  



@strong{Usage:} @code{operator_specifier(X)}
@itemize @minus
@item @emph{Description:} @code{X} specifies the type and associativity of an operator. 
@item @emph{The following properties hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{list/1 (regtype)}}}
@temp
@end iftex
@teindex list/1 
@glindex list/1 
@deffn REGTYPE list/1:



A list is formed with successive applications of the functor @code{'.'/2}, and its end is the atom @code{[]}


@strong{Usage:} @code{list(L)}
@itemize @minus
@item @emph{Description:} @code{L} is a list. 
@item @emph{The following properties hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{list/2 (regtype)}}}
@temp
@end iftex
@teindex list/2 
@glindex list/2 
@deffn REGTYPE list/2:






@emph{Meta-predicate} with arguments: @code{list(?,pred(1))}.


@strong{Usage:} @code{list(L,T)}
@itemize @minus
@item @emph{Description:} @code{L} is a list of @code{T}s. 
@item @emph{The following properties hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{member/2 (prop)}}}
@temp
@end iftex
@prindex member/2 
@glindex member/2 
@deffn PROPERTY member/2:






@strong{Usage:} @code{member(X,L)}
@itemize @minus
@item @emph{Description:} @code{X} is an element of @code{L}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{sequence/2 (regtype)}}}
@temp
@end iftex
@teindex sequence/2 
@glindex sequence/2 
@deffn REGTYPE sequence/2:



A sequence is formed with zero, one or more occurrences of the operator 
@glindex ','/2
@code{','/2}. For example, @code{a, b, c} is a sequence of three atoms, @code{a} is a sequence of one atom.


@emph{Meta-predicate} with arguments: @code{sequence(?,pred(1))}.


@strong{Usage:} @code{sequence(S,T)}
@itemize @minus
@item @emph{Description:} @code{S} is a sequence of @code{T}s. 
@item @emph{The following properties hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{sequence_or_list/2 (regtype)}}}
@temp
@end iftex
@teindex sequence_or_list/2 
@glindex sequence_or_list/2 
@deffn REGTYPE sequence_or_list/2:






@emph{Meta-predicate} with arguments: @code{sequence_or_list(?,pred(1))}.


@strong{Usage:} @code{sequence_or_list(S,T)}
@itemize @minus
@item @emph{Description:} @code{S} is a sequence or list of @code{T}s. 
@item @emph{The following properties hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{character_code/1 (regtype)}}}
@temp
@end iftex
@teindex character_code/1 
@glindex character_code/1 
@deffn REGTYPE character_code/1:






@strong{Usage:} @code{character_code(T)}
@itemize @minus
@item @emph{Description:} @code{T} is an integer which is a character code. 
@item @emph{The following properties hold upon exit:}


@code{T} is an integer.
@iftex
@hfill
@end iftex
 (@code{basic_props:int/1})
@item @emph{The following properties hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{string/1 (regtype)}}}
@temp
@end iftex
@teindex string/1 
@glindex string/1 
@deffn REGTYPE string/1:






@strong{Usage:} @code{string(T)}
@itemize @minus
@item @emph{Description:} @code{T} is a string (a list of character codes). 
@item @emph{The following properties hold upon exit:}


@code{T} is a list of @code{character_code}s.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/2})
@item @emph{The following properties hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{predname/1 (regtype)}}}
@temp
@end iftex
@teindex predname/1 
@glindex predname/1 
@deffn REGTYPE predname/1:






@strong{Usage:} @code{predname(P)}
@itemize @minus
@item @emph{Description:} @code{P} is a Name/Arity structure denoting a predicate name: 
@smallexample 
predname(P/A) :-
        atm(P),
        int(A).
@end smallexample 
 
@item @emph{The following properties hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{atm_or_atm_list/1 (regtype)}}}
@temp
@end iftex
@teindex atm_or_atm_list/1 
@glindex atm_or_atm_list/1 
@deffn REGTYPE atm_or_atm_list/1:






@strong{Usage:} @code{atm_or_atm_list(T)}
@itemize @minus
@item @emph{Description:} @code{T} is an atom or a list of atoms. 
@item @emph{The following properties hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{compat/2 (prop)}}}
@temp
@end iftex
@prindex compat/2 
@glindex compat/2 
@deffn PROPERTY compat/2:



This property captures the notion of type or 
@glindex property compatibility
property compatibility. The instantiation or constraint state of the term is compatible with the given property, in the sense that assuming that imposing that property on the term does not render the store inconsistent. For example, terms @code{X} (i.e., a free variable), @code{[Y|Z]}, and @code{[Y,Z]} are all compatible with the regular type 
@glindex list/1
@code{list/1}, whereas the terms @code{f(a)} and @code{[1|2]} are not.


@emph{Meta-predicate} with arguments: @code{compat(?,pred(1))}.


@strong{Usage:} @code{compat(Term,Prop)}
@itemize @minus
@item @emph{Description:} @code{Term} is @emph{compatible} with @code{Prop} 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{iso/1 (prop)}}}
@temp
@end iftex
@prindex iso/1 
@glindex iso/1 
@deffn PROPERTY iso/1:






The predicate is of type @emph{implicit}.


@strong{Usage:} @code{iso(G)}
@itemize @minus
@item @emph{Description:} @emph{Complies with the ISO-Prolog standard.} 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{not_further_inst/2 (prop)}}}
@temp
@end iftex
@prindex not_further_inst/2 
@glindex not_further_inst/2 
@deffn PROPERTY not_further_inst/2:






The predicate is of type @emph{implicit}.


@strong{Usage:} @code{not_further_inst(G,V)}
@itemize @minus
@item @emph{Description:} @code{V} is not further instantiated. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{regtype/1 (prop)}}}
@temp
@end iftex
@prindex regtype/1 
@glindex regtype/1 
@deffn PROPERTY regtype/1:






The predicate is of type @emph{implicit}.


@strong{Usage:} @code{regtype(G)}
@itemize @minus
@item @emph{Description:} Defines a regular type. 
@end itemize
@end deffn
@sp 1


@c (component)


@node Extra-logical properties for typing, Basic term manipulation, Basic data types and properties, Top
@comment node-name, next,  previous,  up
@chapter Extra-logical properties for typing
@liindex term_typing
@c -------------------------------------------------
@c WARNING: Do not edit this file (term_typing.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/engine/term_typing.pl
@c -------------------------------------------------

@strong{Author(s):} Daniel Cabeza, Manuel Hermenegildo.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 0.7#8 (1998/9/23, 19:21:44 MEST)

This library contains traditional Prolog predicates for testing types. They depend on the state of instantiation of their arguments, thus being of extra-logical nature.



@menu
* Usage and interface (term_typing)::  
* Documentation on exports (term_typing)::  
@end menu

@node Usage and interface (term_typing), Documentation on exports (term_typing), Extra-logical properties for typing, Extra-logical properties for typing
@comment node-name, next,  previous,  up
@section Usage and interface (@code{term_typing})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

These predicates are builtin in CIAO, so nothing special has to be done to use them.

@item @strong{Exports:}
@itemize @minus


@item @emph{Properties:}

@glindex var/1
@code{var/1}, 
@glindex nonvar/1
@code{nonvar/1}, 
@glindex atom/1
@code{atom/1}, 
@glindex integer/1
@code{integer/1}, 
@glindex float/1
@code{float/1}, 
@glindex number/1
@code{number/1}, 
@glindex atomic/1
@code{atomic/1}, 
@glindex ground/1
@code{ground/1}, 
@glindex type/2
@code{type/2}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (term_typing),  , Usage and interface (term_typing), Extra-logical properties for typing
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{term_typing})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{var/1 (prop)}}}
@temp
@end iftex
@prindex var/1 
@glindex var/1 
@deffn PROPERTY var/1:






@strong{Usage:} @code{var(X)}
@itemize @minus
@item @emph{Description:} @code{X} is a free variable. 
@item @emph{The following properties hold globally:}


@code{X} is not further instantiated.
@iftex
@hfill
@end iftex
 (@code{basic_props:not_further_inst/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{nonvar/1 (prop)}}}
@temp
@end iftex
@prindex nonvar/1 
@glindex nonvar/1 
@deffn PROPERTY nonvar/1:






@strong{Usage:} @code{nonvar(T)}
@itemize @minus
@item @emph{Description:} @code{T} is currently a term which is not a free variable. 
@item @emph{The following properties hold globally:}


@code{T} is not further instantiated.
@iftex
@hfill
@end iftex
 (@code{basic_props:not_further_inst/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{atom/1 (prop)}}}
@temp
@end iftex
@prindex atom/1 
@glindex atom/1 
@deffn PROPERTY atom/1:






@strong{Usage:} @code{atom(X)}
@itemize @minus
@item @emph{Description:} @code{X} is currently instantiated to an atom. 
@item @emph{The following properties hold globally:}


@code{X} is not further instantiated.
@iftex
@hfill
@end iftex
 (@code{basic_props:not_further_inst/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{integer/1 (prop)}}}
@temp
@end iftex
@prindex integer/1 
@glindex integer/1 
@deffn PROPERTY integer/1:






@strong{Usage:} @code{integer(X)}
@itemize @minus
@item @emph{Description:} @code{X} is currently instantiated to an integer. 
@item @emph{The following properties hold globally:}


@code{X} is not further instantiated.
@iftex
@hfill
@end iftex
 (@code{basic_props:not_further_inst/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{float/1 (prop)}}}
@temp
@end iftex
@prindex float/1 
@glindex float/1 
@deffn PROPERTY float/1:






@strong{Usage:} @code{float(X)}
@itemize @minus
@item @emph{Description:} @code{X} is currently instantiated to a float. 
@item @emph{The following properties hold globally:}


@code{X} is not further instantiated.
@iftex
@hfill
@end iftex
 (@code{basic_props:not_further_inst/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{number/1 (prop)}}}
@temp
@end iftex
@prindex number/1 
@glindex number/1 
@deffn PROPERTY number/1:






@strong{Usage:} @code{number(X)}
@itemize @minus
@item @emph{Description:} @code{X} is currently instantiated to a number. 
@item @emph{The following properties hold globally:}


@code{X} is not further instantiated.
@iftex
@hfill
@end iftex
 (@code{basic_props:not_further_inst/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{atomic/1 (prop)}}}
@temp
@end iftex
@prindex atomic/1 
@glindex atomic/1 
@deffn PROPERTY atomic/1:






@strong{Usage:} @code{atomic(X)}
@itemize @minus
@item @emph{Description:} @code{X} is currently instantiated to an atom or a number. 
@item @emph{The following properties hold globally:}


@code{X} is not further instantiated.
@iftex
@hfill
@end iftex
 (@code{basic_props:not_further_inst/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{ground/1 (prop)}}}
@temp
@end iftex
@prindex ground/1 
@glindex ground/1 
@deffn PROPERTY ground/1:






@strong{Usage:} @code{ground(X)}
@itemize @minus
@item @emph{Description:} @code{X} is currently ground (it contains no variables). 
@item @emph{The following properties hold globally:}


@code{X} is not further instantiated.
@iftex
@hfill
@end iftex
 (@code{basic_props:not_further_inst/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{type/2 (prop)}}}
@temp
@end iftex
@prindex type/2 
@glindex type/2 
@deffn PROPERTY type/2:






@strong{Usage:} @code{type(X,Y)}
@itemize @minus
@item @emph{Description:} @code{X} is internally of type @code{Y} (@code{var}, @code{attv}, @code{float}, @code{integer}, @code{structure}, @code{atom} or @code{list}). 
@item @emph{The following properties hold upon exit:}


@code{Y} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})
@end itemize
@end deffn
@sp 1


@c (component)


@node Basic term manipulation, Comparing terms, Extra-logical properties for typing, Top
@comment node-name, next,  previous,  up
@chapter Basic term manipulation
@liindex term_basic
@c -------------------------------------------------
@c WARNING: Do not edit this file (term_basic.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/engine/term_basic.pl
@c -------------------------------------------------

@strong{Author(s):} Daniel Cabeza, Manuel Hermenegildo.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)






@menu
* Usage and interface (term_basic)::  
* Documentation on exports (term_basic)::  
@end menu

@node Usage and interface (term_basic), Documentation on exports (term_basic), Basic term manipulation, Basic term manipulation
@comment node-name, next,  previous,  up
@section Usage and interface (@code{term_basic})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

These predicates are builtin in CIAO, so nothing special has to be done to use them.

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex arg/3
@code{arg/3}, 
@glindex functor/3
@code{functor/3}, 
@glindex =../2
@code{=../2}, 
@glindex copy_term/2
@code{copy_term/2}, 
@glindex C/3
@code{C/3}.


@item @emph{Properties:}

@glindex =/2
@code{=/2}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (term_basic),  , Usage and interface (term_basic), Basic term manipulation
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{term_basic})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{= /2 (prop)}}}
@temp
@end iftex
@prindex =/2 
@glindex =/2 
@deffn PROPERTY =/2:






@strong{Usage:} @code{X = Y}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@item @emph{Description:} Unify @code{X} and @code{Y}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{arg/3 (pred)}}}
@temp
@end iftex
@pdindex arg/3 
@glindex arg/3 
@deffn PREDICATE arg/3:






@strong{Usage:} @code{arg(+ArgNo,+Term,?(Arg))}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@item @emph{Description:} Argument @code{ArgNo} of the term @code{Term} is @code{Arg}. 
@item @emph{The following properties should hold at call time:}


@code{ArgNo} is currently instantiated to an integer.
@iftex
@hfill
@end iftex
 (@code{term_typing:integer/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{functor/3 (pred)}}}
@temp
@end iftex
@pdindex functor/3 
@glindex functor/3 
@deffn PREDICATE functor/3:






@strong{Usage:} @code{functor(?(Term),?(Name),?(Arity))}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@item @emph{Description:} The principal functor of the term @code{Term} has name @code{Name} and arity @code{Arity}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{=.. /2 (pred)}}}
@temp
@end iftex
@pdindex =../2 
@glindex =../2 
@deffn PREDICATE =../2:






@strong{Usage:} @code{?(Term) =.. ?(List)}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@item @emph{Description:} The functor and arguments of the term @code{Term} comprise the list @code{List}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{copy_term/2 (pred)}}}
@temp
@end iftex
@pdindex copy_term/2 
@glindex copy_term/2 
@deffn PREDICATE copy_term/2:






The predicate is of type @emph{implicit}.


@strong{Usage:} @code{copy_term(Term,Copy)}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@item @emph{Description:} @code{Copy} is a renaming of @code{Term}, such that brand new variables have been substituted for all variables in @code{Term}. If any of the variables of @code{Term} have 
@glindex attributes
attributes, the copied variables will have copies of the attributes as well. It behaves as if defined by: 


@smallexample 
:- data 'copy of'/1.

copy_term(X, Y) :-
        asserta_fact('copy of'(X)),
        retract_fact('copy of'(Y)).
@end smallexample 
 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{C/3 (pred)}}}
@temp
@end iftex
@pdindex C/3 
@glindex C/3 
@deffn PREDICATE C/3:






@strong{Usage:} @code{C(?(S1),?(Terminal),?(S2))}
@itemize @minus
@item @emph{Description:} @code{S1} is connected by the terminal @code{Terminal} to @code{S2}. Used in @emph{DCG grammar rules}. Defined as if by the single clause: @code{'C'([X|S], X, S).}  
@end itemize
@end deffn
@sp 1


@c (component)


@node Comparing terms, Basic predicates handling names of constants, Basic term manipulation, Top
@comment node-name, next,  previous,  up
@chapter Comparing terms
@liindex term_compare
@c -------------------------------------------------
@c WARNING: Do not edit this file (term_compare.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/engine/term_compare.pl
@c -------------------------------------------------

@strong{Author(s):} Daniel Cabeza, Manuel Hermenegildo.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)


These built-in predicates are extra-logical. They treat uninstantiated variables as objects with values which may be compared, and they never instantiate those variables. They should @emph{not} be used when what you really want is arithmetic comparison or unification. 

The predicates make reference to a 
@coindex standard total ordering
@glindex standard total ordering
@emph{standard total ordering} of terms, which is as follows: 


@itemize @bullet{} 


@item Variables, by age (roughly, oldest first -- the order is @emph{not} related to the names of variables). 


@item Floats, in numeric order (e.g. -1.0 is put before 1.0). 


@item Integers, in numeric order (e.g. -1 is put before 1). 


@item Atoms, in alphabetical (i.e. character code) order. 


@item Compound terms, ordered first by arity, then by the name of the principal functor, then by the arguments in left-to-right order. Recall that lists are equivalent to compound terms with principal functor @code{'.'/2}. 


@end itemize  

For example, here is a list of terms in standard order: 


@smallexample 
[ X, -1.0, -9, 1, bar, foo, [1], X = Y, foo(0,2), bar(1,1,1) ]
@end smallexample  




@menu
* Usage and interface (term_compare)::	
* Documentation on exports (term_compare)::  
@end menu

@node Usage and interface (term_compare), Documentation on exports (term_compare), Comparing terms, Comparing terms
@comment node-name, next,  previous,  up
@section Usage and interface (@code{term_compare})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

These predicates are builtin in CIAO, so nothing special has to be done to use them.

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex compare/3
@code{compare/3}.


@item @emph{Properties:}

@glindex ==/2
@code{==/2}, 
@glindex \==/2
@code{\==/2}, 
@glindex @@</2
@code{@@</2}, 
@glindex @@=</2
@code{@@=</2}, 
@glindex @@>/2
@code{@@>/2}, 
@glindex @@>=/2
@code{@@>=/2}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (term_compare),  , Usage and interface (term_compare), Comparing terms
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{term_compare})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{== /2 (prop)}}}
@temp
@end iftex
@prindex ==/2 
@glindex ==/2 
@deffn PROPERTY ==/2:






@strong{Usage:} @code{Term1 == Term2}
@itemize @minus
@item @emph{Description:} The terms @code{Term1} and @code{Term2} are strictly identical. 
@item @emph{The following properties should hold globally:}


@code{Term1} is not further instantiated.
@iftex
@hfill
@end iftex
 (@code{basic_props:not_further_inst/2})

@code{Term2} is not further instantiated.
@iftex
@hfill
@end iftex
 (@code{basic_props:not_further_inst/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{\== /2 (prop)}}}
@temp
@end iftex
@prindex \==/2 
@glindex \==/2 
@deffn PROPERTY \==/2:






@strong{Usage:} @code{Term1 \== Term2}
@itemize @minus
@item @emph{Description:} The terms @code{Term1} and @code{Term2} are not strictly identical. 
@item @emph{The following properties should hold globally:}


@code{Term1} is not further instantiated.
@iftex
@hfill
@end iftex
 (@code{basic_props:not_further_inst/2})

@code{Term2} is not further instantiated.
@iftex
@hfill
@end iftex
 (@code{basic_props:not_further_inst/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{@@< /2 (prop)}}}
@temp
@end iftex
@prindex @@</2 
@glindex @@</2 
@deffn PROPERTY @@</2:






@strong{Usage:} @code{@@<(Term1,Term2)}
@itemize @minus
@item @emph{Description:} The term @code{Term1} precedes the term @code{Term2} in the standard order. 
@item @emph{The following properties should hold globally:}


@code{Term1} is not further instantiated.
@iftex
@hfill
@end iftex
 (@code{basic_props:not_further_inst/2})

@code{Term2} is not further instantiated.
@iftex
@hfill
@end iftex
 (@code{basic_props:not_further_inst/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{@@=< /2 (prop)}}}
@temp
@end iftex
@prindex @@=</2 
@glindex @@=</2 
@deffn PROPERTY @@=</2:






@strong{Usage:} @code{@@=<(Term1,Term2)}
@itemize @minus
@item @emph{Description:} The term @code{Term1} precedes or is identical to the term @code{Term2} in the standard order. 
@item @emph{The following properties should hold globally:}


@code{Term1} is not further instantiated.
@iftex
@hfill
@end iftex
 (@code{basic_props:not_further_inst/2})

@code{Term2} is not further instantiated.
@iftex
@hfill
@end iftex
 (@code{basic_props:not_further_inst/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{@@> /2 (prop)}}}
@temp
@end iftex
@prindex @@>/2 
@glindex @@>/2 
@deffn PROPERTY @@>/2:






@strong{Usage:} @code{@@>(Term1,Term2)}
@itemize @minus
@item @emph{Description:} The term @code{Term1} follows the term @code{Term2} in the standard order. 
@item @emph{The following properties should hold globally:}


@code{Term1} is not further instantiated.
@iftex
@hfill
@end iftex
 (@code{basic_props:not_further_inst/2})

@code{Term2} is not further instantiated.
@iftex
@hfill
@end iftex
 (@code{basic_props:not_further_inst/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{@@>= /2 (prop)}}}
@temp
@end iftex
@prindex @@>=/2 
@glindex @@>=/2 
@deffn PROPERTY @@>=/2:






@strong{Usage:} @code{@@>=(Term1,Term2)}
@itemize @minus
@item @emph{Description:} The term @code{Term1} follows or is identical to the term @code{Term2} in the standard order. 
@item @emph{The following properties should hold globally:}


@code{Term1} is not further instantiated.
@iftex
@hfill
@end iftex
 (@code{basic_props:not_further_inst/2})

@code{Term2} is not further instantiated.
@iftex
@hfill
@end iftex
 (@code{basic_props:not_further_inst/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{compare/3 (pred)}}}
@temp
@end iftex
@pdindex compare/3 
@glindex compare/3 
@deffn PREDICATE compare/3:


@code{compare(Op,Term1,Term2)}


@code{Op} is the result of comparing the terms @code{Term1} and @code{Term2}.


@strong{Usage:} @code{compare(?(atm),@@(term),@@(term))}
@itemize @minus
@item @emph{The following properties should hold upon exit:}


@code{?(atm)} is an element of @code{[=,>,<]}.
@iftex
@hfill
@end iftex
 (@code{basic_props:member/2})

@code{@@(term)} is any term.
@iftex
@hfill
@end iftex
 (@code{basic_props:term/1})

@code{@@(term)} is any term.
@iftex
@hfill
@end iftex
 (@code{basic_props:term/1})
@end itemize
@end deffn
@sp 1


@c (component)


@node Basic predicates handling names of constants, Arithmetic, Comparing terms, Top
@comment node-name, next,  previous,  up
@chapter Basic predicates handling names of constants
@liindex atomic_basic
@c -------------------------------------------------
@c WARNING: Do not edit this file (atomic_basic.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/engine/atomic_basic.pl
@c -------------------------------------------------

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)


The CIAO system provides builtin predicates which allow dealing with names of constants (atoms or numbers). As an atom name must be of less than 512 characters, to handle sequences of more characters, strings (character code lists) must be used.



@menu
* Usage and interface (atomic_basic)::	
* Documentation on exports (atomic_basic)::  
@end menu

@node Usage and interface (atomic_basic), Documentation on exports (atomic_basic), Basic predicates handling names of constants, Basic predicates handling names of constants
@comment node-name, next,  previous,  up
@section Usage and interface (@code{atomic_basic})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

These predicates are builtin in CIAO, so nothing special has to be done to use them.

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex name/2
@code{name/2}, 
@glindex atom_codes/2
@code{atom_codes/2}, 
@glindex number_codes/2
@code{number_codes/2}, 
@glindex number_codes/3
@code{number_codes/3}, 
@glindex atom_length/2
@code{atom_length/2}, 
@glindex atom_concat/3
@code{atom_concat/3}, 
@glindex sub_atom/4
@code{sub_atom/4}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (atomic_basic),  , Usage and interface (atomic_basic), Basic predicates handling names of constants
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{atomic_basic})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{name/2 (pred)}}}
@temp
@end iftex
@pdindex name/2 
@glindex name/2 
@deffn PREDICATE name/2:


@code{name(Const,String)}


@code{String} is the list of the ASCII codes of the characters comprising the name of @code{Const}. Note that if @code{Const} is an atom whose name can be interpreted as a number (e.g. '96'), the predicate is not reversible, as that atom will not be constructed when @code{Const} is uninstantiated. Thus it is recommended that new programs use the ISO-compliant predicates 
@glindex atom_codes/2
@code{atom_codes/2} or 
@glindex number_codes/2
@code{number_codes/2}, as these predicates do not have this inconsistency.


The predicate is of type @emph{implicit}.


@strong{Usage 1:} @code{name(+constant,?(string))}
@itemize @minus
@end itemize

@strong{Usage 2:} @code{name(-(constant),+string)}
@itemize @minus
@item @emph{Description:} If @code{String} can be interpreted as a number, @code{Const} is unified with that number, otherwise with the atom whose name is @code{String}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{atom_codes/2 (pred)}}}
@temp
@end iftex
@pdindex atom_codes/2 
@glindex atom_codes/2 
@deffn PREDICATE atom_codes/2:


@code{atom_codes(Atom,String)}


@code{String} is the list of the ASCII codes of the characters comprising the name of @code{Atom}.


The predicate is of type @emph{implicit}.


@strong{Usage 1:} @code{atom_codes(+atm,?(string))}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@end itemize

@strong{Usage 2:} @code{atom_codes(-(atm),+string)}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{number_codes/2 (pred)}}}
@temp
@end iftex
@pdindex number_codes/2 
@glindex number_codes/2 
@deffn PREDICATE number_codes/2:


@code{number_codes(Number,String)}


@code{String} is the list of the ASCII codes of the characters comprising a representation of @code{Number}.


The predicate is of type @emph{implicit}.


@strong{Usage 1:} @code{number_codes(+num,?(string))}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@end itemize

@strong{Usage 2:} @code{number_codes(-(num),+string)}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{number_codes/3 (pred)}}}
@temp
@end iftex
@pdindex number_codes/3 
@glindex number_codes/3 
@deffn PREDICATE number_codes/3:


@code{number_codes(Number,String,Base)}


@code{String} is the list of the ASCII codes of the characters comprising a representation of @code{Number} in base @code{Base}.


@strong{Usage 1:} @code{number_codes(+num,?(string),+int)}
@itemize @minus
@end itemize

@strong{Usage 2:} @code{number_codes(-(num),+string,+int)}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{atom_length/2 (pred)}}}
@temp
@end iftex
@pdindex atom_length/2 
@glindex atom_length/2 
@deffn PREDICATE atom_length/2:


@code{atom_length(Atom,Length)}


@code{Length} is the number of characters forming the name of @code{Atom}.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{atom_length(+atm,?(int))}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{atom_concat/3 (pred)}}}
@temp
@end iftex
@pdindex atom_concat/3 
@glindex atom_concat/3 
@deffn PREDICATE atom_concat/3:


@code{atom_concat(Atom_1,Atom_2,Atom_12)}


@code{Atom_12} is the result of concatenating @code{Atom_1} followed by @code{Atom_2}.


The predicate is of type @emph{implicit}.


@strong{Usage 1:} @code{atom_concat(+atom,+atom,?(atom))}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@item @emph{Description:} Concatenate two atoms. 
@end itemize

@strong{Usage 2:} @code{atom_concat(-(atom),-(atom),+atom)}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@item @emph{Description:} Non-deterministically split an atom. 
@end itemize

@strong{Usage 3:} @code{atom_concat(-(atom),+atom,+atom)}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@item @emph{Description:} Take out of an atom a certain suffix (or fail if it cannot be done). 
@end itemize

@strong{Usage 4:} @code{atom_concat(+atom,-(atom),+atom)}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@item @emph{Description:} Take out of an atom a certain prefix (or fail if it cannot be done). 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{sub_atom/4 (pred)}}}
@temp
@end iftex
@pdindex sub_atom/4 
@glindex sub_atom/4 
@deffn PREDICATE sub_atom/4:


@code{sub_atom(Atom,Before,Length,Sub_atom)}


@code{Sub_atom} is formed with @code{Length} consecutive characters of @code{Atom} after the @code{Before} character.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{sub_atom(+atm,+integer,+integer,?(atm))}
@itemize @minus
@end itemize
@end deffn
@sp 1


@c (component)


@node Arithmetic, Basic input/output, Basic predicates handling names of constants, Top
@comment node-name, next,  previous,  up
@chapter Arithmetic
@liindex arithmetic
@c -------------------------------------------------
@c WARNING: Do not edit this file (arithmetic.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/engine/arithmetic.pl
@c -------------------------------------------------

@strong{Author(s):} Daniel Cabeza, Manuel Hermenegildo.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 0.9#18 (1999/3/23, 21:6:13 MET)

Arithmetic is performed by built-in predicates which take as arguments arithmetic expressions (see 
@glindex arithexpression/1
@code{arithexpression/1}) and evaluate them. Terms representing arithmetic expressions can be created dynamically, but at the time of evaluation, each variable in an arithmetic expression must be bound to a non-variable expression (the term must be ground). For example, given the code in the first line a possible shell interaction follows: 
@smallexample 
evaluate(Expression, Answer) :- Answer is Expression.

?- _X=24*9, evaluate(_X+6, Ans).

Ans = 222 ?

yes
@end smallexample  




@menu
* Usage and interface (arithmetic)::  
* Documentation on exports (arithmetic)::  
@end menu

@node Usage and interface (arithmetic), Documentation on exports (arithmetic), Arithmetic, Arithmetic
@comment node-name, next,  previous,  up
@section Usage and interface (@code{arithmetic})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

These predicates are builtin in Ciao, so nothing special has to be done to use them.

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex is/2
@code{is/2}, 
@glindex </2
@code{</2}, 
@glindex =</2
@code{=</2}, 
@glindex >/2
@code{>/2}, 
@glindex >=/2
@code{>=/2}, 
@glindex =:=/2
@code{=:=/2}, 
@glindex =\=/2
@code{=\=/2}.


@item @emph{Regular Types:}

@glindex arithexpression/1
@code{arithexpression/1}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (arithmetic),  , Usage and interface (arithmetic), Arithmetic
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{arithmetic})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{is/2 (pred)}}}
@temp
@end iftex
@pdindex is/2 
@glindex is/2 
@deffn PREDICATE is/2:


@code{Val is Exp}


The arithmetic expression @code{Exp} is evaluated and the result is unified with @code{Val}


@strong{Usage:} @code{?(term) is +arithexpression}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{< /2 (pred)}}}
@temp
@end iftex
@pdindex </2 
@glindex </2 
@deffn PREDICATE </2:


@code{Exp1 < Exp2}


The numeric value of @code{Exp1} is less than the numeric value of @code{Exp2} when both are evaluated as arithmetic expressions.


@strong{Usage:} @code{+arithexpression < +arithexpression}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{=< /2 (pred)}}}
@temp
@end iftex
@pdindex =</2 
@glindex =</2 
@deffn PREDICATE =</2:


@code{Exp1 =< Exp2}


The numeric value of @code{Exp1} is less than or equal to the numeric value of @code{Exp2} when both are evaluated as arithmetic expressions.


@strong{Usage:} @code{+arithexpression =< +arithexpression}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{> /2 (pred)}}}
@temp
@end iftex
@pdindex >/2 
@glindex >/2 
@deffn PREDICATE >/2:


@code{Exp1 > Exp2}


The numeric value of @code{Exp1} is greater than the numeric value of @code{Exp2} when both are evaluated as arithmetic expressions.


@strong{Usage:} @code{+arithexpression > +arithexpression}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{>= /2 (pred)}}}
@temp
@end iftex
@pdindex >=/2 
@glindex >=/2 
@deffn PREDICATE >=/2:


@code{Exp1 >= Exp2}


The numeric value of @code{Exp1} is greater than or equal to the numeric value of @code{Exp2} when both are evaluated as arithmetic expressions.


@strong{Usage:} @code{+arithexpression >= +arithexpression}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{=:= /2 (pred)}}}
@temp
@end iftex
@pdindex =:=/2 
@glindex =:=/2 
@deffn PREDICATE =:=/2:


@code{Exp1 =:= Exp2}


The numeric values of @code{Exp1} and @code{Exp2} are equal when both are evaluated as arithmetic expressions.


@strong{Usage:} @code{+arithexpression =:= +arithexpression}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{=\= /2 (pred)}}}
@temp
@end iftex
@pdindex =\=/2 
@glindex =\=/2 
@deffn PREDICATE =\=/2:


@code{Exp1 =\= Exp2}


The numeric values of @code{Exp1} and @code{Exp2} are not equal when both are evaluated as arithmetic expressions.


@strong{Usage:} @code{+arithexpression =\= +arithexpression}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{arithexpression/1 (regtype)}}}
@temp
@end iftex
@teindex arithexpression/1 
@glindex arithexpression/1 
@deffn REGTYPE arithexpression/1:



An arithmetic expression is a term built from numbers and 
@glindex evaluable functors
evaluable functors that represent arithmetic functions. An arithmetic expression evaluates to a number, which may be an integer (
@glindex int/1
@code{int/1}) or a float (
@glindex flt/1
@code{flt/1}). The evaluable functors allowed in an arithmetic expression are listed below, together with an indication of the functions they represent. All evaluable functors defined in 
@glindex ISO-Prolog
ISO-Prolog are implemented, as well as some other useful or traditional. Unless stated otherwise, an expression evaluates to a float if any of its arguments is a float, otherwise to an integer. 


@itemize @bullet{} 


@item 
@glindex - /1
@code{- /1}: sign reversal. @hfill @key{ @bullet{} ISO @bullet{} }


@item 
@glindex + /1
@code{+ /1}: identity. 


@item 
@glindex -- /1
@code{-- /1}: decrement by one. 


@item 
@glindex ++ /1
@code{++ /1}: increment by one. 


@item 
@glindex + /2
@code{+ /2}: addition. @hfill @key{ @bullet{} ISO @bullet{} }


@item 
@glindex - /2
@code{- /2}: subtraction. @hfill @key{ @bullet{} ISO @bullet{} }


@item 
@glindex * /2
@code{* /2}: multiplication. @hfill @key{ @bullet{} ISO @bullet{} }


@item 
@glindex // /2
@code{// /2}: integer division. Float arguments are truncated to integers, result always integer. @hfill @key{ @bullet{} ISO @bullet{} }


@item 
@glindex / /2
@code{/ /2}: division. Result always float. @hfill @key{ @bullet{} ISO @bullet{} }


@item 
@glindex rem/2
@code{rem/2}: integer remainder. The result is always an integer, its sign is the sign of the first argument. @hfill @key{ @bullet{} ISO @bullet{} }


@item 
@glindex mod/2
@code{mod/2}: modulo. The result is always a positive integer. @hfill @key{ @bullet{} ISO @bullet{} }


@item 
@glindex abs/1
@code{abs/1}: absolute value. @hfill @key{ @bullet{} ISO @bullet{} }


@item 
@glindex sign/1
@code{sign/1}: sign of. @hfill @key{ @bullet{} ISO @bullet{} }


@item 
@glindex float_integer_part/1
@code{float_integer_part/1}: float integer part. Result always float. @hfill @key{ @bullet{} ISO @bullet{} }


@item 
@glindex float_fractional_part/1
@code{float_fractional_part/1}: float fractional part. Result always float. @hfill @key{ @bullet{} ISO @bullet{} }


@item 
@glindex truncate/1
@code{truncate/1}: The result is the integer equal to the integer part of the argument. @hfill @key{ @bullet{} ISO @bullet{} }


@item 
@glindex integer/1
@code{integer/1}: same as 
@glindex truncate/1
@code{truncate/1}. 


@item 
@glindex float/1
@code{float/1}: conversion to float. @hfill @key{ @bullet{} ISO @bullet{} }


@item 
@glindex floor/1
@code{floor/1}: largest integer not greater than. @hfill @key{ @bullet{} ISO @bullet{} }


@item 
@glindex round/1
@code{round/1}: integer nearest to. @hfill @key{ @bullet{} ISO @bullet{} }


@item 
@glindex ceiling/1
@code{ceiling/1}: smallest integer not smaller than. @hfill @key{ @bullet{} ISO @bullet{} }


@item 
@glindex ** /2
@code{** /2}: exponentiation. Result always float. @hfill @key{ @bullet{} ISO @bullet{} }


@item 
@glindex >> /2
@code{>> /2}: integer bitwise right shift. @hfill @key{ @bullet{} ISO @bullet{} }


@item 
@glindex << /2
@code{<< /2}: integer bitwise left shift. @hfill @key{ @bullet{} ISO @bullet{} }


@item 
@glindex /\ /2
@code{/\ /2}: integer bitwise and. @hfill @key{ @bullet{} ISO @bullet{} }


@item 
@glindex \/ /2
@code{\/ /2}: integer bitwise or. @hfill @key{ @bullet{} ISO @bullet{} }


@item 
@glindex \ /1
@code{\ /1}: integer bitwise complement. @hfill @key{ @bullet{} ISO @bullet{} }


@item 
@glindex # /2
@code{# /2}: integer bitwise exclusive or (xor). 


@item 
@glindex exp/1
@code{exp/1}: exponential (@emph{e} to the power of). Result always float. @hfill @key{ @bullet{} ISO @bullet{} }


@item 
@glindex log/1
@code{log/1}: natural logarithm (base @emph{e}). Result always float. @hfill @key{ @bullet{} ISO @bullet{} }


@item 
@glindex sqrt/1
@code{sqrt/1}: square root. Result always float. @hfill @key{ @bullet{} ISO @bullet{} }


@item 
@glindex sin/1
@code{sin/1}: sine. Result always float. @hfill @key{ @bullet{} ISO @bullet{} }


@item 
@glindex cos/1
@code{cos/1}: cosine. Result always float. @hfill @key{ @bullet{} ISO @bullet{} }


@item 
@glindex atan/1
@code{atan/1}: arc tangent. Result always float. @hfill @key{ @bullet{} ISO @bullet{} }


@item 
@glindex gcd/2
@code{gcd/2}: Greatest common divisor. Arguments must evaluate to integers, result always integer. 


@end itemize  

In addition to these functors, a list of just a number evaluates to this number. Since a 
@glindex quoted string
quoted string is just a list of integers, this allows a quoted character to be used in place of its 
@glindex ASCII code
ASCII code; e.g. @code{"A"} behaves within arithmetic expressions as the integer 65. Note that this is not 
@coindex ISO-Prolog
@glindex ISO-Prolog
ISO-compliant, and that can be achieved by using the notation @code{0'A} (which is ISO). 

Arithmetic expressions, as described above, are just data structures. If you want one evaluated you must pass it as an argument to one of the arithmetic predicates defined here. 


@strong{Usage:} @code{arithexpression(E)}
@itemize @minus
@item @emph{Description:} @code{E} is an arithmetic expression. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1


@c (component)


@node Basic input/output, Basic file/stream handling, Arithmetic, Top
@comment node-name, next,  previous,  up
@chapter Basic input/output
@liindex io_basic
@c -------------------------------------------------
@c WARNING: Do not edit this file (io_basic.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/engine/io_basic.pl
@c -------------------------------------------------

@strong{Author(s):} Daniel Cabeza, Mats Carlsson.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)


This module provides predicates for character input/output and for canonical term output. From the 
@glindex ISO-Prolog
ISO-Prolog predicates for character input/output, only the @code{_code} versions are provided, the rest are given by 
@glindex library(iso_byte_char)
@code{library(iso_byte_char)}, using these. Most predicates are provided in two versions: one that specifies the input or output stream as the first argument and a second which omits this argument and uses the current input or output stream.



@menu
* Usage and interface (io_basic)::  
* Documentation on exports (io_basic)::	 
@end menu

@node Usage and interface (io_basic), Documentation on exports (io_basic), Basic input/output, Basic input/output
@comment node-name, next,  previous,  up
@section Usage and interface (@code{io_basic})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

These predicates are builtin in CIAO, so nothing special has to be done to use them.

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex get_code/2
@code{get_code/2}, 
@glindex get_code/1
@code{get_code/1}, 
@glindex get1_code/2
@code{get1_code/2}, 
@glindex get1_code/1
@code{get1_code/1}, 
@glindex peek_code/2
@code{peek_code/2}, 
@glindex peek_code/1
@code{peek_code/1}, 
@glindex skip_code/2
@code{skip_code/2}, 
@glindex skip_code/1
@code{skip_code/1}, 
@glindex put_code/2
@code{put_code/2}, 
@glindex put_code/1
@code{put_code/1}, 
@glindex nl/1
@code{nl/1}, 
@glindex nl/0
@code{nl/0}, 
@glindex tab/2
@code{tab/2}, 
@glindex tab/1
@code{tab/1}, 
@glindex code_class/2
@code{code_class/2}, 
@glindex getct/2
@code{getct/2}, 
@glindex getct1/2
@code{getct1/2}, 
@glindex display/2
@code{display/2}, 
@glindex display/1
@code{display/1}, 
@glindex displayq/2
@code{displayq/2}, 
@glindex displayq/1
@code{displayq/1}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (io_basic),  , Usage and interface (io_basic), Basic input/output
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{io_basic})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{get_code/2 (pred)}}}
@temp
@end iftex
@pdindex get_code/2 
@glindex get_code/2 
@deffn PREDICATE get_code/2:


@code{get_code(Stream,Code)}


Reads from @code{Stream} the next character and unifies @code{Code} with its character code. At end of stream, unifies @code{Code} with the integer -1.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{get_code(+stream,?(int))}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{get_code/1 (pred)}}}
@temp
@end iftex
@pdindex get_code/1 
@glindex get_code/1 
@deffn PREDICATE get_code/1:


@code{get_code(Code)}


Behaves like @code{current_input(S), get_code(S,Code)}.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{get_code(?(int))}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{get1_code/2 (pred)}}}
@temp
@end iftex
@pdindex get1_code/2 
@glindex get1_code/2 
@deffn PREDICATE get1_code/2:


@code{get1_code(Stream,Code)}


Reads from @code{Stream} the next non-layout character (see 
@glindex code_class/2
@code{code_class/2}) and unifies @code{Code} with its character code. At end of stream, unifies @code{Code} with the integer -1.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{get1_code(+stream,?(int))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{get1_code/1 (pred)}}}
@temp
@end iftex
@pdindex get1_code/1 
@glindex get1_code/1 
@deffn PREDICATE get1_code/1:


@code{get1_code(Code)}


Behaves like @code{current_input(S), get1_code(S,Code)}.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{get1_code(?(int))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{peek_code/2 (pred)}}}
@temp
@end iftex
@pdindex peek_code/2 
@glindex peek_code/2 
@deffn PREDICATE peek_code/2:


@code{peek_code(Stream,Code)}


Unifies @code{Code} with the character code of the next character of @code{Stream}, leaving the stream position unaltered. At end of stream, unifies @code{Code} with the integer -1.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{peek_code(+stream,?(int))}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{peek_code/1 (pred)}}}
@temp
@end iftex
@pdindex peek_code/1 
@glindex peek_code/1 
@deffn PREDICATE peek_code/1:


@code{peek_code(Code)}


Behaves like @code{current_input(S), peek_code(S,Code)}.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{peek_code(?(int))}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{skip_code/2 (pred)}}}
@temp
@end iftex
@pdindex skip_code/2 
@glindex skip_code/2 
@deffn PREDICATE skip_code/2:


@code{skip_code(Stream,Code)}


Skips just past the next character code @code{Code} from @code{Stream}.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{skip_code(+stream,+int)}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{skip_code/1 (pred)}}}
@temp
@end iftex
@pdindex skip_code/1 
@glindex skip_code/1 
@deffn PREDICATE skip_code/1:


@code{skip_code(Code)}


Behaves like @code{current_input(S), skip_code(S,Code)}.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{skip_code(+int)}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{put_code/2 (pred)}}}
@temp
@end iftex
@pdindex put_code/2 
@glindex put_code/2 
@deffn PREDICATE put_code/2:


@code{put_code(Stream,Code)}


Outputs to @code{Stream} the character corresponding to character code @code{Code}.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{put_code(+stream,+int)}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{put_code/1 (pred)}}}
@temp
@end iftex
@pdindex put_code/1 
@glindex put_code/1 
@deffn PREDICATE put_code/1:


@code{put_code(Code)}


Behaves like @code{current_output(S), put_code(S,Code)}.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{put_code(+int)}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{nl/1 (pred)}}}
@temp
@end iftex
@pdindex nl/1 
@glindex nl/1 
@deffn PREDICATE nl/1:


@code{nl(Stream)}


Outputs a newline character to @code{Stream}. Equivalent to @code{put_code(Stream, 0'\n)}.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{nl(+stream)}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{nl/0 (pred)}}}
@temp
@end iftex
@pdindex nl/0 
@glindex nl/0 
@deffn PREDICATE nl/0:


@code{nl}


Behaves like @code{current_output(S), nl(S)}.


The predicate is of type @emph{implicit}.


@strong{Usage:} 
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{tab/2 (pred)}}}
@temp
@end iftex
@pdindex tab/2 
@glindex tab/2 
@deffn PREDICATE tab/2:


@code{tab(Stream,Num)}


Outputs @code{Num} spaces to @code{Stream}.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{tab(+stream,+int)}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{tab/1 (pred)}}}
@temp
@end iftex
@pdindex tab/1 
@glindex tab/1 
@deffn PREDICATE tab/1:


@code{tab(Num)}


Behaves like @code{current_output(S), tab(S,Num)}.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{tab(+int)}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{code_class/2 (pred)}}}
@temp
@end iftex
@pdindex code_class/2 
@glindex code_class/2 
@deffn PREDICATE code_class/2:


@code{code_class(Code,Class)}


Unifies @code{Class} with an integer corresponding to the lexical class of the character whose code is @code{Code}, with the following correspondence: 
@smallexample 
    0 - layout (includes space, newline, tab)
    1 - small letter
    2 - capital letter (including '_')
    3 - digit
    4 - graphic (includes #$&*+-./:<=>?@@^\`~ )
    5 - punctuation (includes !;"'%(),[]@{|@} )
   @end smallexample  
Note that in 
@glindex ISO-Prolog
ISO-Prolog the back quote @code{`} is a punctuation character, whereas in CIAO it is a graphic character. Thus, if compatibility with 
@glindex ISO-Prolog
ISO-Prolog is desired, the programmer should not use this character in unquoted names.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{code_class(+int,?(int))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{getct/2 (pred)}}}
@temp
@end iftex
@pdindex getct/2 
@glindex getct/2 
@deffn PREDICATE getct/2:


@code{getct(Code,Type)}


Reads from the current input stream the next character, unifying @code{Code} with its character code, and @code{Type} with its lexical class. At end of stream, unifies both @code{Code} and @code{Type} with the integer -1. Equivalent to 
@smallexample 
   get(Code), (Code = -1 -> Type = -1 ; code_class(Code,Type))
   @end smallexample 



The predicate is of type @emph{implicit}.


@strong{Usage:} @code{getct(?(int),?(int))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{getct1/2 (pred)}}}
@temp
@end iftex
@pdindex getct1/2 
@glindex getct1/2 
@deffn PREDICATE getct1/2:


@code{getct1(Code,Type)}


Reads from the current input stream the next non-layout character, unifying @code{Code} with its character code, and @code{Type} with its lexical class (which will be nonzero). At end of stream, unifies both @code{Code} and @code{Type} with the integer -1. Equivalent to 
@smallexample 
   get1(Code), (Code = -1 -> Type = -1 ; code_class(Code,Type))
   @end smallexample 



The predicate is of type @emph{implicit}.


@strong{Usage:} @code{getct1(?(int),?(int))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{display/2 (pred)}}}
@temp
@end iftex
@pdindex display/2 
@glindex display/2 
@deffn PREDICATE display/2:


@code{display(Stream,Term)}


Displays @code{Term} onto @code{Stream}. Lists are output using list notation, the other compound terms are output in functional notation. Similar to @code{write_term(Stream, Term, [ignore_ops(ops)])}, except that curly bracketed notation is not used with @code{@{@}/1}, and the @code{write_strings} flag is not honored.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{display(+stream,@@(term))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{display/1 (pred)}}}
@temp
@end iftex
@pdindex display/1 
@glindex display/1 
@deffn PREDICATE display/1:


@code{display(Term)}


Behaves like @code{current_output(S), display(S,Term)}.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{display(@@(term))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{displayq/2 (pred)}}}
@temp
@end iftex
@pdindex displayq/2 
@glindex displayq/2 
@deffn PREDICATE displayq/2:


@code{displayq(Stream,Term)}


Similar to @code{display(Stream, Term)}, but atoms and functors that can't be read back by 
@glindex read_term/3
@code{read_term/3} are quoted. Thus, similar to @code{write_term(Stream, Term, [quoted(true), ignore_ops(ops)])}, with the same exceptions as 
@glindex display/2
@code{display/2}.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{displayq(+stream,@@(term))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{displayq/1 (pred)}}}
@temp
@end iftex
@pdindex displayq/1 
@glindex displayq/1 
@deffn PREDICATE displayq/1:


@code{displayq(Term)}


Behaves like @code{current_output(S), displayq(S,Term)}.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{displayq(@@(term))}
@itemize @minus
@end itemize
@end deffn
@sp 1


@c (component)


@node Basic file/stream handling, Exception handling, Basic input/output, Top
@comment node-name, next,  previous,  up
@chapter Basic file/stream handling
@liindex streams_basic
@c -------------------------------------------------
@c WARNING: Do not edit this file (streams_basic.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/engine/streams_basic.pl
@c -------------------------------------------------

@strong{Author(s):} Daniel Cabeza, Mats Carlsson.

@strong{Version:} 1.3#121 (1999/11/26, 20:23:11 MET)


This module provides basic predicates for handling files and streams, in order to make input/output on them.



@menu
* Usage and interface (streams_basic)::	 
* Documentation on exports (streams_basic)::  
* Documentation on multifiles (streams_basic)::	 
@end menu

@node Usage and interface (streams_basic), Documentation on exports (streams_basic), Basic file/stream handling, Basic file/stream handling
@comment node-name, next,  previous,  up
@section Usage and interface (@code{streams_basic})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

These predicates are builtin in CIAO, so nothing special has to be done to use them.

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex open/3
@code{open/3}, 
@glindex close/1
@code{close/1}, 
@glindex set_input/1
@code{set_input/1}, 
@glindex current_input/1
@code{current_input/1}, 
@glindex set_output/1
@code{set_output/1}, 
@glindex current_output/1
@code{current_output/1}, 
@glindex character_count/2
@code{character_count/2}, 
@glindex line_count/2
@code{line_count/2}, 
@glindex line_position/2
@code{line_position/2}, 
@glindex flush_output/1
@code{flush_output/1}, 
@glindex flush_output/0
@code{flush_output/0}, 
@glindex clearerr/1
@code{clearerr/1}, 
@glindex current_stream/3
@code{current_stream/3}, 
@glindex stream_code/2
@code{stream_code/2}, 
@glindex absolute_file_name/2
@code{absolute_file_name/2}, 
@glindex absolute_file_name/7
@code{absolute_file_name/7}.


@item @emph{Regular Types:}

@glindex sourcename/1
@code{sourcename/1}, 
@glindex stream/1
@code{stream/1}, 
@glindex io_mode/1
@code{io_mode/1}.


@item @emph{Multifiles:}

@glindex file_search_path/2
@code{file_search_path/2}, 
@glindex library_directory/1
@code{library_directory/1}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (streams_basic), Documentation on multifiles (streams_basic), Usage and interface (streams_basic), Basic file/stream handling
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{streams_basic})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{open/3 (pred)}}}
@temp
@end iftex
@pdindex open/3 
@glindex open/3 
@deffn PREDICATE open/3:


@code{open(File,Mode,Stream)}


Open @code{File} with mode @code{Mode} and return in @code{Stream} the stream associated with the file. No extension is implicit in @code{File}.


@strong{Usage 1:} @code{open(+sourcename,+io_mode,?(stream))}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@item @emph{Description:} Normal use. 
@end itemize

@strong{Usage 2:} @code{open(+int,+io_mode,?(stream))}
@itemize @minus
@item @emph{Description:} In the special case that @code{File} is an integer, it is assumed to be a file descriptor passed to Prolog from a foreign function call. The file descriptor is connected to a Prolog stream (invoking the UNIX function @code{fdopen}) which is unified with @code{Stream}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{close/1 (pred)}}}
@temp
@end iftex
@pdindex close/1 
@glindex close/1 
@deffn PREDICATE close/1:


@code{close(Stream)}


Close the stream @code{Stream}.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{close(+stream)}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{set_input/1 (pred)}}}
@temp
@end iftex
@pdindex set_input/1 
@glindex set_input/1 
@deffn PREDICATE set_input/1:


@code{set_input(Stream)}


Set the current input stream to @code{Stream}. A notion of 
@coindex current input stream
@glindex current input stream
@emph{current input stream} is maintained by the system, so that input predicates with no explicit stream operate on the current input stream. Initially it is set to @code{user_input}.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{set_input(+stream)}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{current_input/1 (pred)}}}
@temp
@end iftex
@pdindex current_input/1 
@glindex current_input/1 
@deffn PREDICATE current_input/1:


@code{current_input(Stream)}


Unify @code{Stream} with the 
@glindex current input stream
current input stream.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{current_input(?(stream))}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{set_output/1 (pred)}}}
@temp
@end iftex
@pdindex set_output/1 
@glindex set_output/1 
@deffn PREDICATE set_output/1:


@code{set_output(Stream)}


Set the current output stream to @code{Stream}. A notion of 
@coindex current output stream
@glindex current output stream
@emph{current output stream} is maintained by the system, so that output predicates with no explicit stream operate on the current output stream. Initially it is set to @code{user_output}.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{set_output(+stream)}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{current_output/1 (pred)}}}
@temp
@end iftex
@pdindex current_output/1 
@glindex current_output/1 
@deffn PREDICATE current_output/1:


@code{current_output(Stream)}


Unify @code{Stream} with the 
@glindex current output stream
current output stream.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{current_output(?(stream))}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{character_count/2 (pred)}}}
@temp
@end iftex
@pdindex character_count/2 
@glindex character_count/2 
@deffn PREDICATE character_count/2:


@code{character_count(Stream,Count)}


@code{Count} characters have been read from or written to @code{Stream}.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{character_count(+stream,?(int))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{line_count/2 (pred)}}}
@temp
@end iftex
@pdindex line_count/2 
@glindex line_count/2 
@deffn PREDICATE line_count/2:


@code{line_count(Stream,Count)}


@code{Count} lines have been read from or written to @code{Stream}.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{line_count(+stream,?(int))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{line_position/2 (pred)}}}
@temp
@end iftex
@pdindex line_position/2 
@glindex line_position/2 
@deffn PREDICATE line_position/2:


@code{line_position(Stream,Count)}


@code{Count} characters have been read from or written to the current line of @code{Stream}.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{line_position(+stream,?(int))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{flush_output/1 (pred)}}}
@temp
@end iftex
@pdindex flush_output/1 
@glindex flush_output/1 
@deffn PREDICATE flush_output/1:


@code{flush_output(Stream)}


Flush any buffered data to output stream @code{Stream}.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{flush_output(+stream)}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{flush_output/0 (pred)}}}
@temp
@end iftex
@pdindex flush_output/0 
@glindex flush_output/0 
@deffn PREDICATE flush_output/0:


@code{flush_output}


Behaves like @code{current_output(S), flush_output(S)}


The predicate is of type @emph{implicit}.


@strong{Usage:} 
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{clearerr/1 (pred)}}}
@temp
@end iftex
@pdindex clearerr/1 
@glindex clearerr/1 
@deffn PREDICATE clearerr/1:


@code{clearerr(Stream)}


Clear the end-of-file and error indicators for input stream @code{Stream}.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{clearerr(+stream)}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{current_stream/3 (pred)}}}
@temp
@end iftex
@pdindex current_stream/3 
@glindex current_stream/3 
@deffn PREDICATE current_stream/3:


@code{current_stream(Filename,Mode,Stream)}


@code{Stream} is a stream which was opened in mode @code{Mode} and which is connected to the absolute file name @code{Filename} (an atom) or to the file descriptor @code{Filename} (an integer). This predicate can be used for enumerating all currently open streams through backtracking.


The predicate is of type @emph{implicit}.


@strong{Usage 1:} @code{current_stream(?(atm),?(io_mode),?(stream))}
@itemize @minus
@end itemize

@strong{Usage 2:} @code{current_stream(?(int),?(io_mode),?(stream))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{stream_code/2 (pred)}}}
@temp
@end iftex
@pdindex stream_code/2 
@glindex stream_code/2 
@deffn PREDICATE stream_code/2:


@code{stream_code(Stream,StreamCode)}


@code{StreamCode} is the file descriptor (an integer) corresponding to the Prolog stream @code{Stream}.


The predicate is of type @emph{implicit}.


@strong{Usage 1:} @code{stream_code(+stream,?(int))}
@itemize @minus
@end itemize

@strong{Usage 2:} @code{stream_code(-(stream),+int)}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{absolute_file_name/2 (pred)}}}
@temp
@end iftex
@pdindex absolute_file_name/2 
@glindex absolute_file_name/2 
@deffn PREDICATE absolute_file_name/2:


@code{absolute_file_name(RelFileSpec,AbsFileSpec)}


If @code{RelFileSpec} is an absolute pathname then do an absolute lookup. If @code{RelFileSpec} is a relative pathname then prefix the name with the name of the current directory and do an absolute lookup. If @code{RelFileSpec} is a path alias, perform the lookup following the path alias rules (see 
@glindex sourcename/1
@code{sourcename/1}). In all cases: if a matching file with suffix @code{.pl} exists, then @code{AbsFileSpec} will be unified with this file. Failure to open a file normally causes an exception. The behaviour can be controlled by the @code{fileerrors} 
@glindex prolog flag
prolog flag.


@strong{Usage:} @code{absolute_file_name(+RelFileSpec,-(AbsFileSpec))}
@itemize @minus
@item @emph{Description:} @code{AbsFileSpec} is the absolute name (with full path) of @code{RelFileSpec}. 
@item @emph{Calls should, and exit will be compatible with:}


@code{+RelFileSpec} is a source name.
@iftex
@hfill
@end iftex
 (@code{streams_basic:sourcename/1})

@code{-(AbsFileSpec)} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{absolute_file_name/7 (pred)}}}
@temp
@end iftex
@pdindex absolute_file_name/7 
@glindex absolute_file_name/7 
@deffn PREDICATE absolute_file_name/7:


@code{absolute_file_name(Spec,Opt,Suffix,CurrDir,AbsFile,AbsBase,AbsDir)}


@code{AbsFile} is the absolute name (with full path) of @code{Spec}, which has an optional first suffix @code{Opt} and an optional second suffix @code{Suffix}, when the current directory is @code{CurrDir}. @code{AbsBase} is the same as @code{AbsFile}, but without the second suffix, and @code{AbsDir} is the absolute path of the directory where @code{AbsFile} is. The Ciao compiler invokes this predicate with @code{Opt}='_opt' and @code{Suffix}='.pl' when searching source files.


@strong{Usage:} @code{absolute_file_name(+sourcename,+atm,+atm,+atm,-(atm),-(atm),-(atm))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{sourcename/1 (regtype)}}}
@temp
@end iftex
@teindex sourcename/1 
@glindex sourcename/1 
@deffn REGTYPE sourcename/1:



A source name is a flexible way of referring to a concrete file. A source name is either a relative or absolute filename given as: 


@itemize @bullet{} 


@item an atom, or 


@item a unary functor (which represents a 
@coindex path alias
@glindex path alias
@emph{path alias}, see below) applied to a @emph{relative} path, the latter being given as an atom. 


@end itemize  

In all cases certain filename extensions (e.g., @code{.pl}) can be implicit. In the first form above, file names can be relative to the current directory. Also, file names beginning with @code{~} or @code{$} are treated specially. For example, 


@table @asis 


@item @code{'~/ciao/sample.pl'} 
is equivalent to @code{'/home/staff/herme/ciao/sample.pl'}, if @code{/home/staff/herme} is the user's home directory. (This is also equivalent to @code{'$HOME/ciao/sample.pl'} as explained below.) 


@item @code{'~bardo/prolog/sample.pl'} 
is equivalent to @code{'/home/bardo/prolog/sample.pl'}, if @code{/home/bardo} is bardo's home directory. 


@item @code{'$UTIL/sample.pl'} 
is equivalent to @code{'/usr/local/src/utilities/sample.pl'}, if @code{/usr/local/src/utilities} is the value of the environment variable @code{UTIL}. 


@end table  

The second form allows using path aliases. Such aliases allow refering to files not with absolute file system paths but with paths which are relative to predefined (or user-defined) abstract names. For example, given the path alias @code{myutils} which has been defined to refer to path @code{'/home/bardo/utilities'}, if that directory contains the file @code{stuff.pl} then the term @code{myutils(stuff)} in a 
@glindex use_module/1
@code{use_module/1} declaration would refer to the file @code{'/home/bardo/utilities/stuff.pl'} (the @code{.pl} extension is implicit in the 
@glindex use_module/1
@code{use_module/1} declaration). As a special case, if that directory contains a subdirectory named @code{stuff} which in turn contains the file @code{stuff.pl}, the same term would refer to the file @code{'/home/bardo/utilities/stuff/stuff.pl'}. If a path alias is related to several paths, all paths are scanned in sequence until a match is found. For information on predefined path aliases or how to define new path aliases, see 
@glindex file_search_path/2
@code{file_search_path/2}. 


@strong{Usage:} @code{sourcename(F)}
@itemize @minus
@item @emph{Description:} @code{F} is a source name. 
@item @emph{The following properties hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{stream/1 (regtype)}}}
@temp
@end iftex
@teindex stream/1 
@glindex stream/1 
@deffn REGTYPE stream/1:



Streams correspond to the file pointers used at the operating system level, and usually represent opened files. There are four special streams which correspond with the operating system standard streams: 
@table @asis 


@item @code{user_input} 
The standard input stream, i.e. the terminal, usually. 


@item @code{user_output} 
The standard output stream, i.e. the terminal, usually. 


@item @code{user_error} 
The standard error stream. 


@item @code{user} 
The standard input or output stream, depending on context. 


@end table  




@strong{Usage:} @code{stream(S)}
@itemize @minus
@item @emph{Description:} @code{S} is an open stream. 
@item @emph{The following properties hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{io_mode/1 (regtype)}}}
@temp
@end iftex
@teindex io_mode/1 
@glindex io_mode/1 
@deffn REGTYPE io_mode/1:



Can have the following values: 
@table @asis 


@item @code{read} 
Open the file for input. 


@item @code{write} 
Open the file for output. The file is created if it does not already exist, the file will otherwise be truncated. 


@item @code{append} 
Open the file for output. The file is created if it does not already exist, the file will otherwise be appended to. 


@end table 



@strong{Usage:} @code{io_mode(M)}
@itemize @minus
@item @emph{Description:} @code{M} is an opening mode ('read', 'write' or 'append'). 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1



@node Documentation on multifiles (streams_basic),  , Documentation on exports (streams_basic), Basic file/stream handling
@comment node-name, next,  previous,  up
@section Documentation on multifiles (@code{streams_basic})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{file_search_path/2 (pred)}}}
@temp
@end iftex
@pdindex file_search_path/2 
@glindex file_search_path/2 
@deffn PREDICATE file_search_path/2:


@code{file_search_path(Alias,Path)}


The 
@glindex path alias
path alias @code{Alias} is linked to path @code{Path}. Both arguments must be atoms. New facts (or clauses) of this predicate can be asserted to define new path aliases. Predefined path aliases in CIAO are: 


@table @asis 


@item @code{library} 
Initially points to all CIAO library paths. See 
@glindex library_directory/1
@code{library_directory/1}. 


@item @code{engine} 
The path of the 
@glindex CIAO engine builtins
CIAO engine builtins. 


@item @code{.} 
The current path (@code{'.'}). 


@end table  



The predicate is @emph{multifile} and of type @emph{dynamic}.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{library_directory/1 (pred)}}}
@temp
@end iftex
@pdindex library_directory/1 
@glindex library_directory/1 
@deffn PREDICATE library_directory/1:


@code{library_directory(Path)}


@code{Path} is a library path (a path represented by the 
@glindex path alias
path alias @code{library}). Predefined library paths in CIAO are @code{'$CIAOLIB/lib'}, @code{'$CIAOLIB/library'}, and @code{'$CIAOLIB/contrib'}, given that @code{$CIAOLIB} is the path of the root ciao library directory. More library paths can be defined by asserting new facts (or clauses) of this predicate.


The predicate is @emph{multifile} and of type @emph{dynamic}.

@end deffn
@sp 1


@c (component)


@node Exception handling, Fast/concurrent update of facts, Basic file/stream handling, Top
@comment node-name, next,  previous,  up
@chapter Exception handling
@liindex exceptions
@c -------------------------------------------------
@c WARNING: Do not edit this file (exceptions.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/engine/exceptions.pl
@c -------------------------------------------------

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)


This module includes predicates related to exceptions, which alter the normal flow of Prolog.



@menu
* Usage and interface (exceptions)::  
* Documentation on exports (exceptions)::  
@end menu

@node Usage and interface (exceptions), Documentation on exports (exceptions), Exception handling, Exception handling
@comment node-name, next,  previous,  up
@section Usage and interface (@code{exceptions})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

These predicates are builtin in CIAO, so nothing special has to be done to use them.

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex catch/3
@code{catch/3}, 
@glindex intercept/3
@code{intercept/3}, 
@glindex throw/1
@code{throw/1}, 
@glindex halt/0
@code{halt/0}, 
@glindex halt/1
@code{halt/1}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (exceptions),  , Usage and interface (exceptions), Exception handling
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{exceptions})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{catch/3 (pred)}}}
@temp
@end iftex
@pdindex catch/3 
@glindex catch/3 
@deffn PREDICATE catch/3:


@code{catch(Goal,Error,Handler)}


Executes @code{Goal}. If an exception is raised during its execution, @code{Error} is unified with the exception, and if the unification succeeds, the entire execution derived from @code{Goal} is aborted, and @code{Handler} is executed. The execution resumes with the continuation of the catch/3 call. For example, given the code 
@smallexample 
p(X) :- throw(error), display('---').
p(X) :- display(X).
@end smallexample  
the execution of "@code{catch(p(0), E, display(E)), display(.), fail.}" results in the output "@code{error.}".


@emph{Meta-predicate} with arguments: @code{catch(goal,?,goal)}.


@strong{Usage:} @code{catch(+callable,?(term),+callable)}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{intercept/3 (pred)}}}
@temp
@end iftex
@pdindex intercept/3 
@glindex intercept/3 
@deffn PREDICATE intercept/3:


@code{intercept(Goal,Error,Handler)}


Executes @code{Goal}. If an exception is raised during its execution, @code{Error} is unified with the exception, and if the unification succeeds, @code{Handler} is executed and then the execution resumes after the predicate which produced the exception. Note the difference with builtin 
@glindex catch/3
@code{catch/3}, given the same code defined there, the execution of "@code{intercept(p(0), E, display(E)), display(.), fail.}" results in the output "@code{error---.0.}".


@emph{Meta-predicate} with arguments: @code{intercept(goal,?,goal)}.


@strong{Usage:} @code{intercept(+callable,?(term),+callable)}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{throw/1 (pred)}}}
@temp
@end iftex
@pdindex throw/1 
@glindex throw/1 
@deffn PREDICATE throw/1:


@code{throw(Ball)}


Raises an error, throwing the exception @code{Ball}, to be caught by an ancestor 
@glindex catch/3
@code{catch/3} or 
@glindex intercept/3
@code{intercept/3}. The closest matching ancestor is chosen. Exceptions are also thrown by other builtins in case of error.


@strong{Usage:} 
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@item @emph{Calls should, and exit will be compatible with:}


@code{Ball} is currently a term which is not a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:nonvar/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{halt/0 (pred)}}}
@temp
@end iftex
@pdindex halt/0 
@glindex halt/0 
@deffn PREDICATE halt/0:


@code{halt}


Halt the system, exiting to the invoking shell.


@strong{Usage:} 
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{halt/1 (pred)}}}
@temp
@end iftex
@pdindex halt/1 
@glindex halt/1 
@deffn PREDICATE halt/1:


@code{halt(Code)}


Halt the system, exiting to the invoking shell, returning exit code @code{Code}.


@strong{Usage:} @code{halt(+int)}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{abort/0 (pred)}}}
@temp
@end iftex
@pdindex abort/0 
@glindex abort/0 
@deffn PREDICATE abort/0:


@code{abort}


Abort the current execution.

@end deffn
@sp 1


@c (component)


@node Fast/concurrent update of facts, Changing system behaviour and various flags, Exception handling, Top
@comment node-name, next,  previous,  up
@chapter Fast/concurrent update of facts
@liindex data_facts
@c -------------------------------------------------
@c WARNING: Do not edit this file (data_facts.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/engine/data_facts.pl
@c -------------------------------------------------

@strong{Author(s):} Daniel Cabeza, Manuel Carro.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)



@coindex data predicate
@glindex data predicate
Prolog implementations traditionally implement the concept of 
@glindex dynamic predicate
dynamic predicates: predicates which can be inspected or modified at run-time, adding or deleting individual clauses. The powerfulness of this feature brings also a great disadvantage: as new clause bodies can be arbitrarily added to the program, new unknown predicate calls can arise, thus preventing any global analysis or optimization of the code. But it is the case that most of the time what the programmer wants is simply to store data, with the purpose of sharing it between search branches, predicates, or even execution threads. In CIAO the concept of data predicate serves this purpose: a data predicate is a predicate composed exclusively by facts, which can be inspected, and dynamically added or deleted, at run-time. Using data predicates instead of normal dynamic predicates brings benefits in terms of speed, but above all turns the code automatically analyzable.
@coindex concurrent predicate
@glindex concurrent predicate 
There is also a special kind of data predicates, called concurrent predicates, which can be used to communicate/synchronize among different execution threads (see @ref{Concurrency/multithreading primitives}).



@menu
* Usage and interface (data_facts)::  
* Documentation on exports (data_facts)::  
* Documentation on internals (data_facts)::  
@end menu

@node Usage and interface (data_facts), Documentation on exports (data_facts), Fast/concurrent update of facts, Fast/concurrent update of facts
@comment node-name, next,  previous,  up
@section Usage and interface (@code{data_facts})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

These predicates are builtin in CIAO, so nothing special has to be done to use them.

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex asserta_fact/1
@code{asserta_fact/1}, 
@glindex asserta_fact/2
@code{asserta_fact/2}, 
@glindex assertz_fact/1
@code{assertz_fact/1}, 
@glindex assertz_fact/2
@code{assertz_fact/2}, 
@glindex current_fact/1
@code{current_fact/1}, 
@glindex current_fact/2
@code{current_fact/2}, 
@glindex retract_fact/1
@code{retract_fact/1}, 
@glindex retractall_fact/1
@code{retractall_fact/1}, 
@glindex current_fact_nb/1
@code{current_fact_nb/1}, 
@glindex retract_fact_nb/1
@code{retract_fact_nb/1}, 
@glindex close_predicate/1
@code{close_predicate/1}, 
@glindex open_predicate/1
@code{open_predicate/1}, 
@glindex set_fact/1
@code{set_fact/1}, 
@glindex erase/1
@code{erase/1}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (data_facts), Documentation on internals (data_facts), Usage and interface (data_facts), Fast/concurrent update of facts
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{data_facts})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{asserta_fact/1 (pred)}}}
@temp
@end iftex
@pdindex asserta_fact/1 
@glindex asserta_fact/1 
@deffn PREDICATE asserta_fact/1:


@code{asserta_fact(Fact)}


@code{Fact} is added to the corresponding 
@glindex data predicate
data predicate. The fact becomes the first clause of the predicate concerned.


@emph{Meta-predicate} with arguments: @code{asserta_fact(fact)}.


@strong{Usage:} @code{asserta_fact(+callable)}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{asserta_fact/2 (pred)}}}
@temp
@end iftex
@pdindex asserta_fact/2 
@glindex asserta_fact/2 
@deffn PREDICATE asserta_fact/2:


@code{asserta_fact(Fact,Ref)}


Same as 
@glindex asserta_fact/1
@code{asserta_fact/1}, instantiating @code{Ref} to a unique identifier of the asserted fact.


@emph{Meta-predicate} with arguments: @code{asserta_fact(fact,?)}.


@strong{Usage:} @code{asserta_fact(+callable,-(reference))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{assertz_fact/1 (pred)}}}
@temp
@end iftex
@pdindex assertz_fact/1 
@glindex assertz_fact/1 
@deffn PREDICATE assertz_fact/1:


@code{assertz_fact(Fact)}


@code{Fact} is added to the corresponding 
@glindex data predicate
data predicate. The fact becomes the last clause of the predicate concerned.


@emph{Meta-predicate} with arguments: @code{assertz_fact(fact)}.


@strong{Usage:} @code{assertz_fact(+callable)}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{assertz_fact/2 (pred)}}}
@temp
@end iftex
@pdindex assertz_fact/2 
@glindex assertz_fact/2 
@deffn PREDICATE assertz_fact/2:


@code{assertz_fact(Fact,Ref)}


Same as 
@glindex assertz_fact/1
@code{assertz_fact/1}, instantiating @code{Ref} to a unique identifier of the asserted fact.


@emph{Meta-predicate} with arguments: @code{assertz_fact(fact,?)}.


@strong{Usage:} @code{assertz_fact(+callable,-(reference))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{current_fact/1 (pred)}}}
@temp
@end iftex
@pdindex current_fact/1 
@glindex current_fact/1 
@deffn PREDICATE current_fact/1:


@code{current_fact(Fact)}


Gives on backtracking all the facts defined as data or concurrent which unify with @code{Fact}. It is faster than calling the predicate explicitly, which do invoke the meta-interpreter. If the @code{Fact} has been defined as concurrent and has not been 
@glindex closed
closed, 
@glindex current_fact/1
@code{current_fact/1} will wait (instead of failing) for more clauses to appear after the last clause of @code{Fact} is returned.


@emph{Meta-predicate} with arguments: @code{current_fact(fact)}.


@strong{Usage:} @code{current_fact(+callable)}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{current_fact/2 (pred)}}}
@temp
@end iftex
@pdindex current_fact/2 
@glindex current_fact/2 
@deffn PREDICATE current_fact/2:


@code{current_fact(Fact,Ref)}


@code{Fact} is a fact of a 
@glindex data predicate
data predicate and @code{Ref} is its reference identifying it uniquely.


@emph{Meta-predicate} with arguments: @code{current_fact(fact,?)}.


@strong{Usage 1:} @code{current_fact(+callable,-(reference))}
@itemize @minus
@item @emph{Description:} Gives on backtracking all the facts defined as data which unify with @code{Fact}, instantiating @code{Ref} to a unique identifier for each fact. 
@end itemize

@strong{Usage 2:} @code{current_fact(?(callable),+reference)}
@itemize @minus
@item @emph{Description:} Given @code{Ref}, unifies @code{Fact} with the fact identified by it. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{retract_fact/1 (pred)}}}
@temp
@end iftex
@pdindex retract_fact/1 
@glindex retract_fact/1 
@deffn PREDICATE retract_fact/1:


@code{retract_fact(Fact)}


Unifies @code{Fact} with the first matching fact of a 
@glindex data predicate
data predicate, and then erases it. On backtracking successively unifies with and erases new matching facts. If @code{Fact} is declared as 
@glindex concurrent
concurrent and is non-
@glindex closed
closed, 
@glindex retract_fact/1
@code{retract_fact/1} will wait for more clauses or for the closing of the predicate after the last matching clause has been removed.


@emph{Meta-predicate} with arguments: @code{retract_fact(fact)}.


@strong{Usage:} @code{retract_fact(+callable)}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{retractall_fact/1 (pred)}}}
@temp
@end iftex
@pdindex retractall_fact/1 
@glindex retractall_fact/1 
@deffn PREDICATE retractall_fact/1:


@code{retractall_fact(Fact)}


Erase all the facts of a 
@glindex data predicate
data predicate unifying with @code{Fact}. Even if all facts are removed, the predicate continues to exist.


@emph{Meta-predicate} with arguments: @code{retractall_fact(fact)}.


@strong{Usage:} @code{retractall_fact(+callable)}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{current_fact_nb/1 (pred)}}}
@temp
@end iftex
@pdindex current_fact_nb/1 
@glindex current_fact_nb/1 
@deffn PREDICATE current_fact_nb/1:


@code{current_fact_nb(Fact)}


Behaves as 
@glindex current_fact/1
@code{current_fact/1} but a fact is never waited on even if it is 
@glindex concurrent
concurrent and non-
@glindex closed
closed.


@emph{Meta-predicate} with arguments: @code{current_fact_nb(fact)}.


@strong{Usage:} @code{current_fact_nb(+callable)}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{retract_fact_nb/1 (pred)}}}
@temp
@end iftex
@pdindex retract_fact_nb/1 
@glindex retract_fact_nb/1 
@deffn PREDICATE retract_fact_nb/1:


@code{retract_fact_nb(Fact)}


Behaves as 
@glindex retract_fact/1
@code{retract_fact/1}, but never waits on a fact, even if it has been declared as 
@glindex concurrent
concurrent and is non-
@glindex closed
closed.


@emph{Meta-predicate} with arguments: @code{retract_fact_nb(fact)}.


@strong{Usage:} @code{retract_fact_nb(+callable)}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{close_predicate/1 (pred)}}}
@temp
@end iftex
@pdindex close_predicate/1 
@glindex close_predicate/1 
@deffn PREDICATE close_predicate/1:


@code{close_predicate(Pred)}



@coindex closed
@glindex closed 
Changes the behavior of the predicate @code{Pred} if it has been declared as a 
@glindex concurrent predicate
concurrent predicate: calls to this predicate will fail (instead of wait) if no more clauses of @code{Pred} are available.


@emph{Meta-predicate} with arguments: @code{close_predicate(fact)}.


@strong{Usage:} @code{close_predicate(+callable)}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{open_predicate/1 (pred)}}}
@temp
@end iftex
@pdindex open_predicate/1 
@glindex open_predicate/1 
@deffn PREDICATE open_predicate/1:


@code{open_predicate(Pred)}


Reverts the behavior of 
@glindex concurrent predicate
concurrent predicate @code{Pred} to waiting instead of failing if no more clauses of @code{Pred} are available.


@emph{Meta-predicate} with arguments: @code{open_predicate(fact)}.


@strong{Usage:} @code{open_predicate(+callable)}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{set_fact/1 (pred)}}}
@temp
@end iftex
@pdindex set_fact/1 
@glindex set_fact/1 
@deffn PREDICATE set_fact/1:


@code{set_fact(Fact)}


Sets @code{Fact} as the unique fact of the corresponding 
@glindex data predicate
data predicate.


@emph{Meta-predicate} with arguments: @code{set_fact(fact)}.


@strong{Usage:} @code{set_fact(+callable)}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{erase/1 (pred)}}}
@temp
@end iftex
@pdindex erase/1 
@glindex erase/1 
@deffn PREDICATE erase/1:


@code{erase(Ref)}


Deletes the clause referenced by @code{Ref}.


@strong{Usage:} @code{erase(+reference)}
@itemize @minus
@end itemize
@end deffn
@sp 1



@node Documentation on internals (data_facts),  , Documentation on exports (data_facts), Fast/concurrent update of facts
@comment node-name, next,  previous,  up
@section Documentation on internals (@code{data_facts})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{fact/1 (regtype)}}}
@temp
@end iftex
@teindex fact/1 
@glindex fact/1 
@deffn REGTYPE fact/1:






@strong{Usage:} @code{fact(F)}
@itemize @minus
@item @emph{Description:} @code{F} is a fact (an atom or a structure). 
@item @emph{The following properties hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{reference/1 (regtype)}}}
@temp
@end iftex
@teindex reference/1 
@glindex reference/1 
@deffn REGTYPE reference/1:






@strong{Usage:} @code{reference(R)}
@itemize @minus
@item @emph{Description:} @code{R} is a reference of a dynamic or data clause. 
@item @emph{The following properties hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1


@c (component)


@node Changing system behaviour and various flags, Concurrency/multithreading primitives, Fast/concurrent update of facts, Top
@comment node-name, next,  previous,  up
@chapter Changing system behaviour and various flags
@liindex prolog_flags
@c -------------------------------------------------
@c WARNING: Do not edit this file (prolog_flags.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/engine/prolog_flags.pl
@c -------------------------------------------------

@strong{Author(s):} Daniel Cabeza, Mats Carlsson.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)



@coindex prolog flag
@glindex prolog flag 
Flags define some parameters of the system and control the behavior of system or library predicates. Each flag has a name and an associated predefined value, and except some system flags which are fixed in general their associated value is changeable. Predefined flags in the system are: 


@table @asis 


@item @code{fileerrors} 
If @code{on}, predicates handling files give errors when a file is inexistent or an operation is not allowed. If @code{off}, fail in that conditions. Initially @code{on}. 


@item @code{unknown} 
Controls action on calls to undefined predicates. The possible states of the flag are: 


@table @asis 


@item @code{error} 
An error is thrown with the 
@glindex error term
error term @code{existence_error(procedure, F/A)}. 


@item @code{fail} 
The call simply fails. 


@item @code{warning} 
A warning is written and the call fails. 


@end table  

The state is initially @code{error}. @key{ @bullet{} ISO @bullet{} }


@item @code{quiet} 
Controls which messages issued using 
@glindex io_aux
@code{io_aux} are actually written. As the system uses that library to report its messages, this flag controls the @emph{verbosity} of the system. Possible states of the flag are: 


@table @asis 


@item @code{on} 
No messages are reported. 


@item @code{error} 
Only error messages are reported. 


@item @code{warning} 
Only error and warning messages are reported. 


@item @code{off} 
All messages are reported, except debug messages. This is the default state. 


@item @code{debug} 
All messages, including debug messages, are reported. This is only intended for the system implementators. 


@end table  


@item @code{argv} 
Value is a list of atoms representing the program arguments supplied when the current executable was invoked. This is the value to which is instantiated the argument of the 
@glindex main/1
@code{main/1} predicate at executable startup. Unchangeable. 


@item @code{bounded} 
It is @code{false}, to denote that the range of integers can be considered infinite (but see 
@glindex int/1
@code{int/1}). Unchangeable. @key{ @bullet{} ISO @bullet{} }


@item @code{integer_rounding_function} 
It is @code{toward_zero}, so that @code{-1 =:= -3//2} succeeds. Unchangeable. @key{ @bullet{} ISO @bullet{} }


@item @code{max_arity} 
It is 255, so that no compound term (or predicate) can have more than this number of arguments. Unchangeable. @key{ @bullet{} ISO @bullet{} }


@item @code{gc} 
Controls whether garbage collection is done. May be @code{on} (default) or @code{off}. 


@item @code{gc_margin} 
An integer @code{Margin}. If less than @code{Margin} kilobytes are reclaimed in a garbage collection then the size of the garbage collected area should be increased. Also, no garbage collection is attempted unless the garbage collected area has at least @code{Margin} kilobytes. Initially 500. 


@item @code{gc_trace} 
Governs garbage collection trace messages. An element off @code{[on,off,terse,verbose]}. Initially @code{off}. 


@end table  




@menu
* Usage and interface (prolog_flags)::	
* Documentation on exports (prolog_flags)::  
* Documentation on multifiles (prolog_flags)::	
@end menu

@node Usage and interface (prolog_flags), Documentation on exports (prolog_flags), Changing system behaviour and various flags, Changing system behaviour and various flags
@comment node-name, next,  previous,  up
@section Usage and interface (@code{prolog_flags})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

These predicates are builtin in CIAO, so nothing special has to be done to use them.

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex set_prolog_flag/2
@code{set_prolog_flag/2}, 
@glindex current_prolog_flag/2
@code{current_prolog_flag/2}, 
@glindex prolog_flag/3
@code{prolog_flag/3}, 
@glindex push_prolog_flag/2
@code{push_prolog_flag/2}, 
@glindex pop_prolog_flag/1
@code{pop_prolog_flag/1}, 
@glindex prompt/2
@code{prompt/2}, 
@glindex gc/0
@code{gc/0}, 
@glindex nogc/0
@code{nogc/0}, 
@glindex fileerrors/0
@code{fileerrors/0}, 
@glindex nofileerrors/0
@code{nofileerrors/0}.


@item @emph{Multifiles:}

@glindex define_flag/3
@code{define_flag/3}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (prolog_flags), Documentation on multifiles (prolog_flags), Usage and interface (prolog_flags), Changing system behaviour and various flags
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{prolog_flags})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{set_prolog_flag/2 (pred)}}}
@temp
@end iftex
@pdindex set_prolog_flag/2 
@glindex set_prolog_flag/2 
@deffn PREDICATE set_prolog_flag/2:


@code{set_prolog_flag(FlagName,Value)}


Set existing flag @code{FlagName} to @code{Value}.


@strong{Usage:} @code{set_prolog_flag(+atm,+term)}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{current_prolog_flag/2 (pred)}}}
@temp
@end iftex
@pdindex current_prolog_flag/2 
@glindex current_prolog_flag/2 
@deffn PREDICATE current_prolog_flag/2:


@code{current_prolog_flag(FlagName,Value)}


@code{FlagName} is an existing flag and @code{Value} is the value currently associated with it.


@strong{Usage:} @code{current_prolog_flag(?(atm),?(term))}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{prolog_flag/3 (pred)}}}
@temp
@end iftex
@pdindex prolog_flag/3 
@glindex prolog_flag/3 
@deffn PREDICATE prolog_flag/3:


@code{prolog_flag(FlagName,OldValue,NewValue)}


@code{FlagName} is an existing flag, unify @code{OldValue} with the value associated with it, and set it to new value @code{NewValue}.


@strong{Usage 1:} @code{prolog_flag(?(atm),?(term),+term)}
@itemize @minus
@end itemize

@strong{Usage 2:} @code{prolog_flag(?(FlagName),-(OldValue),-(NewValue))}
@itemize @minus
@item @emph{Description:} Same as @code{current_prolog_flag(@code{FlagName}, @code{OldValue})} 
@item @emph{The following properties should hold at call time:}


@code{FlagName} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})

The terms @code{OldValue} and @code{NewValue} are strictly identical.
@iftex
@hfill
@end iftex
 (@code{term_compare:== /2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{push_prolog_flag/2 (pred)}}}
@temp
@end iftex
@pdindex push_prolog_flag/2 
@glindex push_prolog_flag/2 
@deffn PREDICATE push_prolog_flag/2:


@code{push_prolog_flag(Flag,NewValue)}


Same as 
@glindex set_prolog_flag/2
@code{set_prolog_flag/2}, but storing current value of @code{Flag} to restore it with 
@glindex pop_prolog_flag/1
@code{pop_prolog_flag/1}.


@strong{Usage:} @code{push_prolog_flag(+atm,+term)}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{pop_prolog_flag/1 (pred)}}}
@temp
@end iftex
@pdindex pop_prolog_flag/1 
@glindex pop_prolog_flag/1 
@deffn PREDICATE pop_prolog_flag/1:


@code{pop_prolog_flag(Flag)}


Restore the value of @code{Flag} previous to the last non-canceled 
@glindex push_prolog_flag/2
@code{push_prolog_flag/2} on it.


@strong{Usage:} @code{pop_prolog_flag(+atm)}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{prompt/2 (pred)}}}
@temp
@end iftex
@pdindex prompt/2 
@glindex prompt/2 
@deffn PREDICATE prompt/2:


@code{prompt(Old,New)}


Unify @code{Old} with the current prompt for reading, change it to @code{New}.


@strong{Usage 1:} @code{prompt(?(atm),+atm)}
@itemize @minus
@end itemize

@strong{Usage 2:} @code{prompt(Old,New)}
@itemize @minus
@item @emph{Description:} Unify @code{Old} with the current prompt for reading without changing it. 
@item @emph{The following properties should hold at call time:}


@code{Old} is a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:var/1})

@code{New} is a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:var/1})

The terms @code{Old} and @code{New} are strictly identical.
@iftex
@hfill
@end iftex
 (@code{term_compare:== /2})
@item @emph{The following properties hold upon exit:}


@code{Old} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})

@code{New} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{gc/0 (pred)}}}
@temp
@end iftex
@pdindex gc/0 
@glindex gc/0 
@deffn PREDICATE gc/0:






@strong{Usage:} 
@itemize @minus
@item @emph{Description:} Enable garbage collection. Equivalent to @code{set_prolog_flag(gc, on)} 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{nogc/0 (pred)}}}
@temp
@end iftex
@pdindex nogc/0 
@glindex nogc/0 
@deffn PREDICATE nogc/0:






@strong{Usage:} 
@itemize @minus
@item @emph{Description:} Disable garbage collection. Equivalent to @code{set_prolog_flag(gc, off)} 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{fileerrors/0 (pred)}}}
@temp
@end iftex
@pdindex fileerrors/0 
@glindex fileerrors/0 
@deffn PREDICATE fileerrors/0:






@strong{Usage:} 
@itemize @minus
@item @emph{Description:} Enable reporting of file errors. Equivalent to @code{set_prolog_flag(fileerrors, on)} 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{nofileerrors/0 (pred)}}}
@temp
@end iftex
@pdindex nofileerrors/0 
@glindex nofileerrors/0 
@deffn PREDICATE nofileerrors/0:






@strong{Usage:} 
@itemize @minus
@item @emph{Description:} Disable reporting of file errors. Equivalent to @code{set_prolog_flag(fileerrors, off)} 
@end itemize
@end deffn
@sp 1



@node Documentation on multifiles (prolog_flags),  , Documentation on exports (prolog_flags), Changing system behaviour and various flags
@comment node-name, next,  previous,  up
@section Documentation on multifiles (@code{prolog_flags})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{define_flag/3 (pred)}}}
@temp
@end iftex
@pdindex define_flag/3 
@glindex define_flag/3 
@deffn PREDICATE define_flag/3:


@code{define_flag(Flag,Values,Default)}


New flags can be defined by writing facts of this predicate. @code{Flag} is the name of the new flag, @code{Values} defines the posible values for the flag (see below) and @code{Default} defines the predefined value associated with the flag (which should be compatible with @code{Values}).


The predicate is @emph{multifile}.


@strong{Usage 1:} 
@itemize @minus
@item @emph{Description:} Posible values for the flag are atoms.

Example: 
@smallexample 
:- multifile define_flag/3.
define_flag(tmpdir, atom, '/tmp').
@end smallexample  
 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{Flag} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})

Unify @code{Values} and @code{atom}.
@iftex
@hfill
@end iftex
 (@code{term_basic:= /2})

@code{Default} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})
@end itemize

@strong{Usage 2:} 
@itemize @minus
@item @emph{Description:} Posible values for the flag are integers.

Example: 
@smallexample 
:- multifile define_flag/3.
define_flag(max_connections, integer, 10).
@end smallexample  
 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{Flag} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})

Unify @code{Values} and @code{integer}.
@iftex
@hfill
@end iftex
 (@code{term_basic:= /2})

@code{Default} is an integer.
@iftex
@hfill
@end iftex
 (@code{basic_props:int/1})
@end itemize

@strong{Usage 3:} @code{define_flag(Flag,Values,Default)}
@itemize @minus
@item @emph{Description:} Posible values for the flag are the elements of @code{Values}.

Example: 
@smallexample 
:- multifile define_flag/3.
define_flag(debug, [on,debug,trace,off], off).
@end smallexample  
 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{Flag} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})

@code{Values} is a list.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/1})

@code{Default} is any term.
@iftex
@hfill
@end iftex
 (@code{basic_props:term/1})
@item @emph{The following properties should hold at call time:}


@code{Default} is an element of @code{Values}.
@iftex
@hfill
@end iftex
 (@code{basic_props:member/2})
@end itemize
@end deffn
@sp 1


@c (component)


@node Concurrency/multithreading primitives, Extending the syntax, Changing system behaviour and various flags, Top
@comment node-name, next,  previous,  up
@chapter Concurrency/multithreading primitives
@liindex concurrency
@c -------------------------------------------------
@c WARNING: Do not edit this file (concurrency.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/engine/concurrency.pl
@c -------------------------------------------------

@strong{Author(s):} Manuel Carro.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 1.3#118 (1999/11/25, 19:28:6 MET)

This module provides basic mechanisms for using concurrency and implementing multi-goal applications.
@coindex concurrency
@glindex concurrency 
Goals can be specified to be run in a separate stack set; in that case, they are assigned a goal identifier with which further accesses (e.g., asking for more solutions) to the goal can be made. Additionally, in some architectures, these goals can be assigned an O.S. thread, separate from the one which made the initial call. On the architectures for which we were not able to implement it yet, the original thread switches to the new stack set, executes the goal there, and returns after it has completed. 

As for now, the memory space of the threads (c.f., stack sets) is separate in the sense that goals are copied to the new stack set, and bindings of variables are not seen among stack sets which allows forward and backward execution to proceed independently in each stack set, at the cost of the initial goal copy. However, the program space (including, specially, the 
@glindex concurrent predicates
concurrent predicates) are shared and seen by all the goals and threads. 

Additionally, a small set of lock-related predicates are provided: locks are associated with atom names. Whereas the concurrent database facilities are enough to implement locks, semaphores, messages, etc., the predicates implementing atom-based locks are faster than the ones accessing the concurrent database. 





@menu
* Usage and interface (concurrency)::  
* Documentation on exports (concurrency)::  
* Known bugs and planned improvements (concurrency)::  
@end menu

@node Usage and interface (concurrency), Documentation on exports (concurrency), Concurrency/multithreading primitives, Concurrency/multithreading primitives
@comment node-name, next,  previous,  up
@section Usage and interface (@code{concurrency})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

These predicates are builtin in CIAO, so nothing special has to be done to use them.

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex eng_call/4
@code{eng_call/4}, 
@glindex eng_call/3
@code{eng_call/3}, 
@glindex eng_backtrack/2
@code{eng_backtrack/2}, 
@glindex eng_cut/1
@code{eng_cut/1}, 
@glindex eng_release/1
@code{eng_release/1}, 
@glindex eng_wait/1
@code{eng_wait/1}, 
@glindex eng_kill/1
@code{eng_kill/1}, 
@glindex eng_killothers/0
@code{eng_killothers/0}, 
@glindex eng_self/1
@code{eng_self/1}, 
@glindex eng_status/0
@code{eng_status/0}, 
@glindex lock_atom/1
@code{lock_atom/1}, 
@glindex unlock_atom/1
@code{unlock_atom/1}, 
@glindex atom_lock_state/2
@code{atom_lock_state/2}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (concurrency), Known bugs and planned improvements (concurrency), Usage and interface (concurrency), Concurrency/multithreading primitives
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{concurrency})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{eng_call/4 (pred)}}}
@temp
@end iftex
@pdindex eng_call/4 
@glindex eng_call/4 
@deffn PREDICATE eng_call/4:






@emph{Meta-predicate} with arguments: @code{eng_call(goal,?,?,?)}.


@strong{Usage:} @code{eng_call(+Goal,+EngineCreation,+ThreadCreation,-(GoalId))}
@itemize @minus
@item @emph{Description:} Calls @code{Goal} in a new engine (stack set), possibly using a new thread, and returns a @code{GoalId} to designate this new goal henceforth. @code{EngineCreation} can be either @code{wait} or @code{create}; the distinction is not yet meaningful. @code{ThreadCreation} can be one of @code{self}, @code{wait}, or @code{create}. In the first case the creating thread is used to execute @code{Goal}, and thus it has to wait until its first result or failure. In the other two cases, a new thread for the @code{Goal} is created and assigned the new engine. Some details still have to be woked out. 
@glindex eng_call/4
@code{eng_call/4} always succeeds and executes a copy (with new variables) of the original goal, so local and remote backtracking and execution do not affect each other. 
@item @emph{The following properties should hold at call time:}


@code{+Goal} is a term which represents a goal, i.e., an atom or a structure.
@iftex
@hfill
@end iftex
 (@code{basic_props:callable/1})

@code{+EngineCreation} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})

@code{+ThreadCreation} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})

@code{-(GoalId)} is an integer.
@iftex
@hfill
@end iftex
 (@code{basic_props:int/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{eng_call/3 (pred)}}}
@temp
@end iftex
@pdindex eng_call/3 
@glindex eng_call/3 
@deffn PREDICATE eng_call/3:






@emph{Meta-predicate} with arguments: @code{eng_call(goal,?,?)}.


@strong{Usage:} @code{eng_call(+Goal,+EngineCreation,+ThreadCreation)}
@itemize @minus
@item @emph{Description:} Similar to 
@glindex eng_call/4
@code{eng_call/4}, but the thread (if created) and stack areas are automatically released upon success or failure of the goal. No @code{GoalId} is provided for further interaction with the goal. 
@item @emph{The following properties should hold at call time:}


@code{+Goal} is a term which represents a goal, i.e., an atom or a structure.
@iftex
@hfill
@end iftex
 (@code{basic_props:callable/1})

@code{+EngineCreation} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})

@code{+ThreadCreation} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{eng_backtrack/2 (pred)}}}
@temp
@end iftex
@pdindex eng_backtrack/2 
@glindex eng_backtrack/2 
@deffn PREDICATE eng_backtrack/2:






The predicate is of type @emph{implicit}.


@strong{Usage:} @code{eng_backtrack(+GoalId,+ThreadCreation)}
@itemize @minus
@item @emph{Description:} Performs backtracking on the goal designed by @code{GoalId}, maybe using a new thread, according to @code{ThreadCreation} (same as in 
@glindex eng_call/4
@code{eng_call/4}). Fails if the goal is backtracked over by the local thread, and there are no more solutions. Always succeeds if executed by a remote thread. The engine is automatically released and cleaned up upon failure. 
@item @emph{The following properties should hold at call time:}


@code{+GoalId} is an integer.
@iftex
@hfill
@end iftex
 (@code{basic_props:int/1})

@code{+ThreadCreation} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{eng_cut/1 (pred)}}}
@temp
@end iftex
@pdindex eng_cut/1 
@glindex eng_cut/1 
@deffn PREDICATE eng_cut/1:






The predicate is of type @emph{implicit}.


@strong{Usage:} @code{eng_cut(+GoalId)}
@itemize @minus
@item @emph{Description:} Performs a @emph{cut} in the execution of the goal @code{GoalId}. The next call to 
@glindex eng_backtrack/2
@code{eng_backtrack/2} will therefore fail. 
@item @emph{The following properties should hold at call time:}


@code{+GoalId} is an integer.
@iftex
@hfill
@end iftex
 (@code{basic_props:int/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{eng_release/1 (pred)}}}
@temp
@end iftex
@pdindex eng_release/1 
@glindex eng_release/1 
@deffn PREDICATE eng_release/1:






The predicate is of type @emph{implicit}.


@strong{Usage:} @code{eng_release(+GoalId)}
@itemize @minus
@item @emph{Description:} Cleans up and releases the engine executing the goal designed by @code{GoalId}. The engine must be in @code{WAITING} state. 
@item @emph{The following properties should hold at call time:}


@code{+GoalId} is an integer.
@iftex
@hfill
@end iftex
 (@code{basic_props:int/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{eng_wait/1 (pred)}}}
@temp
@end iftex
@pdindex eng_wait/1 
@glindex eng_wait/1 
@deffn PREDICATE eng_wait/1:






The predicate is of type @emph{implicit}.


@strong{Usage:} @code{eng_wait(+GoalId)}
@itemize @minus
@item @emph{Description:} Waits for the engine executing the goal denoted by @code{GoalId} to be in waiting state (i.e., it has finished searching for a solution, either with success or failure). 
@item @emph{The following properties should hold at call time:}


@code{+GoalId} is an integer.
@iftex
@hfill
@end iftex
 (@code{basic_props:int/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{eng_kill/1 (pred)}}}
@temp
@end iftex
@pdindex eng_kill/1 
@glindex eng_kill/1 
@deffn PREDICATE eng_kill/1:






The predicate is of type @emph{implicit}.


@strong{Usage:} @code{eng_kill(+GoalId)}
@itemize @minus
@item @emph{Description:} Kills the thread executing @code{GoalId} (if any), and frees the memory used up by the stack set. Usually one should wait (
@glindex eng_wait/1
@code{eng_wait/1}) for a goal, and then release it, but killing the thread explicitly allows recovering from error states, or imposing timeouts to a task. A goal can kill itself; use this feature with caution. 
@item @emph{The following properties should hold at call time:}


@code{+GoalId} is an integer.
@iftex
@hfill
@end iftex
 (@code{basic_props:int/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{eng_killothers/0 (pred)}}}
@temp
@end iftex
@pdindex eng_killothers/0 
@glindex eng_killothers/0 
@deffn PREDICATE eng_killothers/0:






The predicate is of type @emph{implicit}.


@strong{Usage:} 
@itemize @minus
@item @emph{Description:} Kills threads and releases stack sets of all active goals, but the one calling 
@glindex eng_killothers
@code{eng_killothers}. Again, a safety measure. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{eng_self/1 (pred)}}}
@temp
@end iftex
@pdindex eng_self/1 
@glindex eng_self/1 
@deffn PREDICATE eng_self/1:






The predicate is of type @emph{implicit}.


@strong{Usage:} @code{eng_self(?(GoalId))}
@itemize @minus
@item @emph{Description:} @code{GoalId} is unified with the identifier of the goal within which 
@glindex eng_self/1
@code{eng_self/1} is executed. 
@item @emph{The following properties should hold at call time:}


@code{?(GoalId)} is an integer.
@iftex
@hfill
@end iftex
 (@code{basic_props:int/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{eng_status/0 (pred)}}}
@temp
@end iftex
@pdindex eng_status/0 
@glindex eng_status/0 
@deffn PREDICATE eng_status/0:






The predicate is of type @emph{implicit}.


@strong{Usage:} 
@itemize @minus
@item @emph{Description:} Prints to standard output the current status of the stack sets. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{lock_atom/1 (pred)}}}
@temp
@end iftex
@pdindex lock_atom/1 
@glindex lock_atom/1 
@deffn PREDICATE lock_atom/1:






The predicate is of type @emph{implicit}.


@strong{Usage:} @code{lock_atom(+Atom)}
@itemize @minus
@item @emph{Description:} The 
@glindex semaphore
semaphore associated to @code{Atom} is accessed; if its value is nonzero, it is atomically decremented and the execution of this thread proceeds. Otherwise, the goal waits until a nonzero value is reached. The semaphore is then atomically decremented and the execution of this thread proceeds. 
@item @emph{The following properties should hold at call time:}


@code{+Atom} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{unlock_atom/1 (pred)}}}
@temp
@end iftex
@pdindex unlock_atom/1 
@glindex unlock_atom/1 
@deffn PREDICATE unlock_atom/1:






The predicate is of type @emph{implicit}.


@strong{Usage:} @code{unlock_atom(+Atom)}
@itemize @minus
@item @emph{Description:} The 
@glindex semaphore
semaphore associated to @code{Atom} is atomically incremented. 
@item @emph{The following properties should hold at call time:}


@code{+Atom} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{atom_lock_state/2 (pred)}}}
@temp
@end iftex
@pdindex atom_lock_state/2 
@glindex atom_lock_state/2 
@deffn PREDICATE atom_lock_state/2:






The predicate is of type @emph{implicit}.


@strong{Usage 1:} @code{atom_lock_state(+Atom,+Value)}
@itemize @minus
@item @emph{Description:} Sets the semaphore associated to @code{Atom} to @code{Value}. This is usually done at the beginning of the execution, but can be executed at any time. If not called, semaphore associated to atoms are by default inited to 1. It should be used with caution: arbitrary use can transform programs using locks in a mess of internal relations. The change of a semaphore value in a place other than the initialization stage of a program is @strong{not} among the allowed operations as defined by Dijkstra [Dij65,BA82]. 
@item @emph{The following properties should hold at call time:}


@code{+Atom} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})

@code{+Value} is an integer.
@iftex
@hfill
@end iftex
 (@code{basic_props:int/1})
@end itemize

@strong{Usage 2:} @code{atom_lock_state(+Atom,-(Value))}
@itemize @minus
@item @emph{Description:} Consults the @code{Value} of the semaphore associated to @code{Atom}. Use sparingly and mainly as a medium to check state correctness. Not among the operations on semaphore by Djikstra. 
@item @emph{The following properties should hold at call time:}


@code{+Atom} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})

@code{-(Value)} is an integer.
@iftex
@hfill
@end iftex
 (@code{basic_props:int/1})
@end itemize
@end deffn
@sp 1



@node Known bugs and planned improvements (concurrency),  , Documentation on exports (concurrency), Concurrency/multithreading primitives
@comment node-name, next,  previous,  up
@section Known bugs and planned improvements (@code{concurrency})

@itemize @bullet{}

@item
Not fully available in all architectures yet.

@item
Some implementation of threads have a limit on the total number of threads that can be created by a process (not only threads active at a time, but threads created at all). Thread creation, in this case, just hangs. A better solution is planned for the future.

@item
The thread-related part of the library is not yet final, an some characteristics may be revised in a near future. A higher level library for concurrency and distribution based on the low-level primitives in this module is being implemented. 
@end itemize

@c (component)


@node Extending the syntax, Message printing primitives, Concurrency/multithreading primitives, Top
@comment node-name, next,  previous,  up
@chapter Extending the syntax
@liindex syntax_extensions
@c -------------------------------------------------
@c WARNING: Do not edit this file (syntax_extensions.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/engine/syntax_extensions.pl
@c -------------------------------------------------

@strong{Author(s):} Daniel Cabeza.


This chapter documents the 
@glindex builtin directives
builtin directives in Ciao for extending the syntax of source files. Note that the 
@glindex ISO-Prolog
ISO-Prolog directive 
@glindex char_conversion/2
@code{char_conversion/2} is not implemented, since Ciao does not (yet) have a character conversion table.



@menu
* Usage and interface (syntax_extensions)::  
* Documentation on internals (syntax_extensions)::  
@end menu

@node Usage and interface (syntax_extensions), Documentation on internals (syntax_extensions), Extending the syntax, Extending the syntax
@comment node-name, next,  previous,  up
@section Usage and interface (@code{syntax_extensions})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

These directives are builtin in Ciao, so nothing special has to be done to use them.
@end itemize
@end cartouche


@node Documentation on internals (syntax_extensions),  , Usage and interface (syntax_extensions), Extending the syntax
@comment node-name, next,  previous,  up
@section Documentation on internals (@code{syntax_extensions})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{op/3 (decl)}}}
@temp
@end iftex
@deindex op/3 
@glindex op/3 
@deffn DECLARATION op/3:






@strong{Usage:} :- @code{op(Priority,Op_spec,Operator)}.
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@item @emph{Description:} Updates the 
@glindex operator table
operator table for reading the terms in the rest of the current text, in the same way as the builtin 
@glindex op/3
@code{op/3} does. Its scope is local to the current text. Usually included in 
@glindex package file
package files 
@item @emph{The following properties hold at call time:}


@code{Priority} is an integer.
@iftex
@hfill
@end iftex
 (@code{basic_props:int/1})

@code{Op_spec} specifies the type and associativity of an operator.
@iftex
@hfill
@end iftex
 (@code{basic_props:operator_specifier/1})

@code{Operator} is an atom or a list of atoms.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm_or_atm_list/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{new_declaration/1 (decl)}}}
@temp
@end iftex
@deindex new_declaration/1 
@glindex new_declaration/1 
@deffn DECLARATION new_declaration/1:






@strong{Usage:} :- @code{new_declaration(Predicate)}.
@itemize @minus
@item @emph{Description:} Declares @code{Predicate} to be a valid declaration in the rest of the current text. Such declarations are simply ignored by the compiler or top level, but can be used by other code processing programs such as an automatic documentator. Also, they can easily translated into standard code (a set of facts and/or rules) by defining a suitable 
@glindex expansion
expansion (e.g., by 
@glindex add_sentence_trans/1
@code{add_sentence_trans/1}, etc.). This is tipically done in 
@glindex package file
package files. 

Equivalent to @code{new_declaration(Predicate, off)}. 
@item @emph{The following properties hold at call time:}


@code{Predicate} is a Name/Arity structure denoting a predicate name: 
@smallexample 
predname(P/A) :-
        atm(P),
        int(A).
@end smallexample 

@iftex
@hfill
@end iftex
 (@code{basic_props:predname/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{new_declaration/2 (decl)}}}
@temp
@end iftex
@deindex new_declaration/2 
@glindex new_declaration/2 
@deffn DECLARATION new_declaration/2:






@strong{Usage:} :- @code{new_declaration(Predicate,In_Itf)}.
@itemize @minus
@item @emph{Description:} Declares @code{Predicate} to be a valid declaration in the rest of the current text. Such declarations will be included in the 
@glindex interface file
interface file for this file if @code{In_Itf} is 'on', not if it is 'off'. Including such declarations in interface files makes them visible while processing other modules which make use of this one. 
@item @emph{The following properties hold at call time:}


@code{Predicate} is a Name/Arity structure denoting a predicate name: 
@smallexample 
predname(P/A) :-
        atm(P),
        int(A).
@end smallexample 

@iftex
@hfill
@end iftex
 (@code{basic_props:predname/1})

@code{In_Itf} is 'on' or 'off'
@iftex
@hfill
@end iftex
 (@code{syntax_extensions:switch/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{load_compilation_module/1 (decl)}}}
@temp
@end iftex
@deindex load_compilation_module/1 
@glindex load_compilation_module/1 
@deffn DECLARATION load_compilation_module/1:






@strong{Usage:} :- @code{load_compilation_module(Module)}.
@itemize @minus
@item @emph{Description:} Loads code defined in @code{Module} into the compiler, usually including predicates which define translations of terms, for use with the declarations 
@glindex add_sentence_trans/1
@code{add_sentence_trans/1} and similar ones. Normally included in 
@glindex package file
package files. 
@item @emph{The following properties hold at call time:}


@code{Module} is a source name.
@iftex
@hfill
@end iftex
 (@code{streams_basic:sourcename/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{add_sentence_trans/1 (decl)}}}
@temp
@end iftex
@deindex add_sentence_trans/1 
@glindex add_sentence_trans/1 
@deffn DECLARATION add_sentence_trans/1:






@strong{Usage:} :- @code{add_sentence_trans(Predicate)}.
@itemize @minus
@item @emph{Description:} Starts a translation, defined by @code{Predicate}, of the terms read by the compiler in the rest of the current text. For each subsequent term read by the compiler, the translation predicate is called to obtain a new term which will be used by the compiler as if it where the term present in the file. @code{Predicate} must be exported by a module previously loaded with a 
@glindex load_compilation_module/1
@code{load_compilation_module/1} declaration. Normally included in 
@glindex package file
package files. 
@item @emph{The following properties hold at call time:}


@code{Predicate} is a translation predicate spec (has arity 2 or 3).
@iftex
@hfill
@end iftex
 (@code{syntax_extensions:translation_predname/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{add_term_trans/1 (decl)}}}
@temp
@end iftex
@deindex add_term_trans/1 
@glindex add_term_trans/1 
@deffn DECLARATION add_term_trans/1:






@strong{Usage:} :- @code{add_term_trans(P)}.
@itemize @minus
@item @emph{Description:} Starts a translation, defined by @code{Predicate}, of the terms and sub-terms read by the compiler in the rest of the current text. This translation is performed after all translations defined by 
@glindex add_sentence_trans/1
@code{add_sentence_trans/1} are done. For each subsequent term read by the compiler, and recursively any subterm included, the translation predicate is called to possibly obtain a new term to replace the old one. Care must be taken of not introducing an endless loop of translations. @code{Predicate} must be exported by a module previously loaded with a 
@glindex load_compilation_module/1
@code{load_compilation_module/1} declaration. Normally included in 
@glindex package file
package files. 
@item @emph{The following properties hold at call time:}


@code{P} is a translation predicate spec (has arity 2 or 3).
@iftex
@hfill
@end iftex
 (@code{syntax_extensions:translation_predname/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{add_goal_trans/1 (decl)}}}
@temp
@end iftex
@deindex add_goal_trans/1 
@glindex add_goal_trans/1 
@deffn DECLARATION add_goal_trans/1:






@strong{Usage:} :- @code{add_goal_trans(Predicate)}.
@itemize @minus
@item @emph{Description:} Declares a translation, defined by @code{Predicate}, of the goals present in the clauses of the current text. This translation is performed after all translations defined by 
@glindex add_sentence_trans/1
@code{add_sentence_trans/1} and 
@glindex add_term_trans/1
@code{add_term_trans/1} are done. For each clause read by the compiler, the translation predicate is called with each goal present in the clause to possibly obtain other goal to substitute the original one, and the translation is subsequently applied to the resulting goal. Care must be taken of not introducing an endless loop of translations. @code{Predicate} must be exported by a module previously loaded with a 
@glindex load_compilation_module/1
@code{load_compilation_module/1} declaration. Bear in mind that this type of translation noticeably slows down compilation. Normally included in 
@glindex package file
package files. 
@item @emph{The following properties hold at call time:}


@code{Predicate} is a translation predicate spec (has arity 2 or 3).
@iftex
@hfill
@end iftex
 (@code{syntax_extensions:translation_predname/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{add_clause_trans/1 (decl)}}}
@temp
@end iftex
@deindex add_clause_trans/1 
@glindex add_clause_trans/1 
@deffn DECLARATION add_clause_trans/1:






@strong{Usage:} :- @code{add_clause_trans(Predicate)}.
@itemize @minus
@item @emph{Description:} Declares a translation, defined by @code{Predicate}, of the clauses of the current text. The translation is performed before 
@glindex add_goal_trans/1
@code{add_goal_trans/1} translations but after 
@glindex add_sentence_trans/1
@code{add_sentence_trans/1} and 
@glindex add_term_trans/1
@code{add_term_trans/1} translations. The usefulness of this translation is that information of the interface of related modules is available when it is performed. For each clause read by the compiler, the translation predicate is called with the first argument instantiated to a structure @code{clause(Head,Body)}, and the predicate must return in the second argument a similar structure, without changing the functor in @code{Head}. Before executing the translation predicate with actual clauses it is called with an input of @code{clause(0,0)} (output is discarded). 
@item @emph{The following properties hold at call time:}


@code{Predicate} is a translation predicate spec (has arity 2 or 3).
@iftex
@hfill
@end iftex
 (@code{syntax_extensions:translation_predname/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{translation_predname/1 (regtype)}}}
@temp
@end iftex
@teindex translation_predname/1 
@glindex translation_predname/1 
@deffn REGTYPE translation_predname/1:



A translation predicate is a predicate of arity 2 or 3 used to make compile-time translations. The compiler invokes a translation predicate instantiating its first argument with the item to be translated, and if the predicate is of arity 3 its third argument with the name of the module where the translation is done. If the call is successful, the second argument is used as if that item were in the place of the original, else the original item is used.


@strong{Usage:} @code{translation_predname(P)}
@itemize @minus
@item @emph{Description:} @code{P} is a translation predicate spec (has arity 2 or 3). 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1


@c (component)


@node Message printing primitives, Attributed variables, Extending the syntax, Top
@comment node-name, next,  previous,  up
@chapter Message printing primitives
@liindex io_aux
@c -------------------------------------------------
@c WARNING: Do not edit this file (io_aux.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/engine/io_aux.pl
@c -------------------------------------------------

@strong{Author(s):} Daniel Cabeza.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)


This module provides predicates for printing in a unified way informational messages, and also for printing some terms in a specific way.



@menu
* Usage and interface (io_aux)::  
* Documentation on exports (io_aux)::  
* Known bugs and planned improvements (io_aux)::  
@end menu

@node Usage and interface (io_aux), Documentation on exports (io_aux), Message printing primitives, Message printing primitives
@comment node-name, next,  previous,  up
@section Usage and interface (@code{io_aux})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

These predicates are builtin in CIAO, so nothing special has to be done to use them.

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex message/2
@code{message/2}, 
@glindex message_lns/4
@code{message_lns/4}, 
@glindex display_string/1
@code{display_string/1}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (io_aux), Known bugs and planned improvements (io_aux), Usage and interface (io_aux), Message printing primitives
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{io_aux})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{message/2 (pred)}}}
@temp
@end iftex
@pdindex message/2 
@glindex message/2 
@deffn PREDICATE message/2:


@code{message(Type,Message)}


Output to standard error @code{Message}, which is of type @code{Type}. The @code{quiet} 
@coindex prolog flag
@glindex prolog flag
@emph{prolog flag} (see @ref{Changing system behaviour and various flags}) controls which messages are actually output, depending on its type. Also, for 'error', 'warning' and 'note' messages, a prefix is output which denotes the severity of the message. @code{Message} is an item or a list of items from this list: 
@table @asis 


@item @code{$$(String)} 
@code{String} is a string, which is output with 
@glindex display_string/1
@code{display_string/1}. 


@item @code{''(Term)} 
@code{Term} is output quoted. If the module 
@glindex write
@code{write} is loaded, the term is output with 
@glindex writeq/1
@code{writeq/1}, else with 
@glindex displayq/1
@code{displayq/1}. 


@item @code{~~(Term)} 
@code{Term} is output unquoted. If the module 
@glindex write
@code{write} is loaded, the term is output with 
@glindex write/1
@code{write/1}, else with 
@glindex display/1
@code{display/1}. 


@item @code{[](Term)} 
@code{Term} is output as a message, can be an item or a list of items from this list. 


@item @code{Term} 
Any other term is output with 
@glindex display/1
@code{display/1}. 
@end table  



@strong{Usage:} @code{message(Type,Message)}
@itemize @minus
@item @emph{The following properties should hold at call time:}


@code{Type} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})

@code{Type} is an element of @code{[error,warning,note,message,debug]}.
@iftex
@hfill
@end iftex
 (@code{basic_props:member/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{message_lns/4 (pred)}}}
@temp
@end iftex
@pdindex message_lns/4 
@glindex message_lns/4 
@deffn PREDICATE message_lns/4:


@code{message_lns(Type,L0,L1,Message)}


Output to standard error @code{Message}, which is of type @code{Type}, and occurs between lines @code{L0} and @code{L1}. This is the same as 
@glindex message/2
@code{message/2}, but printing the lines where the message occurs in a unified way.


@strong{Usage:} @code{message_lns(Type,L0,L1,Message)}
@itemize @minus
@item @emph{The following properties should hold at call time:}


@code{Type} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})

@code{Type} is an element of @code{[error,warning,note,message,debug]}.
@iftex
@hfill
@end iftex
 (@code{basic_props:member/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{error/1 (pred)}}}
@temp
@end iftex
@pdindex error/1 
@glindex error/1 
@deffn PREDICATE error/1:



Defined as 
@smallexample 
error(Message) :-
        message(error,Message).
@end smallexample 
.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{warning/1 (pred)}}}
@temp
@end iftex
@pdindex warning/1 
@glindex warning/1 
@deffn PREDICATE warning/1:



Defined as 
@smallexample 
warning(Message) :-
        message(warning,Message).
@end smallexample 
.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{note/1 (pred)}}}
@temp
@end iftex
@pdindex note/1 
@glindex note/1 
@deffn PREDICATE note/1:



Defined as 
@smallexample 
note(Message) :-
        message(note,Message).
@end smallexample 
.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{message/1 (pred)}}}
@temp
@end iftex
@pdindex message/1 
@glindex message/1 
@deffn PREDICATE message/1:



Defined as 
@smallexample 
message(Message) :-
        message(message,Message).
@end smallexample 
.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{debug/1 (pred)}}}
@temp
@end iftex
@pdindex debug/1 
@glindex debug/1 
@deffn PREDICATE debug/1:



Defined as 
@smallexample 
debug(Message) :-
        message(debug,Message).
@end smallexample 
.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{inform_user/1 (pred)}}}
@temp
@end iftex
@pdindex inform_user/1 
@glindex inform_user/1 
@deffn PREDICATE inform_user/1:


@code{inform_user(Message)}


Similar to 
@glindex message/1
@code{message/1}, but @code{Message} is output with 
@glindex display_list/1
@code{display_list/1}. This predicate is obsolete, and may disappear in future versions.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{display_string/1 (pred)}}}
@temp
@end iftex
@pdindex display_string/1 
@glindex display_string/1 
@deffn PREDICATE display_string/1:


@code{display_string(String)}


Output @code{String} as the sequence of characters it represents.


@strong{Usage:} @code{display_string(String)}
@itemize @minus
@item @emph{The following properties should hold at call time:}


@code{String} is a string (a list of character codes).
@iftex
@hfill
@end iftex
 (@code{basic_props:string/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{display_list/1 (pred)}}}
@temp
@end iftex
@pdindex display_list/1 
@glindex display_list/1 
@deffn PREDICATE display_list/1:


@code{display_list(List)}


Outputs @code{List}. If @code{List} is a list, do 
@glindex display/1
@code{display/1} on each of its elements, else do 
@glindex display/1
@code{display/1} on @code{List}.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{display_term/1 (pred)}}}
@temp
@end iftex
@pdindex display_term/1 
@glindex display_term/1 
@deffn PREDICATE display_term/1:


@code{display_term(Term)}


Output @code{Term} in a way that a 
@glindex read/1
@code{read/1} will be able to read it back, even if operators change.

@end deffn
@sp 1



@node Known bugs and planned improvements (io_aux),  , Documentation on exports (io_aux), Message printing primitives
@comment node-name, next,  previous,  up
@section Known bugs and planned improvements (@code{io_aux})

@itemize @bullet{}

@item

@glindex message/2
@code{message/2} assumes that a module with name 'write' is library(write).
@end itemize

@c (component)


@node Attributed variables, Gathering some basic internal info, Message printing primitives, Top
@comment node-name, next,  previous,  up
@chapter Attributed variables
@liindex attributes
@c -------------------------------------------------
@c WARNING: Do not edit this file (attributes.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/engine/attributes.pl
@c -------------------------------------------------

@strong{Author(s):} Christian Holzbaur, Daniel Cabeza, Manuel Carro.

@strong{Version:} 1.3#121 (1999/11/26, 20:23:11 MET)


This library implements 
@coindex attributed variables
@glindex attributed variables
@emph{attributed variables}, which provide a mechanism for extensible unification.



@menu
* Usage and interface (attributes)::  
* Documentation on exports (attributes)::  
@end menu

@node Usage and interface (attributes), Documentation on exports (attributes), Attributed variables, Attributed variables
@comment node-name, next,  previous,  up
@section Usage and interface (@code{attributes})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

These predicates are builtin in CIAO, so nothing special has to be done to use them.

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex attach_attribute/2
@code{attach_attribute/2}, 
@glindex get_attribute/2
@code{get_attribute/2}, 
@glindex update_attribute/2
@code{update_attribute/2}, 
@glindex detach_attribute/1
@code{detach_attribute/1}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (attributes),  , Usage and interface (attributes), Attributed variables
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{attributes})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{attach_attribute/2 (pred)}}}
@temp
@end iftex
@pdindex attach_attribute/2 
@glindex attach_attribute/2 
@deffn PREDICATE attach_attribute/2:






@strong{Usage:} @code{attach_attribute(Var,Attr)}
@itemize @minus
@item @emph{Description:} Attach attribute @code{Attr} to @code{Var}. 
@item @emph{The following properties should hold at call time:}


@code{Var} is a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:var/1})

@code{Attr} is currently a term which is not a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:nonvar/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{get_attribute/2 (pred)}}}
@temp
@end iftex
@pdindex get_attribute/2 
@glindex get_attribute/2 
@deffn PREDICATE get_attribute/2:






@strong{Usage:} @code{get_attribute(Var,Attr)}
@itemize @minus
@item @emph{Description:} Unify @code{Attr} with the attribute of @code{Var}, or fail if @code{Var} has no attribute. 
@item @emph{The following properties should hold at call time:}


@code{Var} is a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:var/1})
@item @emph{The following properties should hold upon exit:}


@code{Attr} is currently a term which is not a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:nonvar/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{update_attribute/2 (pred)}}}
@temp
@end iftex
@pdindex update_attribute/2 
@glindex update_attribute/2 
@deffn PREDICATE update_attribute/2:






@strong{Usage:} @code{update_attribute(Var,Attr)}
@itemize @minus
@item @emph{Description:} Change the attribute of attributed variable @code{Var} to @code{Attr}. 
@item @emph{The following properties should hold at call time:}


@code{Var} is a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:var/1})

@code{Attr} is currently a term which is not a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:nonvar/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{detach_attribute/1 (pred)}}}
@temp
@end iftex
@pdindex detach_attribute/1 
@glindex detach_attribute/1 
@deffn PREDICATE detach_attribute/1:






@strong{Usage:} @code{detach_attribute(Var)}
@itemize @minus
@item @emph{Description:} Take out the attribute from the attributed variable @code{Var}. 
@item @emph{The following properties should hold at call time:}


@code{Var} is a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:var/1})
@end itemize
@end deffn
@sp 1


@c (component)


@node Gathering some basic internal info, *** PART III - ISO-Prolog library (iso), Attributed variables, Top
@comment node-name, next,  previous,  up
@chapter Gathering some basic internal info
@liindex system_info
@c -------------------------------------------------
@c WARNING: Do not edit this file (system_info.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/engine/system_info.pl
@c -------------------------------------------------

@strong{Author(s):} Daniel Cabeza, Manuel Carro.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 1.3#13 (1999/7/2, 18:49:49 MEST)

............... In development ...............



@menu
* Usage and interface (system_info)::  
* Documentation on exports (system_info)::  
* Documentation on internals (system_info)::  
@end menu

@node Usage and interface (system_info), Documentation on exports (system_info), Gathering some basic internal info, Gathering some basic internal info
@comment node-name, next,  previous,  up
@section Usage and interface (@code{system_info})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

These predicates are builtin in CIAO, so nothing special has to be done to use them.

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex get_arch/1
@code{get_arch/1}, 
@glindex get_os/1
@code{get_os/1}, 
@glindex this_module/1
@code{this_module/1}, 
@glindex current_module/1
@code{current_module/1}, 
@glindex ciaolibdir/1
@code{ciaolibdir/1}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (system_info), Documentation on internals (system_info), Usage and interface (system_info), Gathering some basic internal info
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{system_info})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{get_arch/1 (pred)}}}
@temp
@end iftex
@pdindex get_arch/1 
@glindex get_arch/1 
@deffn PREDICATE get_arch/1:



This predicate will describe the computer architecture wich is currently executing the predicate. 

Computer architectures are identified by a simple atom. This atom is implementation-defined, and may suffer any change from one CIAO Prolog version to another. 

For example,CIAO Prolog running on an Intel-based machine will retrieve: 
@smallexample 
?- get_arch(I).

I = i86 ? ;

no
?- 
@end smallexample  



The predicate is of type @emph{implicit}.


@strong{Usage:} @code{get_arch(?(ArchDescriptor))}
@itemize @minus
@item @emph{Description:} Unifies @code{ArchDescriptor} with a simple atom which describes the computer architecture currently executing the predicate. 
@item @emph{Calls should, and exit will be compatible with:}


@code{?(ArchDescriptor)} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{get_os/1 (pred)}}}
@temp
@end iftex
@pdindex get_os/1 
@glindex get_os/1 
@deffn PREDICATE get_os/1:



This predicate will describe the Operating System which is running on the machine currently executing the Prolog program. 

Operating Systems are identified by a simple atom. This atom is implementation-defined, and may suffer any change from one CIAO Prolog version to another. 

For example,CIAO Prolog running on Linux will retrieve: 
@smallexample 
?- get_os(I).

I = 'LINUX' ? ;

no
?- 
@end smallexample  



The predicate is of type @emph{implicit}.


@strong{Usage:} @code{get_os(?(OsDescriptor))}
@itemize @minus
@item @emph{Description:} Unifies @code{OsDescriptor} with a simple atom which describes the running Operating System when predicate was called. 
@item @emph{Calls should, and exit will be compatible with:}


@code{?(OsDescriptor)} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{this_module/1 (pred)}}}
@temp
@end iftex
@pdindex this_module/1 
@glindex this_module/1 
@deffn PREDICATE this_module/1:






@emph{Meta-predicate} of type @emph{implicit} with arguments: @code{this_module(addmodule)}.


@strong{Usage:} 
@itemize @minus
@item @emph{Description:} @code{Module} is the internal module identifier for current module. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{Arg1} is an internal module identifier
@iftex
@hfill
@end iftex
 (@code{system_info:internal_module_id/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{current_module/1 (pred)}}}
@temp
@end iftex
@pdindex current_module/1 
@glindex current_module/1 
@deffn PREDICATE current_module/1:



This predicate will successively unify its argument with all module names currently loaded. Module names will be simple atoms. 

When called using a free variable as argument, it will retrieve on backtracking all modules currently loaded. This is usefull when called from the CIAO 
@glindex toplevel
@code{toplevel}. 

When called using a module name as argument it will check whether the given module is loaded or not. This is usefull when called from user programs. 


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{current_module(Module)}
@itemize @minus
@item @emph{Description:} Retrieves (on backtracking) all currently loaded modules into your application. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{Module} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{ciaolibdir/1 (pred)}}}
@temp
@end iftex
@pdindex ciaolibdir/1 
@glindex ciaolibdir/1 
@deffn PREDICATE ciaolibdir/1:






The predicate is of type @emph{implicit}.


@strong{Usage:} @code{ciaolibdir(CiaoPath)}
@itemize @minus
@item @emph{Description:} @code{CiaoPath} is the path to the root of the Ciao libraries. Inside this directory, there are the directories 'lib', 'library' and 'contrib', which contain library modules. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{CiaoPath} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})
@end itemize
@end deffn
@sp 1



@node Documentation on internals (system_info),  , Documentation on exports (system_info), Gathering some basic internal info
@comment node-name, next,  previous,  up
@section Documentation on internals (@code{system_info})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{internal_module_id/1 (prop)}}}
@temp
@end iftex
@prindex internal_module_id/1 
@glindex internal_module_id/1 
@deffn PROPERTY internal_module_id/1:



For a user file it is a term user/1 with an argument different for each user file, for other modules is just the name of the module (as an atom).


@strong{Usage:} @code{internal_module_id(M)}
@itemize @minus
@item @emph{Description:} @code{M} is an internal module identifier 
@end itemize
@end deffn
@sp 1


@c (component)


@node *** PART III - ISO-Prolog library (iso), ISO-Prolog package, Gathering some basic internal info, Top
@comment node-name, next,  previous,  up
@unnumbered PART III - ISO-Prolog library (iso)
@iftex
@vfill
@cartouche
@sp
@ 
@end iftex
@c -------------------------------------------------
@c WARNING: Do not edit this file (IsoProlog.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/doc/common/IsoProlog.pl
@c -------------------------------------------------


 This part documents the 
@coindex iso
@glindex iso
@emph{iso} package which provides (most of) the ISO-Prolog functionality to Ciao programs, including most of the 
@coindex ISO-Prolog builtins
@glindex ISO-Prolog builtins
@emph{ISO-Prolog builtins}. 

@iftex
@sp 
@end cartouche
@vfill
@end iftex

@c (component)


@node ISO-Prolog package, Standard operators, *** PART III - ISO-Prolog library (iso), Top
@comment node-name, next,  previous,  up
@chapter ISO-Prolog package
@liindex iso
@c -------------------------------------------------
@c WARNING: Do not edit this file (iso_doc.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/iso_doc.pl
@c -------------------------------------------------


This library package allows the use of the ISO-Prolog predicates in Ciao programs. It is included by default in modules starting with a 
@glindex module/2
@code{module/2} declaration or user files without a starting 
@glindex use_package/1
@code{use_package/1} declaration.



@menu
* Usage and interface (iso)::	
@end menu

@node Usage and interface (iso),  , ISO-Prolog package, ISO-Prolog package
@comment node-name, next,  previous,  up
@section Usage and interface (@code{iso})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_package(iso).}

or

@code{:- module(...,...,[iso]).}

@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex aggregates
@code{aggregates}, 
@glindex dynamic
@code{dynamic}, 
@glindex iso_misc
@code{iso_misc}, 
@glindex iso_byte_char
@code{iso_byte_char}, 
@glindex iso_incomplete
@code{iso_incomplete}, 
@glindex operators
@code{operators}, 
@glindex read
@code{read}, 
@glindex streams
@code{streams}, 
@glindex write
@code{write}.


@end itemize

@end itemize
@end cartouche

@c (component)


@node Standard operators, All solutions predicates, ISO-Prolog package, Top
@comment node-name, next,  previous,  up
@chapter Standard operators
@liindex operators
@c -------------------------------------------------
@c WARNING: Do not edit this file (operators.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/operators.pl
@c -------------------------------------------------

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 0.9#7 (1999/3/17, 17:29:23 MET)

Standard operators are defined by this predicate: 
@smallexample 
standard_ops :-
        op(1200,xfx,[:-]),
        op(1200,fx,[:-,?-]),
        op(1100,xfy,[;]),
        op(1050,xfy,[->]),
        op(1000,xfy,[',']),
        op(950,xfy,[&,\&]),
        op(950,xf,[&]),
        op(900,fy,[\+]),
        op(700,xfx,[=,\=,==,\==,@@<,@@>,@@=<,@@>=,=..,is,=:=,=\=,<,=<,>,>=]),
        op(550,xfx,[:]),
        op(500,yfx,[+,-,/\,\/,#]),
        op(500,fy,[++,--]),
        op(400,yfx,[*,/,//,rem,mod,<<,>>]),
        op(200,fy,[+,-,\]),
        op(200,xfx,[**]),
        op(200,xfy,[^]),
        op(25,fy,[^]).
@end smallexample 




@menu
* Usage and interface (operators)::  
* Documentation on exports (operators)::  
@end menu

@node Usage and interface (operators), Documentation on exports (operators), Standard operators, Standard operators
@comment node-name, next,  previous,  up
@section Usage and interface (@code{operators})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(operators)).}

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex op/3
@code{op/3}, 
@glindex current_op/3
@code{current_op/3}.


@end itemize


@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex assertions/doc_props
@code{assertions/doc_props}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (operators),  , Usage and interface (operators), Standard operators
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{operators})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{op/3 (pred)}}}
@temp
@end iftex
@pdindex op/3 
@glindex op/3 
@deffn PREDICATE op/3:






@strong{Usage:} @code{op(+Precedence,+Type,+Name)}
@itemize @minus
@item @emph{Description:} Declares the atom @code{Name} to be an operator of the stated @code{Type} and @code{Precedence}. @code{Name} may also be a list of atoms in which case all of them are declared to be operators. If @code{Precedence} is 0 then the operator properties of @code{Name} (if any) are cancelled. 
@item @emph{The following properties hold globally:}


Documentation is still incomplete: @code{op(+Precedence,+Type,+Name)} may not conform the functionality documented.
@iftex
@hfill
@end iftex
 (@code{doc_props:doc_incomplete/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{current_op/3 (pred)}}}
@temp
@end iftex
@pdindex current_op/3 
@glindex current_op/3 
@deffn PREDICATE current_op/3:






@strong{Usage:} @code{current_op(?(Precedence),?(Type),?(Op))}
@itemize @minus
@item @emph{Description:} The atom @code{Op} is currently an operator of type @code{Type} and precedence @code{Precedence}. Neither @code{Op} nor the other arguments need be instantiated at the time of the call; i.e., this predicate can be used to generate as well as to test. 
@item @emph{The following properties hold globally:}


Documentation is still incomplete: @code{current_op(?(Precedence),?(Type),?(Op))} may not conform the functionality documented.
@iftex
@hfill
@end iftex
 (@code{doc_props:doc_incomplete/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{current_prefixop/3 (pred)}}}
@temp
@end iftex
@pdindex current_prefixop/3 
@glindex current_prefixop/3 
@deffn PREDICATE current_prefixop/3:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{current_infixop/4 (pred)}}}
@temp
@end iftex
@pdindex current_infixop/4 
@glindex current_infixop/4 
@deffn PREDICATE current_infixop/4:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{current_postfixop/3 (pred)}}}
@temp
@end iftex
@pdindex current_postfixop/3 
@glindex current_postfixop/3 
@deffn PREDICATE current_postfixop/3:



No further documentation available for this predicate.

@end deffn
@sp 1


@c (component)


@node All solutions predicates, Dynamic predicates, Standard operators, Top
@comment node-name, next,  previous,  up
@chapter All solutions predicates
@liindex aggregates
@c -------------------------------------------------
@c WARNING: Do not edit this file (aggregates.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/aggregates.pl
@c -------------------------------------------------

@strong{Author(s):} First version by Richard A. O'Keefe and David H.D. Warren. Changes by Mats Carlsson, Daniel Cabeza, and Manuel Hermenegildo.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 0.7#9 (1998/9/23, 19:34:28 MEST)

This module implements the standard solution aggregation predicates. 

When there are many solutions to a problem, and when all those solutions are required to be collected together, this can be achieved by repeatedly backtracking and gradually building up a list of the solutions. The following built-in predicates are provided to automate this process. 





@menu
* Usage and interface (aggregates)::  
* Documentation on exports (aggregates)::  
@end menu

@node Usage and interface (aggregates), Documentation on exports (aggregates), All solutions predicates, All solutions predicates
@comment node-name, next,  previous,  up
@section Usage and interface (@code{aggregates})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(aggregates)).}

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex setof/3
@code{setof/3}, 
@glindex bagof/3
@code{bagof/3}, 
@glindex findall/3
@code{findall/3}, 
@glindex ^/2
@code{^/2}.


@end itemize


@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex sort
@code{sort}, 
@glindex lists
@code{lists}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (aggregates),  , Usage and interface (aggregates), All solutions predicates
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{aggregates})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{setof/3 (pred)}}}
@temp
@end iftex
@pdindex setof/3 
@glindex setof/3 
@deffn PREDICATE setof/3:






@emph{Meta-predicate} with arguments: @code{setof(?,goal,?)}.


@strong{Usage:} @code{setof(@@(Template),+Generator,?(Set))}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@item @emph{Description:} Finds the @code{Set} of instances of the @code{Template} satisfying @code{Generator}. The set is in ascending order (see @ref{Comparing terms} for a definition of this order) without duplicates, and is non-empty. If there are no solutions, @code{setof} fails. @code{setof} may succeed in more than one way, binding free variables in @code{Generator} to different values. This can be avoided by using existential quantifiers on the free variables in front of @code{Generator}, using 
@glindex ^/2
@code{^/2}. For example, given the clauses: 
@smallexample 
father(bill, tom).
father(bill, ann).
father(bill, john).
father(harry, july).
father(harry, daniel).
@end smallexample  

The following query produces two alternative solutions via backtracking: 
@smallexample 
?- setof(X,father(F,X),Sons).

F = bill,
Sons = [ann,john,tom] ? ;

F = harry,
Sons = [daniel,july] ? ;

no
?- 
@end smallexample 
 
@item @emph{The following properties should hold upon exit:}


@code{Template} is any term.
@iftex
@hfill
@end iftex
 (@code{basic_props:term/1})

@code{Generator} is a term which represents a goal, i.e., an atom or a structure.
@iftex
@hfill
@end iftex
 (@code{basic_props:callable/1})

@code{Set} is a list.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{bagof/3 (pred)}}}
@temp
@end iftex
@pdindex bagof/3 
@glindex bagof/3 
@deffn PREDICATE bagof/3:






@emph{Meta-predicate} with arguments: @code{bagof(?,goal,?)}.


@strong{Usage:} @code{bagof(@@(Template),+Generator,?(Bag))}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@item @emph{Description:} Finds all the instances of the @code{Template} produced by the @code{Generator}, and returns them in the @code{Bag} in the order in which they were found. If the @code{Generator} contains free variables which are not bound in the @code{Template}, it assumes that this is like any other Prolog question and that you want bindings for those variables. This can be avoided by using existential quantifiers on the free variables in front of the @code{Generator}, using 
@glindex ^/2
@code{^/2}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{findall/3 (pred)}}}
@temp
@end iftex
@pdindex findall/3 
@glindex findall/3 
@deffn PREDICATE findall/3:






@emph{Meta-predicate} with arguments: @code{findall(?,goal,?)}.


@strong{Usage:} @code{findall(?(Template),+Generator,?(List))}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@item @emph{Description:} A special case of bagof, where all free variables in the @code{Generator} are taken to be existentially quantified. Faster than the other aggregation predicates. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{findall/4 (pred)}}}
@temp
@end iftex
@pdindex findall/4 
@glindex findall/4 
@deffn PREDICATE findall/4:



No further documentation available for this predicate.


@emph{Meta-predicate} with arguments: @code{findall(?,goal,?,?)}.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{(^)/2 (pred)}}}
@temp
@end iftex
@pdindex ^/2 
@glindex ^/2 
@deffn PREDICATE ^/2:






@strong{Usage:} @code{X ^ P}
@itemize @minus
@item @emph{Description:} Existential quantification: @code{X} is existentially quantified in @code{P}. E.g., in @code{A^p(A,B)}, @code{A} is existentially quantified. Used only within 
@glindex aggregation predicates
aggregation predicates. In all other contexts, simply, execute the procedure call @code{P}. 
@end itemize
@end deffn
@sp 1


@c (component)


@node Dynamic predicates, iso_byte_char (library), All solutions predicates, Top
@comment node-name, next,  previous,  up
@chapter Dynamic predicates
@liindex dynamic
@c -------------------------------------------------
@c WARNING: Do not edit this file (dynamic.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/dynamic.pl
@c -------------------------------------------------

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 0.5#30 (1998/6/30, 14:23:37 MET DST)

This module implements the assert/retract family of predicates to manipulate dynamic predicates. 

The predicates defined in this module allow modification of the program as it is actually running. Clauses can be added to the program (@emph{asserted}) or removed from the program (@emph{retracted}). For these predicates, the argument which corresponds to the clause head must be instantiated to an atom or a compound term. The argument corresponding to the clause must be instantiated either to a term @code{Head :- Body} or, if the body part is empty, to @code{Head}. An empty body part is represented as @code{true}. 



@menu
* Usage and interface (dynamic)::  
* Documentation on exports (dynamic)::	
* Documentation on multifiles (dynamic)::  
@end menu

@node Usage and interface (dynamic), Documentation on exports (dynamic), Dynamic predicates, Dynamic predicates
@comment node-name, next,  previous,  up
@section Usage and interface (@code{dynamic})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(dynamic)).}

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex asserta/1
@code{asserta/1}, 
@glindex asserta/2
@code{asserta/2}, 
@glindex assertz/1
@code{assertz/1}, 
@glindex assertz/2
@code{assertz/2}, 
@glindex assert/1
@code{assert/1}, 
@glindex assert/2
@code{assert/2}, 
@glindex retract/1
@code{retract/1}, 
@glindex retractall/1
@code{retractall/1}, 
@glindex abolish/1
@code{abolish/1}, 
@glindex clause/2
@code{clause/2}, 
@glindex clause/3
@code{clause/3}, 
@glindex current_predicate/1
@code{current_predicate/1}.


@item @emph{Multifiles:}

@glindex do_on_abolish/1
@code{do_on_abolish/1}.


@end itemize


@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex assertions/doc_props
@code{assertions/doc_props}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (dynamic), Documentation on multifiles (dynamic), Usage and interface (dynamic), Dynamic predicates
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{dynamic})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{asserta/1 (pred)}}}
@temp
@end iftex
@pdindex asserta/1 
@glindex asserta/1 
@deffn PREDICATE asserta/1:






@emph{Meta-predicate} with arguments: @code{asserta(clause)}.


@strong{Usage:} @code{asserta(+Clause)}
@itemize @minus
@item @emph{Description:} The current instance of @code{Clause} is interpreted as a clause and is added to the current program. The predicate concerned must be dynamic. The new clause becomes the @emph{first} clause for the predicate concerned. Any uninstantiated variables in the @code{Clause} will be replaced by new private variables. 
@item @emph{The following properties should hold globally:}


Documentation is still incomplete: @code{asserta(+Clause)} may not conform the functionality documented.
@iftex
@hfill
@end iftex
 (@code{doc_props:doc_incomplete/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{asserta/2 (pred)}}}
@temp
@end iftex
@pdindex asserta/2 
@glindex asserta/2 
@deffn PREDICATE asserta/2:






@emph{Meta-predicate} with arguments: @code{asserta(clause,?)}.


@strong{Usage:} @code{asserta(+Clause,-(Ref))}
@itemize @minus
@item @emph{Description:} Like @code{asserta/1}. @code{Ref} is a unique identifier of the asserted clause. 
@item @emph{The following properties should hold globally:}


Documentation is still incomplete: @code{asserta(+Clause,-(Ref))} may not conform the functionality documented.
@iftex
@hfill
@end iftex
 (@code{doc_props:doc_incomplete/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{assertz/1 (pred)}}}
@temp
@end iftex
@pdindex assertz/1 
@glindex assertz/1 
@deffn PREDICATE assertz/1:






@emph{Meta-predicate} with arguments: @code{assertz(clause)}.


@strong{Usage:} @code{assertz(+Clause)}
@itemize @minus
@item @emph{Description:} Like @code{asserta/1}, except that the new clause becomes the @emph{last} clause for the predicate concerned. 
@item @emph{The following properties should hold globally:}


Documentation is still incomplete: @code{assertz(+Clause)} may not conform the functionality documented.
@iftex
@hfill
@end iftex
 (@code{doc_props:doc_incomplete/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{assertz/2 (pred)}}}
@temp
@end iftex
@pdindex assertz/2 
@glindex assertz/2 
@deffn PREDICATE assertz/2:






@emph{Meta-predicate} with arguments: @code{assertz(clause,?)}.


@strong{Usage:} @code{assertz(+Clause,-(Ref))}
@itemize @minus
@item @emph{Description:} Like @code{assertz/1}. @code{Ref} is a unique identifier of the asserted clause. 
@item @emph{The following properties should hold globally:}


Documentation is still incomplete: @code{assertz(+Clause,-(Ref))} may not conform the functionality documented.
@iftex
@hfill
@end iftex
 (@code{doc_props:doc_incomplete/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{assert/1 (pred)}}}
@temp
@end iftex
@pdindex assert/1 
@glindex assert/1 
@deffn PREDICATE assert/1:






@emph{Meta-predicate} with arguments: @code{assert(clause)}.


@strong{Usage:} @code{assert(+Clause)}
@itemize @minus
@item @emph{Description:} Identical to @code{assertz/1}. Included for compatibility. 
@item @emph{The following properties should hold globally:}


Documentation is still incomplete: @code{assert(+Clause)} may not conform the functionality documented.
@iftex
@hfill
@end iftex
 (@code{doc_props:doc_incomplete/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{assert/2 (pred)}}}
@temp
@end iftex
@pdindex assert/2 
@glindex assert/2 
@deffn PREDICATE assert/2:






@emph{Meta-predicate} with arguments: @code{assert(clause,?)}.


@strong{Usage:} @code{assert(+Clause,-(Ref))}
@itemize @minus
@item @emph{Description:} Identical to @code{assertz/2}. Included for compatibility. 
@item @emph{The following properties should hold globally:}


Documentation is still incomplete: @code{assert(+Clause,-(Ref))} may not conform the functionality documented.
@iftex
@hfill
@end iftex
 (@code{doc_props:doc_incomplete/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{retract/1 (pred)}}}
@temp
@end iftex
@pdindex retract/1 
@glindex retract/1 
@deffn PREDICATE retract/1:






@emph{Meta-predicate} with arguments: @code{retract(clause)}.


@strong{Usage:} @code{retract(+Clause)}
@itemize @minus
@item @emph{Description:} The first clause in the program that matches @code{Clause} is erased. The predicate concerned must be dynamic. 

The predicate @code{retract/1} may be used in a non-determinate fashion, i.e., it will successively retract clauses matching the argument through backtracking. If reactivated by backtracking, invocations of the predicate whose clauses are being retracted will proceed unaffected by the retracts. This is also true for invocations of @code{clause} for the same predicate. The space occupied by a retracted clause will be recovered when instances of the clause are no longer in use. 
@item @emph{The following properties should hold globally:}


Documentation is still incomplete: @code{retract(+Clause)} may not conform the functionality documented.
@iftex
@hfill
@end iftex
 (@code{doc_props:doc_incomplete/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{retractall/1 (pred)}}}
@temp
@end iftex
@pdindex retractall/1 
@glindex retractall/1 
@deffn PREDICATE retractall/1:






@emph{Meta-predicate} with arguments: @code{retractall(fact)}.


@strong{Usage:} @code{retractall(+Head)}
@itemize @minus
@item @emph{Description:} Erase all clauses whose head matches @code{Head}, where @code{Head} must be instantiated to an atom or a compound term. The predicate concerned must be dynamic. The predicate definition is retained. 
@item @emph{The following properties should hold globally:}


Documentation is still incomplete: @code{retractall(+Head)} may not conform the functionality documented.
@iftex
@hfill
@end iftex
 (@code{doc_props:doc_incomplete/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{abolish/1 (pred)}}}
@temp
@end iftex
@pdindex abolish/1 
@glindex abolish/1 
@deffn PREDICATE abolish/1:






@emph{Meta-predicate} with arguments: @code{abolish(spec)}.


@strong{Usage:} @code{abolish(+Spec)}
@itemize @minus
@item @emph{Description:} Erase all clauses of the predicate specified by the predicate spec, or list of predicate specs, @code{Spec}. The predicate definition itself is also erased (the predicate is deemed undefined after execution of the abolish). The predicates concerned must all be user defined. 
@item @emph{The following properties should hold globally:}


Documentation is still incomplete: @code{abolish(+Spec)} may not conform the functionality documented.
@iftex
@hfill
@end iftex
 (@code{doc_props:doc_incomplete/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{clause/2 (pred)}}}
@temp
@end iftex
@pdindex clause/2 
@glindex clause/2 
@deffn PREDICATE clause/2:






@emph{Meta-predicate} with arguments: @code{clause(fact,?)}.


@strong{Usage:} @code{clause(+Head,?(Body))}
@itemize @minus
@item @emph{Description:} The clause '@code{Head} @code{:-} @code{Body}' exists in the current program. The predicate concerned must be dynamic. 
@item @emph{The following properties should hold globally:}


Documentation is still incomplete: @code{clause(+Head,?(Body))} may not conform the functionality documented.
@iftex
@hfill
@end iftex
 (@code{doc_props:doc_incomplete/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{clause/3 (pred)}}}
@temp
@end iftex
@pdindex clause/3 
@glindex clause/3 
@deffn PREDICATE clause/3:


@code{clause(Head,Body,Ref)}


Like @code{clause(Head,Body)}, plus the clause is uniquely identified by @code{Ref}.


@emph{Meta-predicate} with arguments: @code{clause(fact,?,?)}.


@strong{Usage 1:} @code{clause(+Head,?(Body),?(Ref))}
@itemize @minus
@item @emph{Description:} @code{Head} must be instantiated to an atom or a compound term. 
@item @emph{The following properties should hold globally:}


Documentation is still incomplete: @code{clause(+Head,?(Body),?(Ref))} may not conform the functionality documented.
@iftex
@hfill
@end iftex
 (@code{doc_props:doc_incomplete/1})
@end itemize

@strong{Usage 2:} @code{clause(?(Head),?(Body),+Ref)}
@itemize @minus
@item @emph{Description:} @code{Ref} must be instantiated to a valid identifier. 
@item @emph{The following properties should hold globally:}


Documentation is still incomplete: @code{clause(?(Head),?(Body),+Ref)} may not conform the functionality documented.
@iftex
@hfill
@end iftex
 (@code{doc_props:doc_incomplete/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{current_predicate/1 (pred)}}}
@temp
@end iftex
@pdindex current_predicate/1 
@glindex current_predicate/1 
@deffn PREDICATE current_predicate/1:






@strong{Usage:} @code{current_predicate(?(Spec))}
@itemize @minus
@item @emph{Description:} A user defined predicate is named @code{Spec}. 
@item @emph{The following properties should hold globally:}


Documentation is still incomplete: @code{current_predicate(?(Spec))} may not conform the functionality documented.
@iftex
@hfill
@end iftex
 (@code{doc_props:doc_incomplete/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{(dynamic)/1 (pred)}}}
@temp
@end iftex
@pdindex dynamic/1 
@glindex dynamic/1 
@deffn PREDICATE dynamic/1:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{(data)/1 (pred)}}}
@temp
@end iftex
@pdindex data/1 
@glindex data/1 
@deffn PREDICATE data/1:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{wellformed_body/3 (pred)}}}
@temp
@end iftex
@pdindex wellformed_body/3 
@glindex wellformed_body/3 
@deffn PREDICATE wellformed_body/3:


@code{wellformed_body(BodyIn,Env,BodyOut)}


@code{BodyIn} is a well-formed clause body. @code{BodyOut} is its counterpart with no single-variable meta-goals (i.e., with @code{call(X)} for @code{X}). @code{Env} denotes if global cuts are admissible in @code{BodyIn} (@code{+} if they are, @code{-} if they are not).

@end deffn
@sp 1



@node Documentation on multifiles (dynamic),  , Documentation on exports (dynamic), Dynamic predicates
@comment node-name, next,  previous,  up
@section Documentation on multifiles (@code{dynamic})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{do_on_abolish/1 (pred)}}}
@temp
@end iftex
@pdindex do_on_abolish/1 
@glindex do_on_abolish/1 
@deffn PREDICATE do_on_abolish/1:


@code{do_on_abolish(Head)}


A hook predicate which will be called when the definition of the predicate of @code{Head} is abolished.


The predicate is @emph{multifile}.

@end deffn
@sp 1


@c (component)


@node iso_byte_char (library), iso_incomplete (library), Dynamic predicates, Top
@comment node-name, next,  previous,  up
@chapter iso_byte_char (library)
@liindex iso_byte_char
@c -------------------------------------------------
@c WARNING: Do not edit this file (iso_byte_char.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/iso_byte_char.pl
@c -------------------------------------------------






@menu
* Usage and interface (iso_byte_char)::	 
* Documentation on exports (iso_byte_char)::  
@end menu

@node Usage and interface (iso_byte_char), Documentation on exports (iso_byte_char), iso_byte_char (library), iso_byte_char (library)
@comment node-name, next,  previous,  up
@section Usage and interface (@code{iso_byte_char})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(iso_byte_char)).}
@end itemize
@end cartouche


@node Documentation on exports (iso_byte_char),  , Usage and interface (iso_byte_char), iso_byte_char (library)
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{iso_byte_char})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{char_code/2 (pred)}}}
@temp
@end iftex
@pdindex char_code/2 
@glindex char_code/2 
@deffn PREDICATE char_code/2:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{atom_chars/2 (pred)}}}
@temp
@end iftex
@pdindex atom_chars/2 
@glindex atom_chars/2 
@deffn PREDICATE atom_chars/2:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{number_chars/2 (pred)}}}
@temp
@end iftex
@pdindex number_chars/2 
@glindex number_chars/2 
@deffn PREDICATE number_chars/2:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{get_byte/1 (pred)}}}
@temp
@end iftex
@pdindex get_byte/1 
@glindex get_byte/1 
@deffn PREDICATE get_byte/1:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{get_byte/2 (pred)}}}
@temp
@end iftex
@pdindex get_byte/2 
@glindex get_byte/2 
@deffn PREDICATE get_byte/2:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{peek_byte/1 (pred)}}}
@temp
@end iftex
@pdindex peek_byte/1 
@glindex peek_byte/1 
@deffn PREDICATE peek_byte/1:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{peek_byte/2 (pred)}}}
@temp
@end iftex
@pdindex peek_byte/2 
@glindex peek_byte/2 
@deffn PREDICATE peek_byte/2:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{put_byte/1 (pred)}}}
@temp
@end iftex
@pdindex put_byte/1 
@glindex put_byte/1 
@deffn PREDICATE put_byte/1:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{put_byte/2 (pred)}}}
@temp
@end iftex
@pdindex put_byte/2 
@glindex put_byte/2 
@deffn PREDICATE put_byte/2:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{get_char/1 (pred)}}}
@temp
@end iftex
@pdindex get_char/1 
@glindex get_char/1 
@deffn PREDICATE get_char/1:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{get_char/2 (pred)}}}
@temp
@end iftex
@pdindex get_char/2 
@glindex get_char/2 
@deffn PREDICATE get_char/2:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{peek_char/1 (pred)}}}
@temp
@end iftex
@pdindex peek_char/1 
@glindex peek_char/1 
@deffn PREDICATE peek_char/1:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{peek_char/2 (pred)}}}
@temp
@end iftex
@pdindex peek_char/2 
@glindex peek_char/2 
@deffn PREDICATE peek_char/2:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{put_char/1 (pred)}}}
@temp
@end iftex
@pdindex put_char/1 
@glindex put_char/1 
@deffn PREDICATE put_char/1:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{put_char/2 (pred)}}}
@temp
@end iftex
@pdindex put_char/2 
@glindex put_char/2 
@deffn PREDICATE put_char/2:



No further documentation available for this predicate.

@end deffn
@sp 1


@c (component)


@node iso_incomplete (library), iso_misc (library), iso_byte_char (library), Top
@comment node-name, next,  previous,  up
@chapter iso_incomplete (library)
@liindex iso_incomplete
@c -------------------------------------------------
@c WARNING: Do not edit this file (iso_incomplete.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/iso_incomplete.pl
@c -------------------------------------------------






@menu
* Usage and interface (iso_incomplete)::  
* Documentation on exports (iso_incomplete)::  
@end menu

@node Usage and interface (iso_incomplete), Documentation on exports (iso_incomplete), iso_incomplete (library), iso_incomplete (library)
@comment node-name, next,  previous,  up
@section Usage and interface (@code{iso_incomplete})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(iso_incomplete)).}
@end itemize
@end cartouche


@node Documentation on exports (iso_incomplete),  , Usage and interface (iso_incomplete), iso_incomplete (library)
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{iso_incomplete})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{open/4 (pred)}}}
@temp
@end iftex
@pdindex open/4 
@glindex open/4 
@deffn PREDICATE open/4:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{close/2 (pred)}}}
@temp
@end iftex
@pdindex close/2 
@glindex close/2 
@deffn PREDICATE close/2:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{stream_property/2 (pred)}}}
@temp
@end iftex
@pdindex stream_property/2 
@glindex stream_property/2 
@deffn PREDICATE stream_property/2:



No further documentation available for this predicate.

@end deffn
@sp 1


@c (component)


@node iso_misc (library), Term input, iso_incomplete (library), Top
@comment node-name, next,  previous,  up
@chapter iso_misc (library)
@liindex iso_misc
@c -------------------------------------------------
@c WARNING: Do not edit this file (iso_misc.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/iso_misc.pl
@c -------------------------------------------------

@strong{Version:} 0.4#5 (1998/2/24)





@menu
* Usage and interface (iso_misc)::  
* Documentation on exports (iso_misc)::	 
@end menu

@node Usage and interface (iso_misc), Documentation on exports (iso_misc), iso_misc (library), iso_misc (library)
@comment node-name, next,  previous,  up
@section Usage and interface (@code{iso_misc})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(iso_misc)).}

@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex between
@code{between}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (iso_misc),  , Usage and interface (iso_misc), iso_misc (library)
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{iso_misc})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{\= /2 (pred)}}}
@temp
@end iftex
@pdindex \=/2 
@glindex \=/2 
@deffn PREDICATE \=/2:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{once/1 (pred)}}}
@temp
@end iftex
@pdindex once/1 
@glindex once/1 
@deffn PREDICATE once/1:



No further documentation available for this predicate.


@emph{Meta-predicate} with arguments: @code{once(goal)}.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{compound/1 (pred)}}}
@temp
@end iftex
@pdindex compound/1 
@glindex compound/1 
@deffn PREDICATE compound/1:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{sub_atom/5 (pred)}}}
@temp
@end iftex
@pdindex sub_atom/5 
@glindex sub_atom/5 
@deffn PREDICATE sub_atom/5:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{unify_with_occurs_check/2 (pred)}}}
@temp
@end iftex
@pdindex unify_with_occurs_check/2 
@glindex unify_with_occurs_check/2 
@deffn PREDICATE unify_with_occurs_check/2:



No further documentation available for this predicate.

@end deffn
@sp 1


@c (component)


@node Term input, Structured stream handling, iso_misc (library), Top
@comment node-name, next,  previous,  up
@chapter Term input
@liindex read
@c -------------------------------------------------
@c WARNING: Do not edit this file (read.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/read.pl
@c -------------------------------------------------

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 0.8#10 (1998/11/24, 17:52:5 MET)





@menu
* Usage and interface (read)::	
* Documentation on exports (read)::  
@end menu

@node Usage and interface (read), Documentation on exports (read), Term input, Term input
@comment node-name, next,  previous,  up
@section Usage and interface (@code{read})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(read)).}

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex read/2
@code{read/2}.


@end itemize


@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex tokenize
@code{tokenize}, 
@glindex operators
@code{operators}, 
@glindex lists
@code{lists}, 
@glindex assertions/doc_props
@code{assertions/doc_props}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (read),  , Usage and interface (read), Term input
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{read})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{read/1 (pred)}}}
@temp
@end iftex
@pdindex read/1 
@glindex read/1 
@deffn PREDICATE read/1:


@code{read(Term)}


Like @code{read(Stream,Term)} with @code{Stream} associated to the current standard input.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{read/2 (pred)}}}
@temp
@end iftex
@pdindex read/2 
@glindex read/2 
@deffn PREDICATE read/2:






@strong{Usage:} @code{read(+Stream,?(Term))}
@itemize @minus
@item @emph{Description:} The next term, delimited by a full-stop (i.e., a @code{.} followed by either a space or a control character), is read from @code{Stream} and is unified with @code{Term}. The syntax of the term must agree with current operator declarations. If the end of @code{Stream} has been reached, @code{Term} is unified with the term @code{end_of_file}. Further calls to @code{read/2} for the same stream will then cause an error, unless the stream is connected to the terminal (in which case a prompt is opened on the terminal). 
@item @emph{The following properties should hold globally:}


Documentation is still incomplete: @code{read(+Stream,?(Term))} may not conform the functionality documented.
@iftex
@hfill
@end iftex
 (@code{doc_props:doc_incomplete/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{read_term/2 (pred)}}}
@temp
@end iftex
@pdindex read_term/2 
@glindex read_term/2 
@deffn PREDICATE read_term/2:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{read_term/3 (pred)}}}
@temp
@end iftex
@pdindex read_term/3 
@glindex read_term/3 
@deffn PREDICATE read_term/3:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{read_top_level/3 (pred)}}}
@temp
@end iftex
@pdindex read_top_level/3 
@glindex read_top_level/3 
@deffn PREDICATE read_top_level/3:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{second_prompt/2 (pred)}}}
@temp
@end iftex
@pdindex second_prompt/2 
@glindex second_prompt/2 
@deffn PREDICATE second_prompt/2:



No further documentation available for this predicate.

@end deffn
@sp 1


@c (component)


@node Structured stream handling, Term output, Term input, Top
@comment node-name, next,  previous,  up
@chapter Structured stream handling
@liindex streams
@c -------------------------------------------------
@c WARNING: Do not edit this file (streams.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/streams.pl
@c -------------------------------------------------

@strong{Version:} 0.5#15 (1998/6/9, 16:30:53 MET DST)





@menu
* Usage and interface (streams)::  
* Documentation on exports (streams)::	
@end menu

@node Usage and interface (streams), Documentation on exports (streams), Structured stream handling, Structured stream handling
@comment node-name, next,  previous,  up
@section Usage and interface (@code{streams})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(streams)).}
@end itemize
@end cartouche


@node Documentation on exports (streams),  , Usage and interface (streams), Structured stream handling
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{streams})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{open_null_stream/1 (pred)}}}
@temp
@end iftex
@pdindex open_null_stream/1 
@glindex open_null_stream/1 
@deffn PREDICATE open_null_stream/1:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{open_input/2 (pred)}}}
@temp
@end iftex
@pdindex open_input/2 
@glindex open_input/2 
@deffn PREDICATE open_input/2:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{close_input/1 (pred)}}}
@temp
@end iftex
@pdindex close_input/1 
@glindex close_input/1 
@deffn PREDICATE close_input/1:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{open_output/2 (pred)}}}
@temp
@end iftex
@pdindex open_output/2 
@glindex open_output/2 
@deffn PREDICATE open_output/2:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{close_output/1 (pred)}}}
@temp
@end iftex
@pdindex close_output/1 
@glindex close_output/1 
@deffn PREDICATE close_output/1:



No further documentation available for this predicate.

@end deffn
@sp 1


@c (component)


@node Term output, *** PART IV - Classic Prolog library (classic), Structured stream handling, Top
@comment node-name, next,  previous,  up
@chapter Term output
@liindex write
@c -------------------------------------------------
@c WARNING: Do not edit this file (write.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/write.pl
@c -------------------------------------------------

@strong{Author(s):} Adapted from shared code written by Richard A. O'Keefe. Changes by Mats Carlsson, Daniel Cabeza, and Manuel Hermenegildo..

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 0.5#49 (1998/7/14, 20:3:29 MET DST)

This library provides different predicates for term output, additional to the kernel predicates 
@glindex display/1
@code{display/1}-
@glindex display/2
@code{display/2} and @code{displayq/1}-@code{displayq/2}. All the predicates defined in ISO-Prolog are included, plus other traditionally provided by Prolog Implementations. Output predicates are provided in two versions: one that uses the current output stream and other in which the stream is specified explicitly, as an additional first argument.



@menu
* Usage and interface (write)::	 
* Documentation on exports (write)::  
* Documentation on multifiles (write)::	 
@end menu

@node Usage and interface (write), Documentation on exports (write), Term output, Term output
@comment node-name, next,  previous,  up
@section Usage and interface (@code{write})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(write)).}

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex write_term/3
@code{write_term/3}, 
@glindex write_term/2
@code{write_term/2}, 
@glindex write/2
@code{write/2}, 
@glindex write/1
@code{write/1}, 
@glindex write_list1/1
@code{write_list1/1}, 
@glindex writeq/2
@code{writeq/2}, 
@glindex writeq/1
@code{writeq/1}, 
@glindex write_canonical/2
@code{write_canonical/2}, 
@glindex write_canonical/1
@code{write_canonical/1}, 
@glindex print/2
@code{print/2}, 
@glindex print/1
@code{print/1}, 
@glindex portray_clause/2
@code{portray_clause/2}, 
@glindex portray_clause/1
@code{portray_clause/1}, 
@glindex numbervars/3
@code{numbervars/3}, 
@glindex prettyvars/1
@code{prettyvars/1}.


@item @emph{Properties:}

@glindex write_option/1
@code{write_option/1}.


@item @emph{Multifiles:}

@glindex define_flag/3
@code{define_flag/3}, 
@glindex portray_attribute/2
@code{portray_attribute/2}, 
@glindex portray/1
@code{portray/1}.


@end itemize


@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex operators
@code{operators}, 
@glindex sort
@code{sort}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (write), Documentation on multifiles (write), Usage and interface (write), Term output
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{write})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{write_term/3 (pred)}}}
@temp
@end iftex
@pdindex write_term/3 
@glindex write_term/3 
@deffn PREDICATE write_term/3:






@strong{Usage:} @code{write_term(@@(Stream),?(Term),+OptList)}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@item @emph{Description:} Outputs the term @code{Term} to the stream @code{Stream}, with the list of write-options @code{OptList}. See 
@glindex write_option/1
@code{write_option/1} type for default options. 
@item @emph{The following properties should hold upon exit:}


@code{@@(Stream)} is an open stream.
@iftex
@hfill
@end iftex
 (@code{streams_basic:stream/1})

@code{?(Term)} is any term.
@iftex
@hfill
@end iftex
 (@code{basic_props:term/1})

@code{+OptList} is a list of @code{write_option}s.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{write_term/2 (pred)}}}
@temp
@end iftex
@pdindex write_term/2 
@glindex write_term/2 
@deffn PREDICATE write_term/2:






@strong{Usage:} @code{write_term(?(Term),+OptList)}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@item @emph{Description:} Behaves like @code{current_output(S), write_term(S,Term,OptList)}. 
@item @emph{The following properties should hold upon exit:}


@code{?(Term)} is any term.
@iftex
@hfill
@end iftex
 (@code{basic_props:term/1})

@code{+OptList} is a list of @code{write_option}s.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{write_option/1 (prop)}}}
@temp
@end iftex
@prindex write_option/1 
@glindex write_option/1 
@deffn PROPERTY write_option/1:



@code{Opt} is a valid write option which affects the predicate @code{write_term/3} and similar ones. Possible write_options are: 
@itemize @bullet{} 
@item @strong{quoted(}@emph{bool}@strong{):} If @emph{bool} is @code{true}, atoms and functors that can't be read back by 
@glindex read_term/3
@code{read_term/3} are quoted, if it is @code{false}, each atom and functor is written as its name. Default value is @code{false}. 


@item @strong{ignore_ops(}@emph{flag}@strong{):} If @emph{flag} is @code{true}, each compound term is output in functional notation, if it is @code{ops}, curly bracketed notation and list notation is enabled when outputing compound terms, if it is @code{false}, also operator notation is enabled when outputing compound terms. Default value is @code{false}. 


@item @strong{numbervars(}@emph{bool}@strong{):} If @emph{bool} is @code{true}, a term of the form @code{'$VAR'(N)} where @code{N} is an integer, is output as a variable name consisting of a capital letter possibly followed by an integer, a term of the form @code{'$VAR'(Atom)} where @code{Atom} is an atom, as this atom (without quotes), and a term of the form @code{'$VAR'(String)} where @code{String} is a character string, as the atom corresponding to this character string. See predicates @code{numbervars/3} and @code{prettyvars/1}. If @emph{bool} is @code{false} this cases are not treated in any special way. Default value is @code{false}. 


@item @strong{portrayed(}@emph{bool}@strong{):} If @emph{bool} is @code{true}, then call multifile predicates 
@glindex portray/1
@code{portray/1} and 
@glindex portray_attribute/1
@code{portray_attribute/1}, to provide the user handlers for pretty printing some terms. @code{portray_attribute/1} is called whenever an attributed variable is to be printed, @code{portray/1} is called whenever a non-variable term is to be printed. If either call succeeds, then it is assumed that the term has been output, else it is printed as usual. If @emph{bool} is @code{false}, these predicates are not called. Default value is @code{false}. This option is set by the toplevel when writting the final values of variables, and by the debugging package when writting the goals in the tracing messages. Thus you can vary the forms of these messages if you wish. 


@item @strong{max_depth(}@emph{depth}@strong{):} @emph{depth} is a positive integer or cero. If it is positive, it denotes the depth limit on printing compound terms. If it is cero, there is no limit. Default value is @code{0} (no limit). 


@item @strong{priority(}@emph{prio}@strong{):} @emph{prio} is an integer between 1 and 1200. If the term to be printed has higher priority than @emph{prio}, it will be printed parenthesized. Default value is 1200 (no term parenthesized). 


@end itemize 
.


@strong{Usage:} @code{write_option(Opt)}
@itemize @minus
@item @emph{Description:} @code{Opt} is a valid write option. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{write/2 (pred)}}}
@temp
@end iftex
@pdindex write/2 
@glindex write/2 
@deffn PREDICATE write/2:






@strong{Usage:} @code{write(@@(Stream),?(Term))}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@item @emph{Description:} Behaves like @code{write_term(Stream, Term, [numbervars(true)])}. 
@item @emph{The following properties should hold upon exit:}


@code{@@(Stream)} is an open stream.
@iftex
@hfill
@end iftex
 (@code{streams_basic:stream/1})

@code{?(Term)} is any term.
@iftex
@hfill
@end iftex
 (@code{basic_props:term/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{write/1 (pred)}}}
@temp
@end iftex
@pdindex write/1 
@glindex write/1 
@deffn PREDICATE write/1:






@strong{Usage:} @code{write(?(Term))}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@item @emph{Description:} Behaves like @code{current_output(S), write(S,Term)}. 
@item @emph{The following properties should hold upon exit:}


@code{?(Term)} is any term.
@iftex
@hfill
@end iftex
 (@code{basic_props:term/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{write_list1/1 (pred)}}}
@temp
@end iftex
@pdindex write_list1/1 
@glindex write_list1/1 
@deffn PREDICATE write_list1/1:






@strong{Usage:} 
@itemize @minus
@item @emph{Description:} Writes a list to current output one element in each line. 
@item @emph{The following properties should hold at call time:}


@code{Arg1} is a list.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/1})
@item @emph{The following properties should hold upon exit:}


@code{Arg1} is a list.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{writeq/2 (pred)}}}
@temp
@end iftex
@pdindex writeq/2 
@glindex writeq/2 
@deffn PREDICATE writeq/2:






@strong{Usage:} @code{writeq(@@(Stream),?(Term))}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@item @emph{Description:} Behaves like @code{write_term(Stream, Term, [quoted(true), numbervars(true)])}. 
@item @emph{The following properties should hold upon exit:}


@code{@@(Stream)} is an open stream.
@iftex
@hfill
@end iftex
 (@code{streams_basic:stream/1})

@code{?(Term)} is any term.
@iftex
@hfill
@end iftex
 (@code{basic_props:term/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{writeq/1 (pred)}}}
@temp
@end iftex
@pdindex writeq/1 
@glindex writeq/1 
@deffn PREDICATE writeq/1:






@strong{Usage:} @code{writeq(?(Term))}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@item @emph{Description:} Behaves like @code{current_output(S), writeq(S,Term)}. 
@item @emph{The following properties should hold upon exit:}


@code{?(Term)} is any term.
@iftex
@hfill
@end iftex
 (@code{basic_props:term/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{write_canonical/2 (pred)}}}
@temp
@end iftex
@pdindex write_canonical/2 
@glindex write_canonical/2 
@deffn PREDICATE write_canonical/2:






@strong{Usage:} @code{write_canonical(@@(Stream),?(Term))}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@item @emph{Description:} Behaves like @code{write_term(Stream, Term, [quoted(true), ignore_ops(true)])}. The output of this predicate can always be parsed by 
@glindex read_term/2
@code{read_term/2} even if the term contains special characters or if operator declarations have changed. 
@item @emph{The following properties should hold upon exit:}


@code{@@(Stream)} is an open stream.
@iftex
@hfill
@end iftex
 (@code{streams_basic:stream/1})

@code{?(Term)} is any term.
@iftex
@hfill
@end iftex
 (@code{basic_props:term/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{write_canonical/1 (pred)}}}
@temp
@end iftex
@pdindex write_canonical/1 
@glindex write_canonical/1 
@deffn PREDICATE write_canonical/1:






@strong{Usage:} @code{write_canonical(?(Term))}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@item @emph{Description:} Behaves like @code{current_output(S), write_canonical(S,Term)}. 
@item @emph{The following properties should hold upon exit:}


@code{?(Term)} is any term.
@iftex
@hfill
@end iftex
 (@code{basic_props:term/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{print/2 (pred)}}}
@temp
@end iftex
@pdindex print/2 
@glindex print/2 
@deffn PREDICATE print/2:






@strong{Usage:} @code{print(@@(Stream),?(Term))}
@itemize @minus
@item @emph{Description:} Behaves like @code{write_term(Stream, Term, [numbervars(true), portrayed(true)])}. 
@item @emph{The following properties should hold upon exit:}


@code{@@(Stream)} is an open stream.
@iftex
@hfill
@end iftex
 (@code{streams_basic:stream/1})

@code{?(Term)} is any term.
@iftex
@hfill
@end iftex
 (@code{basic_props:term/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{print/1 (pred)}}}
@temp
@end iftex
@pdindex print/1 
@glindex print/1 
@deffn PREDICATE print/1:






@strong{Usage:} @code{print(?(Term))}
@itemize @minus
@item @emph{Description:} Behaves like @code{current_output(S), print(S,Term)}. 
@item @emph{The following properties should hold upon exit:}


@code{?(Term)} is any term.
@iftex
@hfill
@end iftex
 (@code{basic_props:term/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{portray_clause/2 (pred)}}}
@temp
@end iftex
@pdindex portray_clause/2 
@glindex portray_clause/2 
@deffn PREDICATE portray_clause/2:






@strong{Usage:} @code{portray_clause(@@(Stream),?(Clause))}
@itemize @minus
@item @emph{Description:} Outputs the clause @code{Clause} onto @code{Stream}, pretty printing its variables and using indentation, including a period at the end. This predicate is used by @code{listing/0}. 
@item @emph{The following properties should hold upon exit:}


@code{@@(Stream)} is an open stream.
@iftex
@hfill
@end iftex
 (@code{streams_basic:stream/1})

@code{?(Clause)} is any term.
@iftex
@hfill
@end iftex
 (@code{basic_props:term/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{portray_clause/1 (pred)}}}
@temp
@end iftex
@pdindex portray_clause/1 
@glindex portray_clause/1 
@deffn PREDICATE portray_clause/1:






@strong{Usage:} @code{portray_clause(?(Clause))}
@itemize @minus
@item @emph{Description:} Behaves like @code{current_output(S), portray_clause(S,Term)}. 
@item @emph{The following properties should hold upon exit:}


@code{?(Clause)} is any term.
@iftex
@hfill
@end iftex
 (@code{basic_props:term/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{numbervars/3 (pred)}}}
@temp
@end iftex
@pdindex numbervars/3 
@glindex numbervars/3 
@deffn PREDICATE numbervars/3:






@strong{Usage:} @code{numbervars(?(Term),+N,?(M))}
@itemize @minus
@item @emph{Description:} Unifies each of the variables in term @code{Term} with a term of the form @code{'$VAR'(I)} where @code{I} is an integer from @code{N} onwards. @code{M}-1 is unified with the last integer used. If the resulting term is output with a write option @code{numbervars(true)}, in the place of the variables in the original term will be printed a variable name consisting of a capital letter possibly followed by an integer. When @code{N} is 0 you will get the variable names A, B, ..., Z, A1, B1, etc. 
@item @emph{The following properties should hold upon exit:}


@code{?(Term)} is any term.
@iftex
@hfill
@end iftex
 (@code{basic_props:term/1})

@code{+N} is currently instantiated to an integer.
@iftex
@hfill
@end iftex
 (@code{term_typing:integer/1})

@code{?(M)} is currently instantiated to an integer.
@iftex
@hfill
@end iftex
 (@code{term_typing:integer/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{prettyvars/1 (pred)}}}
@temp
@end iftex
@pdindex prettyvars/1 
@glindex prettyvars/1 
@deffn PREDICATE prettyvars/1:






@strong{Usage:} @code{prettyvars(?(Term))}
@itemize @minus
@item @emph{Description:} Similar to @code{numbervars(Term,0,_)}, except that singleton variables in @code{Term} are unified with @code{'$VAR'('_')}, so that when the resulting term is output with a write option @code{numbervars(true)}, in the place of singleton variables @code{_} is written. This predicate is used by 
@glindex portray_clause/2
@code{portray_clause/2}. 
@item @emph{The following properties should hold upon exit:}


@code{?(Term)} is any term.
@iftex
@hfill
@end iftex
 (@code{basic_props:term/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{printable_char/1 (pred)}}}
@temp
@end iftex
@pdindex printable_char/1 
@glindex printable_char/1 
@deffn PREDICATE printable_char/1:



No further documentation available for this predicate.

@end deffn
@sp 1



@node Documentation on multifiles (write),  , Documentation on exports (write), Term output
@comment node-name, next,  previous,  up
@section Documentation on multifiles (@code{write})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{define_flag/3 (pred)}}}
@temp
@end iftex
@pdindex define_flag/3 
@glindex define_flag/3 
@deffn PREDICATE define_flag/3:



Defines flags as follows: 
@smallexample 
define_flag(write_strings,[on,off],off).
@end smallexample  
(See @ref{Changing system behaviour and various flags})


The predicate is @emph{multifile}.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{portray_attribute/2 (pred)}}}
@temp
@end iftex
@pdindex portray_attribute/2 
@glindex portray_attribute/2 
@deffn PREDICATE portray_attribute/2:



No further documentation available for this predicate.


The predicate is @emph{multifile}.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{portray/1 (pred)}}}
@temp
@end iftex
@pdindex portray/1 
@glindex portray/1 
@deffn PREDICATE portray/1:






The predicate is @emph{multifile}.


@strong{Usage:} @code{portray(?(Term))}
@itemize @minus
@item @emph{Description:} @emph{A user defined predicate.} This should either print the @code{Term} and succeed, or do nothing and fail. In the latter case, the default printer (@code{write/1}) will print the @code{Term}. 
@end itemize
@end deffn
@sp 1


@c (component)


@node *** PART IV - Classic Prolog library (classic), Classic Prolog package, Term output, Top
@comment node-name, next,  previous,  up
@unnumbered PART IV - Classic Prolog library (classic)
@iftex
@vfill
@cartouche
@sp
@ 
@end iftex
@c -------------------------------------------------
@c WARNING: Do not edit this file (ClassicProlog.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/doc/common/ClassicProlog.pl
@c -------------------------------------------------


 This part documents some Ciao libraries which provide Prolog predicates and Prolog functionalities that are classical in the Prolog community, like DEC-10 Prolog input/output, definite clause grammars, dynamic loading of modules, etc. 

@iftex
@sp 
@end cartouche
@vfill
@end iftex

@c (component)


@node Classic Prolog package, Definite clause grammars, *** PART IV - Classic Prolog library (classic), Top
@comment node-name, next,  previous,  up
@chapter Classic Prolog package
@liindex classic
@c -------------------------------------------------
@c WARNING: Do not edit this file (classic_doc.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/classic_doc.pl
@c -------------------------------------------------


This library package allows the use of certain Prolog features which have become sort of 'classical' from many Prolog implementations. These include definite clause grammars and some classical predicates like @code{append/3}. The libraries listed below define these predicates, and the following chapters describe them.



@menu
* Usage and interface (classic)::  
@end menu

@node Usage and interface (classic),  , Classic Prolog package, Classic Prolog package
@comment node-name, next,  previous,  up
@section Usage and interface (@code{classic})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_package(classic).}

or

@code{:- module(...,...,[classic]).}

@item @strong{New operators defined:}

@glindex -->/2
@code{-->/2} [1200,xfx].

@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex operators
@code{operators}, 
@glindex old_database
@code{old_database}, 
@glindex lists
@code{lists}, 
@glindex sort
@code{sort}, 
@glindex dict
@code{dict}, 
@glindex strings
@code{strings}, 
@glindex dec10_io
@code{dec10_io}, 
@glindex format
@code{format}, 
@glindex ttyout
@code{ttyout}, 
@glindex dynmods
@code{dynmods}.


@end itemize

@end itemize
@end cartouche

@c (component)


@node Definite clause grammars, Definite clause grammars (expansion), Classic Prolog package, Top
@comment node-name, next,  previous,  up
@chapter Definite clause grammars
@liindex dcg
@c -------------------------------------------------
@c WARNING: Do not edit this file (dcg_doc.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/dcg_doc.pl
@c -------------------------------------------------


This library package allows the use of DCGs (Definite Clause Grammars) [Col78,PW80] in a Ciao module/program. 

Definite clause grammars are an extension of the well-known context-free grammars. Prolog's grammar rules provide a convenient notation for expressing definite clause grammars. A DCG rule in Prolog takes the general form 


@smallexample 
@code{head} --> @code{body}.
@end smallexample  


@noindent
meaning ``a possible form for @code{head} is @code{body}''. Both @code{body} and @code{head} are sequences of one or more items linked by the standard Prolog conjunction operator @code{,}. 

Definite clause grammars extend context-free grammars in the following ways: 


@enumerate  


@item A non-terminal symbol may be any Prolog term (other than a variable or number). 


@item A terminal symbol may be any Prolog term. To distinguish terminals from non-terminals, a sequence of one or more terminal symbols is written within a grammar rule as a Prolog list. An empty sequence is written as the empty list @code{[]}. If the terminal symbols are ASCII character codes, such lists can be written (as elsewhere) as strings. An empty sequence is written as the empty list, @code{[]} or @code{""}. 


@item Extra conditions, in the form of Prolog procedure calls, may be included in the right-hand side of a grammar rule. Such procedure calls are written enclosed in @code{@{@}} brackets. 


@item The left-hand side of a grammar rule consists of a non-terminal, optionally followed by a sequence of terminals (again written as a Prolog list). 


@item Alternatives may be stated explicitly in the right-hand side of a grammar rule, using the disjunction operator @code{;} or @code{|} as in Prolog. 


@item The cut symbol may be included in the right-hand side of a grammar rule, as in a Prolog clause. The cut symbol does not need to be enclosed in @code{@{@}} brackets. 
@end enumerate  

As an example, here is a simple grammar which parses an arithmetic expression (made up of digits and operators) and computes its value. 


@smallexample 
expr(Z) --> term(X), "+", expr(Y), @{Z is X + Y@}.
expr(Z) --> term(X), "-", expr(Y), @{Z is X - Y@}.
expr(X) --> term(X).

term(Z) --> number(X), "*", term(Y), @{Z is X * Y@}.
term(Z) --> number(X), "/", term(Y), @{Z is X / Y@}.
term(Z) --> number(Z).

number(C) --> "+", number(C).
number(C) --> "-", number(X), @{C is -X@}.
number(X) --> [C], @{"0"=<C, C=<"9", X is C - "0"@}.
@end smallexample  

In the last rule, @code{C} is the ASCII code of some digit. 

The query 


@smallexample 
| ?- expr(Z, "-2+3*5+1", []).
@end smallexample  


@noindent
will compute @code{Z}=14. The two extra arguments are explained below. 

Now, in fact, grammar rules are merely a convenient ``syntactic sugar'' for ordinary Prolog clauses. Each grammar rule takes an input string, analyses some initial portion, and produces the remaining portion (possibly enlarged) as output for further analysis. The arguments required for the input and output strings are not written explicitly in a grammar rule, but the syntax implicitly defines them. We now show how to translate grammar rules into ordinary clauses by making explicit the extra arguments. 

A rule such as 


@smallexample 
p(X) --> q(X).
@end smallexample  


@noindent
translates into 


@smallexample 
p(X, S0, S) :- q(X, S0, S).
@end smallexample  

If there is more than one non-terminal on the right-hand side, as in 


@smallexample 
p(X, Y) --> 
        q(X), 
        r(X, Y),
        s(Y).
@end smallexample  


@noindent
then corresponding input and output arguments are identified, as in 


@smallexample 
p(X, Y, S0, S) :- 
        q(X, S0, S1), 
        r(X, Y, S1, S2), 
        r(Y, S2, S).
@end smallexample  

Terminals are translated using the built-in predicate @code{term_basic:'C'/3} (this predicate is not normally useful in itself; it has been given the name @code{'C'} simply to avoid using up a more useful name). Then, for instance 


@smallexample 
p(X) --> [go,to], q(X), [stop].
@end smallexample  


@noindent
is translated by 


@smallexample 
p(X, S0, S) :-
        'C'(S0, go, S1), 
        'C'(S1, to, S2), 
        q(X, S2, S3), 
        'C'(S3, stop, S).
@end smallexample  

Extra conditions expressed as explicit procedure calls naturally translate as themselves, e.g. 


@smallexample 
p(X) --> [X], @{integer(X), X>0@}, q(X).
@end smallexample  


@noindent
translates to 


@smallexample 
p(X, S0, S) :- 
        'C'(S0, X, S1), 
        integer(X), 
        X>0, 
        q(X, S1, S).
@end smallexample  

Similarly, a cut is translated literally. 

Terminals on the left-hand side of a rule translate into an explicit list in the output argument of the main non-terminal, e.g. 


@smallexample 
is(N), [not] --> [aint].
@end smallexample  


@noindent
becomes 


@smallexample 
is(N, S0, [not|S]) :- 'C'(S0, aint, S).
@end smallexample  

Disjunction has a fairly obvious translation, e.g. 


@smallexample 
args(X, Y) --> 
        (   dir(X), [to], indir(Y)
        ;   indir(Y), dir(X)
        ).
@end smallexample  


@noindent
translates to 


@smallexample 
args(X, Y, S0, S) :-
        (   dir(X, S0, S1), 
            'C'(S1, to, S2), 
            indir(Y, S2, S)
        ;   indir(Y, S0, S1), 
            dir(X, S1, S)
        ).
@end smallexample  





@menu
* Usage and interface (dcg)::	
@end menu

@node Usage and interface (dcg),  , Definite clause grammars, Definite clause grammars
@comment node-name, next,  previous,  up
@section Usage and interface (@code{dcg})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_package(dcg).}

or

@code{:- module(...,...,[dcg]).}
@end itemize
@end cartouche

@c (component)


@node Definite clause grammars (expansion), Quintus-like internal database, Definite clause grammars, Top
@comment node-name, next,  previous,  up
@chapter Definite clause grammars (expansion)
@liindex dcg_expansion
@c -------------------------------------------------
@c WARNING: Do not edit this file (dcg_expansion.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/dcg_expansion.pl
@c -------------------------------------------------

@strong{Version:} 0.4#5 (1998/2/24)





@menu
* Usage and interface (dcg_expansion)::	 
* Documentation on exports (dcg_expansion)::  
@end menu

@node Usage and interface (dcg_expansion), Documentation on exports (dcg_expansion), Definite clause grammars (expansion), Definite clause grammars (expansion)
@comment node-name, next,  previous,  up
@section Usage and interface (@code{dcg_expansion})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(dcg_expansion)).}

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex phrase/3
@code{phrase/3}.


@end itemize


@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex terms
@code{terms}, 
@glindex assertions/doc_props
@code{assertions/doc_props}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (dcg_expansion),  , Usage and interface (dcg_expansion), Definite clause grammars (expansion)
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{dcg_expansion})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{phrase/2 (pred)}}}
@temp
@end iftex
@pdindex phrase/2 
@glindex phrase/2 
@deffn PREDICATE phrase/2:


@code{phrase(Phrase,List)}


Like @code{phrase(Phrase,List,[])}.


@emph{Meta-predicate} with arguments: @code{phrase(goal,?)}.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{phrase/3 (pred)}}}
@temp
@end iftex
@pdindex phrase/3 
@glindex phrase/3 
@deffn PREDICATE phrase/3:






@emph{Meta-predicate} with arguments: @code{phrase(goal,?,?)}.


@strong{Usage:} @code{phrase(+Phrase,?(List),?(Remainder))}
@itemize @minus
@item @emph{Description:} The list @code{List} is a phrase of type @code{Phrase} (according to the current grammar rules), where @code{Phrase} is either a non-terminal or more generally a grammar rule body. @code{Remainder} is what remains of the list after a phrase has been found. 
@item @emph{The following properties should hold globally:}


Documentation is still incomplete: @code{phrase(+Phrase,?(List),?(Remainder))} may not conform the functionality documented.
@iftex
@hfill
@end iftex
 (@code{doc_props:doc_incomplete/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{dcg_translation/2 (pred)}}}
@temp
@end iftex
@pdindex dcg_translation/2 
@glindex dcg_translation/2 
@deffn PREDICATE dcg_translation/2:



Performs the code expansion of source clauses that use DCGs.

@end deffn
@sp 1


@c (component)


@node Quintus-like internal database, List processing, Definite clause grammars (expansion), Top
@comment node-name, next,  previous,  up
@chapter Quintus-like internal database
@liindex old_database
@c -------------------------------------------------
@c WARNING: Do not edit this file (old_database.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/old_database.pl
@c -------------------------------------------------

@strong{Version:} 0.4#5 (1998/2/24)

 The predicates described in this section were introduced in early implementations of Prolog to provide efficient means of performing operations on large quantities of data. The introduction of indexed dynamic predicates have rendered these predicates obsolete, and the sole purpose of providing them is to support existing code. There is no reason whatsoever to use them in new code. 

These predicates store arbitrary terms in the database without interfering with the clauses which make up the program. The terms which are stored in this way can subsequently be retrieved via the key on which they were stored. Many terms may be stored on the same key, and they can be individually accessed by pattern matching. Alternatively, access can be achieved via a special identifier which uniquely identifies each recorded term and which is returned when the term is stored. 



@menu
* Usage and interface (old_database)::	
* Documentation on exports (old_database)::  
@end menu

@node Usage and interface (old_database), Documentation on exports (old_database), Quintus-like internal database, Quintus-like internal database
@comment node-name, next,  previous,  up
@section Usage and interface (@code{old_database})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(old_database)).}
@end itemize
@end cartouche


@node Documentation on exports (old_database),  , Usage and interface (old_database), Quintus-like internal database
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{old_database})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{recorda/3 (pred)}}}
@temp
@end iftex
@pdindex recorda/3 
@glindex recorda/3 
@deffn PREDICATE recorda/3:


@code{recorda(+Key,?(Term),-(Ref))}


The term @code{Term} is recorded in the internal database as the first item for the key @code{Key}, where @code{Ref} is its implementation-defined identifier. The key must be given, and only its principal functor is significant. Any uninstantiated variables in the @code{Term} will be replaced by new private variables, along with copies of any subgoals blocked on these variables.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{recordz/3 (pred)}}}
@temp
@end iftex
@pdindex recordz/3 
@glindex recordz/3 
@deffn PREDICATE recordz/3:


@code{recordz(+Key,?(Term),-(Ref))}


Like @code{recorda/3}, except that the new term becomes the @emph{last} item for the key @code{Key}.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{recorded/3 (pred)}}}
@temp
@end iftex
@pdindex recorded/3 
@glindex recorded/3 
@deffn PREDICATE recorded/3:


@code{recorded(?(Key),?(Term),?(Ref))}


The internal database is searched for terms recorded under the key @code{Key}. These terms are successively unified with @code{Term} in the order they occur in the database. At the same time, @code{Ref} is unified with the implementation-defined identifier uniquely identifying the recorded item. If the key is instantiated to a compound term, only its principal functor is significant. If the key is uninstantiated, all terms in the database are successively unified with @code{Term} in the order they occur.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{current_key/2 (pred)}}}
@temp
@end iftex
@pdindex current_key/2 
@glindex current_key/2 
@deffn PREDICATE current_key/2:


@code{current_key(?(KeyName),?(KeyTerm))}


@code{KeyTerm} is the most general form of the key for a currently recorded term, and @code{KeyName} is the name of that key. This predicate can be used to enumerate in undefined order all keys for currently recorded terms through backtracking.

@end deffn
@sp 1


@c (component)


@node List processing, Sorting lists, Quintus-like internal database, Top
@comment node-name, next,  previous,  up
@chapter List processing
@liindex lists
@c -------------------------------------------------
@c WARNING: Do not edit this file (lists.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/lists.pl
@c -------------------------------------------------

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 0.9#63 (1999/4/28, 16:11:31 MEST)

This module provides a set of predicates for list processing.



@menu
* Usage and interface (lists)::	 
* Documentation on exports (lists)::  
@end menu

@node Usage and interface (lists), Documentation on exports (lists), List processing, List processing
@comment node-name, next,  previous,  up
@section Usage and interface (@code{lists})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(lists)).}

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex nonsingle/1
@code{nonsingle/1}, 
@glindex append/3
@code{append/3}, 
@glindex reverse/2
@code{reverse/2}, 
@glindex delete/3
@code{delete/3}, 
@glindex select/3
@code{select/3}, 
@glindex length/2
@code{length/2}, 
@glindex nth/3
@code{nth/3}, 
@glindex add_after/4
@code{add_after/4}, 
@glindex dlist/3
@code{dlist/3}, 
@glindex list_concat/2
@code{list_concat/2}, 
@glindex list_insert/2
@code{list_insert/2}, 
@glindex insert_last/3
@code{insert_last/3}, 
@glindex contains_ro/2
@code{contains_ro/2}, 
@glindex nocontainsx/2
@code{nocontainsx/2}, 
@glindex last/2
@code{last/2}, 
@glindex list_lookup/4
@code{list_lookup/4}, 
@glindex intersection/3
@code{intersection/3}, 
@glindex union/3
@code{union/3}, 
@glindex difference/3
@code{difference/3}, 
@glindex equal_lists/2
@code{equal_lists/2}, 
@glindex list_to_list_of_lists/2
@code{list_to_list_of_lists/2}, 
@glindex powerset/2
@code{powerset/2}.


@item @emph{Properties:}

@glindex list1/2
@code{list1/2}, 
@glindex sublist/2
@code{sublist/2}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (lists),  , Usage and interface (lists), List processing
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{lists})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{nonsingle/1 (pred)}}}
@temp
@end iftex
@pdindex nonsingle/1 
@glindex nonsingle/1 
@deffn PREDICATE nonsingle/1:






@strong{Usage:} @code{nonsingle(X)}
@itemize @minus
@item @emph{Description:} @code{X} is not a singleton. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{append/3 (pred)}}}
@temp
@end iftex
@pdindex append/3 
@glindex append/3 
@deffn PREDICATE append/3:






@strong{Usage:} @code{append(Xs,Ys,Zs)}
@itemize @minus
@item @emph{Description:} @code{Zs} is @code{Ys} appended to @code{Xs}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{reverse/2 (pred)}}}
@temp
@end iftex
@pdindex reverse/2 
@glindex reverse/2 
@deffn PREDICATE reverse/2:






@strong{Usage:} @code{reverse(Xs,Ys)}
@itemize @minus
@item @emph{Description:} Reverses the order of elements in @code{Xs}. 
@item @emph{The following properties should hold at call time:}


@code{Xs} is a list.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/1})

@code{Ys} is a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:var/1})
@item @emph{The following properties should hold upon exit:}


@code{Xs} is a list.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/1})

@code{Ys} is a list.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{reverse/3 (pred)}}}
@temp
@end iftex
@pdindex reverse/3 
@glindex reverse/3 
@deffn PREDICATE reverse/3:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{delete/3 (pred)}}}
@temp
@end iftex
@pdindex delete/3 
@glindex delete/3 
@deffn PREDICATE delete/3:






@strong{Usage:} @code{delete(L1,E,L2)}
@itemize @minus
@item @emph{Description:} @code{L2} is @code{L1} without the ocurrences of @code{E}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{select/3 (pred)}}}
@temp
@end iftex
@pdindex select/3 
@glindex select/3 
@deffn PREDICATE select/3:






@strong{Usage:} @code{select(X,Xs,Ys)}
@itemize @minus
@item @emph{Description:} @code{Xs} and @code{Ys} have the same elements except for one occurrence of @code{X}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{length/2 (pred)}}}
@temp
@end iftex
@pdindex length/2 
@glindex length/2 
@deffn PREDICATE length/2:






@strong{Usage 1:} @code{length(L,N)}
@itemize @minus
@item @emph{Description:} Computes the length of @code{L}. 
@item @emph{The following properties should hold at call time:}


@code{L} is a list.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/1})

@code{N} is a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:var/1})
@item @emph{The following properties should hold upon exit:}


@code{L} is a list.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/1})

@code{N} is currently instantiated to an integer.
@iftex
@hfill
@end iftex
 (@code{term_typing:integer/1})
@end itemize

@strong{Usage 2:} @code{length(L,N)}
@itemize @minus
@item @emph{Description:} Outputs @code{L} of length @code{N}. 
@item @emph{The following properties should hold at call time:}


@code{L} is a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:var/1})

@code{N} is currently instantiated to an integer.
@iftex
@hfill
@end iftex
 (@code{term_typing:integer/1})
@item @emph{The following properties should hold upon exit:}


@code{L} is a list.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/1})

@code{N} is currently instantiated to an integer.
@iftex
@hfill
@end iftex
 (@code{term_typing:integer/1})
@end itemize

@strong{Usage 3:} @code{length(L,N)}
@itemize @minus
@item @emph{Description:} Checks that @code{L} is of length @code{N}. 
@item @emph{The following properties should hold at call time:}


@code{L} is a list.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/1})

@code{N} is currently instantiated to an integer.
@iftex
@hfill
@end iftex
 (@code{term_typing:integer/1})
@item @emph{The following properties should hold upon exit:}


@code{L} is a list.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/1})

@code{N} is currently instantiated to an integer.
@iftex
@hfill
@end iftex
 (@code{term_typing:integer/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{nth/3 (pred)}}}
@temp
@end iftex
@pdindex nth/3 
@glindex nth/3 
@deffn PREDICATE nth/3:


@code{nth(N,List,Elem)}


@code{N} is the position in @code{List} of @code{Elem}. @code{N} counts from one.


@strong{Usage 1:} @code{nth(+int,?(list),?(term))}
@itemize @minus
@item @emph{Description:} Unifies @code{Elem} and the @code{N}th element of @code{List}. 
@end itemize

@strong{Usage 2:} @code{nth(-(int),?(list),?(term))}
@itemize @minus
@item @emph{Description:} Finds the positions where @code{Elem} is in @code{List}. Positions are found in ascending order. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{add_after/4 (pred)}}}
@temp
@end iftex
@pdindex add_after/4 
@glindex add_after/4 
@deffn PREDICATE add_after/4:






@strong{Usage:} @code{add_after(+L0,+E0,+E,-(L))}
@itemize @minus
@item @emph{Description:} Adds element @code{E} after element @code{E0} (or at end) to list @code{L0} returning in @code{L} the new list (uses term comparison). 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{add_before/4 (pred)}}}
@temp
@end iftex
@pdindex add_before/4 
@glindex add_before/4 
@deffn PREDICATE add_before/4:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{list1/2 (prop)}}}
@temp
@end iftex
@prindex list1/2 
@glindex list1/2 
@deffn PROPERTY list1/2:






@emph{Meta-predicate} with arguments: @code{list1(?,pred(1))}.


@strong{Usage:} @code{list1(X,Y)}
@itemize @minus
@item @emph{Description:} @code{X} is a list of @code{Y}s of at least one element. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{dlist/3 (pred)}}}
@temp
@end iftex
@pdindex dlist/3 
@glindex dlist/3 
@deffn PREDICATE dlist/3:






@strong{Usage:} @code{dlist(List,DList,Tail)}
@itemize @minus
@item @emph{Description:} @code{List} is the result of removing @code{Tail} from the end of @code{DList} (makes a difference list from a list). 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{list_concat/2 (pred)}}}
@temp
@end iftex
@pdindex list_concat/2 
@glindex list_concat/2 
@deffn PREDICATE list_concat/2:






@strong{Usage:} @code{list_concat(LL,L)}
@itemize @minus
@item @emph{Description:} @code{L} is the concatenation of all the lists in @code{LL}. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{LL} is a list of @code{list}s.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/2})

@code{L} is a list.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{list_insert/2 (pred)}}}
@temp
@end iftex
@pdindex list_insert/2 
@glindex list_insert/2 
@deffn PREDICATE list_insert/2:






@strong{Usage:} @code{list_insert(-(List),+Term)}
@itemize @minus
@item @emph{Description:} Adds @code{Term} to the end of @code{List} if there is no element in @code{List} identical to @code{Term}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{insert_last/3 (pred)}}}
@temp
@end iftex
@pdindex insert_last/3 
@glindex insert_last/3 
@deffn PREDICATE insert_last/3:






@strong{Usage:} @code{insert_last(+L0,+E,-(L))}
@itemize @minus
@item @emph{Description:} Adds element @code{E} at end of list @code{L0} returning @code{L}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{contains_ro/2 (pred)}}}
@temp
@end iftex
@pdindex contains_ro/2 
@glindex contains_ro/2 
@deffn PREDICATE contains_ro/2:






@strong{Usage:} 
@itemize @minus
@item @emph{Description:} Impure membership (does not instantiate a variable in its first argument. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{contains1/2 (pred)}}}
@temp
@end iftex
@pdindex contains1/2 
@glindex contains1/2 
@deffn PREDICATE contains1/2:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{nocontainsx/2 (pred)}}}
@temp
@end iftex
@pdindex nocontainsx/2 
@glindex nocontainsx/2 
@deffn PREDICATE nocontainsx/2:






@strong{Usage:} @code{nocontainsx(L,X)}
@itemize @minus
@item @emph{Description:} @code{X} is not identical to any element of @code{L}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{last/2 (pred)}}}
@temp
@end iftex
@pdindex last/2 
@glindex last/2 
@deffn PREDICATE last/2:






@strong{Usage:} @code{last(L,X)}
@itemize @minus
@item @emph{Description:} Adds element @code{X} to incomplete (i.e., ended in a variable) list @code{L}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{list_lookup/3 (pred)}}}
@temp
@end iftex
@pdindex list_lookup/3 
@glindex list_lookup/3 
@deffn PREDICATE list_lookup/3:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{list_lookup/4 (pred)}}}
@temp
@end iftex
@pdindex list_lookup/4 
@glindex list_lookup/4 
@deffn PREDICATE list_lookup/4:






@strong{Usage:} @code{list_lookup(List,Functor,Key,Value)}
@itemize @minus
@item @emph{Description:} Look up @code{Functor}(@code{Key},@code{Value}) pair in variable ended key-value pair list @code{L} or else add it at the end. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{intset_insert/3 (pred)}}}
@temp
@end iftex
@pdindex intset_insert/3 
@glindex intset_insert/3 
@deffn PREDICATE intset_insert/3:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{intset_delete/3 (pred)}}}
@temp
@end iftex
@pdindex intset_delete/3 
@glindex intset_delete/3 
@deffn PREDICATE intset_delete/3:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{intset_in/2 (pred)}}}
@temp
@end iftex
@pdindex intset_in/2 
@glindex intset_in/2 
@deffn PREDICATE intset_in/2:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{intset_sequence/3 (pred)}}}
@temp
@end iftex
@pdindex intset_sequence/3 
@glindex intset_sequence/3 
@deffn PREDICATE intset_sequence/3:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{intersection/3 (pred)}}}
@temp
@end iftex
@pdindex intersection/3 
@glindex intersection/3 
@deffn PREDICATE intersection/3:






@strong{Usage:} @code{intersection(+List1,+List2,-(List))}
@itemize @minus
@item @emph{Description:} @code{List} has the elements which are both in @code{List1} and @code{List2}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{union/3 (pred)}}}
@temp
@end iftex
@pdindex union/3 
@glindex union/3 
@deffn PREDICATE union/3:






@strong{Usage:} @code{union(+List1,+List2,-(List))}
@itemize @minus
@item @emph{Description:} @code{List} has the elements which are in @code{List1} followed by the elements which are in @code{List2} but not in @code{List1}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{difference/3 (pred)}}}
@temp
@end iftex
@pdindex difference/3 
@glindex difference/3 
@deffn PREDICATE difference/3:






@strong{Usage:} @code{difference(+List1,+List2,-(List))}
@itemize @minus
@item @emph{Description:} @code{List} has the elements which are in @code{List1} but not in @code{List2}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{sublist/2 (prop)}}}
@temp
@end iftex
@prindex sublist/2 
@glindex sublist/2 
@deffn PROPERTY sublist/2:






@strong{Usage:} @code{sublist(List1,List2)}
@itemize @minus
@item @emph{Description:} @code{List2} contains all the elements of @code{List1}. 
@item @emph{If the following properties should hold at call time:}


@code{List2} is currently a term which is not a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:nonvar/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{equal_lists/2 (pred)}}}
@temp
@end iftex
@pdindex equal_lists/2 
@glindex equal_lists/2 
@deffn PREDICATE equal_lists/2:






@strong{Usage:} @code{equal_lists(+List1,+List2)}
@itemize @minus
@item @emph{Description:} @code{List1} has all the elements of @code{List2}, and vice versa. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{list_to_list_of_lists/2 (pred)}}}
@temp
@end iftex
@pdindex list_to_list_of_lists/2 
@glindex list_to_list_of_lists/2 
@deffn PREDICATE list_to_list_of_lists/2:






@strong{Usage:} @code{list_to_list_of_lists(+List,-(LList))}
@itemize @minus
@item @emph{Description:} @code{LList} is the list of one element lists with elements of @code{List}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{powerset/2 (pred)}}}
@temp
@end iftex
@pdindex powerset/2 
@glindex powerset/2 
@deffn PREDICATE powerset/2:






@strong{Usage:} @code{powerset(+List,-(LList))}
@itemize @minus
@item @emph{Description:} @code{LList} is the powerset of @code{List}, i.e., the list of all lists which have elements of @code{List}. If @code{List} is ordered, @code{LList} and all its elements are ordered. 
@end itemize
@end deffn
@sp 1


@c (component)


@node Sorting lists, Dictionaries, List processing, Top
@comment node-name, next,  previous,  up
@chapter Sorting lists
@liindex sort
@c -------------------------------------------------
@c WARNING: Do not edit this file (sort.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/sort.pl
@c -------------------------------------------------

@strong{Author(s):} Richard A. O'Keefe. All changes by UPM CLIP Group..

@strong{Version:} 0.4#5 (1998/2/24)





@menu
* Usage and interface (sort)::	
* Documentation on exports (sort)::  
* Documentation on internals (sort)::  
@end menu

@node Usage and interface (sort), Documentation on exports (sort), Sorting lists, Sorting lists
@comment node-name, next,  previous,  up
@section Usage and interface (@code{sort})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(sort)).}

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex sort/2
@code{sort/2}, 
@glindex keysort/2
@code{keysort/2}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (sort), Documentation on internals (sort), Usage and interface (sort), Sorting lists
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{sort})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{sort/2 (pred)}}}
@temp
@end iftex
@pdindex sort/2 
@glindex sort/2 
@deffn PREDICATE sort/2:


@code{sort(List1,List2)}


The elements of @code{List1} are sorted into the standard order (see @ref{Comparing terms}) and any identical elements are merged, yielding @code{List2}. The time and space complexity of this operation is at worst @code{O(N lg N)} where @code{N} is the length of @code{List1}.


@strong{Usage:} @code{sort(+list,?(list))}
@itemize @minus
@item @emph{Description:} @code{List2} is the sorted list corresponding to @code{List1}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{keysort/2 (pred)}}}
@temp
@end iftex
@pdindex keysort/2 
@glindex keysort/2 
@deffn PREDICATE keysort/2:


@code{keysort(List1,List2)}


@code{List1} is sorted into order according to the value of the @emph{keys} of its elements, yielding the list @code{List2}. No merging takes place. This predicate is @emph{stable}, i.e., if an element @code{A} occurs before another element @code{B} @emph{with the same key} in the input, then @code{A} will occur before @code{B} also in the output. The time and space complexity of this operation is at worst @code{O(N lg N)} where @code{N} is the length of @code{List1}.


@strong{Usage:} @code{keysort(+keylist,?(keylist))}
@itemize @minus
@item @emph{Description:} @code{List2} is the (key-)sorted list corresponding to @code{List1}. 
@end itemize
@end deffn
@sp 1



@node Documentation on internals (sort),  , Documentation on exports (sort), Sorting lists
@comment node-name, next,  previous,  up
@section Documentation on internals (@code{sort})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{keypair/1 (regtype)}}}
@temp
@end iftex
@teindex keypair/1 
@glindex keypair/1 
@deffn REGTYPE keypair/1:






@strong{Usage:} @code{keypair(P)}
@itemize @minus
@item @emph{Description:} @code{P} is a pair of the form @code{K-_}, where @code{K} is considered the @emph{key}. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1


@c (component)


@node Dictionaries, String processing, Sorting lists, Top
@comment node-name, next,  previous,  up
@chapter Dictionaries
@liindex dict
@c -------------------------------------------------
@c WARNING: Do not edit this file (dict.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/dict.pl
@c -------------------------------------------------

@strong{Version:} 0.4#5 (1998/2/24)

This module provides predicates for implementing dictionaries. Such dictionaries are currently implemented as ordered binary trees.



@menu
* Usage and interface (dict)::	
* Documentation on exports (dict)::  
@end menu

@node Usage and interface (dict), Documentation on exports (dict), Dictionaries, Dictionaries
@comment node-name, next,  previous,  up
@section Usage and interface (@code{dict})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(dict)).}
@end itemize
@end cartouche


@node Documentation on exports (dict),  , Usage and interface (dict), Dictionaries
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{dict})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{dic_node/2 (pred)}}}
@temp
@end iftex
@pdindex dic_node/2 
@glindex dic_node/2 
@deffn PREDICATE dic_node/2:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{dic_lookup/3 (pred)}}}
@temp
@end iftex
@pdindex dic_lookup/3 
@glindex dic_lookup/3 
@deffn PREDICATE dic_lookup/3:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{dic_lookup/4 (pred)}}}
@temp
@end iftex
@pdindex dic_lookup/4 
@glindex dic_lookup/4 
@deffn PREDICATE dic_lookup/4:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{dic_get/3 (pred)}}}
@temp
@end iftex
@pdindex dic_get/3 
@glindex dic_get/3 
@deffn PREDICATE dic_get/3:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{dic_replace/4 (pred)}}}
@temp
@end iftex
@pdindex dic_replace/4 
@glindex dic_replace/4 
@deffn PREDICATE dic_replace/4:



No further documentation available for this predicate.

@end deffn
@sp 1


@c (component)


@node String processing, DEC-10 Prolog file IO, Dictionaries, Top
@comment node-name, next,  previous,  up
@chapter String processing
@liindex strings
@c -------------------------------------------------
@c WARNING: Do not edit this file (strings.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/strings.pl
@c -------------------------------------------------

@strong{Author(s):} Daniel Cabeza.

@strong{Version:} 0.4#5 (1998/2/24)

This module provides predicates for doing input/output with strings (character code lists) and for including in grammars defining strings.



@menu
* Usage and interface (strings)::  
* Documentation on exports (strings)::	
@end menu

@node Usage and interface (strings), Documentation on exports (strings), String processing, String processing
@comment node-name, next,  previous,  up
@section Usage and interface (@code{strings})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(strings)).}

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex get_line/2
@code{get_line/2}, 
@glindex get_line/1
@code{get_line/1}, 
@glindex write_string/2
@code{write_string/2}, 
@glindex write_string/1
@code{write_string/1}, 
@glindex whitespace/2
@code{whitespace/2}, 
@glindex whitespace0/2
@code{whitespace0/2}, 
@glindex string/3
@code{string/3}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (strings),  , Usage and interface (strings), String processing
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{strings})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{get_line/2 (pred)}}}
@temp
@end iftex
@pdindex get_line/2 
@glindex get_line/2 
@deffn PREDICATE get_line/2:


@code{get_line(Stream,Line)}


Reads from @code{Stream} a line of text and unifies @code{Line} with it. The end of the line can have UNIX [10] or MS-DOS [13 10] termination, which is not included in @code{Line}.


@strong{Usage:} @code{get_line(+stream,?(string))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{get_line/1 (pred)}}}
@temp
@end iftex
@pdindex get_line/1 
@glindex get_line/1 
@deffn PREDICATE get_line/1:


@code{get_line(Line)}


Behaves like @code{current_input(S), get_line(S,Line)}.


@strong{Usage:} @code{get_line(?(string))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{write_string/2 (pred)}}}
@temp
@end iftex
@pdindex write_string/2 
@glindex write_string/2 
@deffn PREDICATE write_string/2:


@code{write_string(Stream,String)}


Writes @code{String} onto @code{Stream}.


@strong{Usage:} @code{write_string(+stream,+string)}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{write_string/1 (pred)}}}
@temp
@end iftex
@pdindex write_string/1 
@glindex write_string/1 
@deffn PREDICATE write_string/1:


@code{write_string(String)}


Behaves like @code{current_input(S), write_string(S, String)}.


@strong{Usage:} @code{write_string(+string)}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{whitespace/2 (pred)}}}
@temp
@end iftex
@pdindex whitespace/2 
@glindex whitespace/2 
@deffn PREDICATE whitespace/2:


@code{whitespace(String,Rest)}


In a grammar rule, as @code{whitespace/0}, represents whitespace (a positive number of space (32), tab (9), newline (10) or return (13) characters). Thus, @code{Rest} is a proper suffix of @code{String} with one or more whitespace characters removed. An example of use would be: 
@smallexample 
   attrs([]) --> ""
   attrs([N|Ns]) -->
       whitespace,
       attr(N),
       attrs(Ns).
@end smallexample  



@strong{Usage:} @code{whitespace(+string,?(string))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{whitespace0/2 (pred)}}}
@temp
@end iftex
@pdindex whitespace0/2 
@glindex whitespace0/2 
@deffn PREDICATE whitespace0/2:


@code{whitespace0(String,Rest)}


In a grammar rule, as @code{whitespace0/0}, represents possible whitespace (any number of space (32), tab (9), newline (10) or return (13) characters). Thus, @code{Rest} is @code{String} or a proper suffix of @code{String} with one or more whitespace characters removed. An example of use would be: 


@smallexample 
   assignment(N,V) -->
       variable_name(N), whitespace0, "=", whitespace0, value(V).
@end smallexample  



@strong{Usage:} @code{whitespace0(+string,?(string))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{string/3 (pred)}}}
@temp
@end iftex
@pdindex string/3 
@glindex string/3 
@deffn PREDICATE string/3:


@code{string(String,Head,Tail)}


In a 
@glindex grammar rule
grammar rule, as @code{string/1}, represents literally @code{String}. An example of use would be: 


@smallexample 
double(A) -->
        string(A),
        string(A).
@end smallexample  



@strong{Usage:} @code{string(?(string),?(string),?(string))}
@itemize @minus
@end itemize
@end deffn
@sp 1


@c (component)


@node DEC-10 Prolog file IO, Formatted output, String processing, Top
@comment node-name, next,  previous,  up
@chapter DEC-10 Prolog file IO
@liindex dec10_io
@c -------------------------------------------------
@c WARNING: Do not edit this file (dec10_io.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/dec10_io.pl
@c -------------------------------------------------

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 0.4#5 (1998/2/24)

This module implements the support for DEC-10 Prolog style file I/O.



@menu
* Usage and interface (dec10_io)::  
* Documentation on exports (dec10_io)::	 
@end menu

@node Usage and interface (dec10_io), Documentation on exports (dec10_io), DEC-10 Prolog file IO, DEC-10 Prolog file IO
@comment node-name, next,  previous,  up
@section Usage and interface (@code{dec10_io})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(dec10_io)).}

@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex streams
@code{streams}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (dec10_io),  , Usage and interface (dec10_io), DEC-10 Prolog file IO
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{dec10_io})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{see/1 (pred)}}}
@temp
@end iftex
@pdindex see/1 
@glindex see/1 
@deffn PREDICATE see/1:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{seeing/1 (pred)}}}
@temp
@end iftex
@pdindex seeing/1 
@glindex seeing/1 
@deffn PREDICATE seeing/1:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{seen/0 (pred)}}}
@temp
@end iftex
@pdindex seen/0 
@glindex seen/0 
@deffn PREDICATE seen/0:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{tell/1 (pred)}}}
@temp
@end iftex
@pdindex tell/1 
@glindex tell/1 
@deffn PREDICATE tell/1:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{telling/1 (pred)}}}
@temp
@end iftex
@pdindex telling/1 
@glindex telling/1 
@deffn PREDICATE telling/1:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{told/0 (pred)}}}
@temp
@end iftex
@pdindex told/0 
@glindex told/0 
@deffn PREDICATE told/0:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{close_file/1 (pred)}}}
@temp
@end iftex
@pdindex close_file/1 
@glindex close_file/1 
@deffn PREDICATE close_file/1:



No further documentation available for this predicate.

@end deffn
@sp 1


@c (component)


@node Formatted output, ttyout (library), DEC-10 Prolog file IO, Top
@comment node-name, next,  previous,  up
@chapter Formatted output
@liindex format
@c -------------------------------------------------
@c WARNING: Do not edit this file (format.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/format.pl
@c -------------------------------------------------

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 1.3#27 (1999/7/9, 20:25:50 MEST)

The @code{format} family of predicates is due to Quintus Prolog. They act as a Prolog interface to the C @code{stdio} function @code{printf()}, allowing formatted output. 

Output is formatted according to an output pattern which can have either a format control sequence or any other character, which will appear verbatim in the output. Control sequences act as place-holders for the actual terms that will be output. Thus 
@smallexample 
        | ?- format("Hello ~q!",world).
        @end smallexample  
@noindent
will print @code{Hello world!}. 

If there is only one item to print it may be supplied alone. If there are more they have to be given as a list. If there are none then an empty list should be supplied. There has to be as many items as control characters. 

The character @code{~} introduces a control sequence. To print a @code{~} verbatim just repeat it: 
@smallexample 
        | ?- format("Hello ~~world!", []).
        @end smallexample  
@noindent
will result in @code{Hello ~world!}. 

A format may be spread over several lines. The control sequence @code{} followed by a @key{LFD} will translate to the empty string: 
@smallexample 
        | ?- format("Hello world!", []).
        @end smallexample  
@noindent
will result in @code{Hello world!}.



@menu
* Usage and interface (format)::  
* Documentation on exports (format)::  
@end menu

@node Usage and interface (format), Documentation on exports (format), Formatted output, Formatted output
@comment node-name, next,  previous,  up
@section Usage and interface (@code{format})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(format)).}

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex format/2
@code{format/2}, 
@glindex format/3
@code{format/3}.


@item @emph{Regular Types:}

@glindex format_control/1
@code{format_control/1}.


@end itemize


@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex write
@code{write}, 
@glindex assertions/doc_props
@code{assertions/doc_props}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (format),  , Usage and interface (format), Formatted output
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{format})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{format/2 (pred)}}}
@temp
@end iftex
@pdindex format/2 
@glindex format/2 
@deffn PREDICATE format/2:






@strong{Usage:} @code{format(Format,Arguments)}
@itemize @minus
@item @emph{Description:} Print @code{Arguments} onto current output stream according to format @code{Format}. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{Format} is an atom or string describing how the arguments should be formatted. If it is an atom it will be converted into a string with @code{name/2}.
@iftex
@hfill
@end iftex
 (@code{format:format_control/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{format/3 (pred)}}}
@temp
@end iftex
@pdindex format/3 
@glindex format/3 
@deffn PREDICATE format/3:






@strong{Usage:} @code{format(+Stream,Format,Arguments)}
@itemize @minus
@item @emph{Description:} Print @code{Arguments} onto @code{Stream} according to format @code{Format}. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{Format} is an atom or string describing how the arguments should be formatted. If it is an atom it will be converted into a string with @code{name/2}.
@iftex
@hfill
@end iftex
 (@code{format:format_control/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{format_control/1 (regtype)}}}
@temp
@end iftex
@teindex format_control/1 
@glindex format_control/1 
@deffn REGTYPE format_control/1:



 The general format of a control sequence is @code{~@code{N}@code{C}}. The character @code{C} determines the type of the control sequence. @code{N} is an optional numeric argument. An alternative form of @code{N} is @code{*}. @code{*} implies that the next argument in @code{Arguments} should be used as a numeric argument in the control sequence. Example: 


@smallexample 
| ?- format("Hello~4cworld!", [0'x]).
@end smallexample  


@noindent
and 


@smallexample 
| ?- format("Hello~*cworld!", [4,0'x]).
@end smallexample  


@noindent
both produce 


@smallexample 
Helloxxxxworld!
@end smallexample  

The following control sequences are available. 


@itemize @bullet{} 


@item ~a The argument is an atom. The atom is printed without quoting. 


@item ~@code{N}c (Print character.) The argument is a number that will be interpreted as an ASCII code. @code{N} defaults to one and is interpreted as the number of times to print the character. 


@item ~@code{N}e 
@item ~@code{N}E 
@item ~@code{N}f 
@item ~@code{N}g 
@item ~@code{N}G (Print float). The argument is a float. The float and @code{N} will be passed to the C @code{printf()} function as 


@smallexample 
printf("%.@code{N}e", @code{Arg})
printf("%.@code{N}E", @code{Arg})
printf("%.@code{N}f", @code{Arg})
printf("%.@code{N}g", @code{Arg})
printf("%.@code{N}G", @code{Arg})
@end smallexample  

If @code{N} is not supplied the action defaults to 


@smallexample 
printf("%e", @code{Arg})
printf("%E", @code{Arg})
printf("%f", @code{Arg})
printf("%g", @code{Arg})
printf("%G", @code{Arg})
@end smallexample  


@item ~@code{N}d (Print decimal.) The argument is an integer. @code{N} is interpreted as the number of digits after the decimal point. If @code{N} is 0 or missing, no decimal point will be printed. Example: 


@smallexample 
| ?- format("Hello ~1d world!", [42]).
| ?- format("Hello ~d world!", [42]).
@end smallexample  


@noindent
will print as 


@smallexample 
Hello 4.2 world!
Hello 42 world!
@end smallexample  


@noindent
respectively. 


@item ~@code{N}D (Print decimal.) The argument is an integer. Identical to @code{~@code{N}d} except that @code{,} will separate groups of three digits to the left of the decimal point. Example: 


@smallexample 
| ?- format("Hello ~1D world!", [12345]).
@end smallexample  


@noindent
will print as 


@smallexample 
Hello 1,234.5 world!
@end smallexample  


@item ~@code{N}r (Print radix.) The argument is an integer. @code{N} is interpreted as a radix. @code{N} should be >= 2 and <= 36. If @code{N} is missing the radix defaults to 8. The letters @code{a-z} will denote digits larger than 9. Example: 


@smallexample 
| ?- format("Hello ~2r world!", [15]).
| ?- format("Hello ~16r world!", [15]).
@end smallexample  


@noindent
will print as 


@smallexample 
Hello 1111 world!
Hello f world!
@end smallexample  


@noindent
respectively. 


@item ~@code{N}R (Print radix.) The argument is an integer. Identical to @code{~@code{N}r} except that the letters @code{A-Z} will denote digits larger than 9. Example: 


@smallexample 
| ?- format("Hello ~16R world!", [15]).
@end smallexample  


@noindent
will print as 


@smallexample 
Hello F world!
@end smallexample  


@item ~@code{N}s (Print string.) The argument is a list of ASCII codes. Exactly @code{N} characters will be printed. @code{N} defaults to the length of the string. Example: 


@smallexample 
| ?- format("Hello ~4s ~4s!", ["new","world"]).
| ?- format("Hello ~s world!", ["new"]).
@end smallexample  


@noindent
will print as 


@smallexample 
Hello new  worl!
Hello new world!
@end smallexample  


@noindent
respectively. 


@item ~i (Ignore argument.) The argument may be of any type. The argument will be ignored. Example: 


@smallexample 
| ?- format("Hello ~i~s world!", ["old","new"]).
@end smallexample  


@noindent
will print as 


@smallexample 
Hello new world!
@end smallexample  


@item ~k (Print canonical.) The argument may be of any type. The argument will be passed to @code{write_canonical/2} (@ref{Term output}). Example: 


@smallexample 
| ?- format("Hello ~k world!", [[a,b,c]]).
@end smallexample  


@noindent
will print as 


@smallexample 
Hello .(a,.(b,.(c,[]))) world!
@end smallexample  


@item ~p (print.) The argument may be of any type. The argument will be passed to @code{print/2} (@ref{Term output}). Example: 


@smallexample 
| ?- assert((portray([X|Y]) :- print(cons(X,Y)))).
| ?- format("Hello ~p world!", [[a,b,c]]).
@end smallexample  


@noindent
will print as 


@smallexample 
Hello cons(a,cons(b,cons(c,[]))) world!
@end smallexample  


@item ~q (Print quoted.) The argument may be of any type. The argument will be passed to @code{writeq/2} (@ref{Term output}). Example: 


@smallexample 
| ?- format("Hello ~q world!", [['A','B']]).
@end smallexample  


@noindent
will print as 


@smallexample 
Hello ['A','B'] world!
@end smallexample  


@item ~w (write.) The argument may be of any type. The argument will be passed to @code{write/2} (@ref{Term output}). Example: 


@smallexample 
| ?- format("Hello ~w world!", [['A','B']]).
@end smallexample  


@noindent
will print as 


@smallexample 
Hello [A,B] world!
@end smallexample  


@item ~@code{N}n (Print newline.) Print @code{N} newlines. @code{N} defaults to 1. Example: 


@smallexample 
| ?- format("Hello ~n world!", []).
@end smallexample  


@noindent
will print as 


@smallexample 
Hello
 world!
@end smallexample  


@item ~N (Fresh line.) Print a newline, if not already at the beginning of a line. 
@end itemize  
 
The following control sequences are also available for compatibility, but do not perform any useful functions. 


@itemize @bullet{} 
@item ~@code{N}| (Set tab.) Set a tab stop at position @code{N}, where @code{N} defaults to the current position, and advance the current position there. 


@item ~@code{N}+ (Advance tab.) Set a tab stop at @code{N} positions past the current position, where @code{N} defaults to 8, and advance the current position there. 


@item ~@code{N}t (Set fill character.) Set the fill character to be used in the next position movement to @code{N}, where @code{N} defaults to @key{SPC}. 
@end itemize  




@strong{Usage:} @code{format_control(C)}
@itemize @minus
@item @emph{Description:} @code{C} is an atom or string describing how the arguments should be formatted. If it is an atom it will be converted into a string with @code{name/2}. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})

Documentation is still incomplete: @code{format_control(C)} may not conform the functionality documented.
@iftex
@hfill
@end iftex
 (@code{doc_props:doc_incomplete/1})
@end itemize
@end deffn
@sp 1


@c (component)


@node ttyout (library), dynmods (library), Formatted output, Top
@comment node-name, next,  previous,  up
@chapter ttyout (library)
@liindex ttyout
@c -------------------------------------------------
@c WARNING: Do not edit this file (ttyout.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/ttyout.pl
@c -------------------------------------------------

@strong{Version:} 0.4#5 (1998/2/24)





@menu
* Usage and interface (ttyout)::  
* Documentation on exports (ttyout)::  
@end menu

@node Usage and interface (ttyout), Documentation on exports (ttyout), ttyout (library), ttyout (library)
@comment node-name, next,  previous,  up
@section Usage and interface (@code{ttyout})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(ttyout)).}
@end itemize
@end cartouche


@node Documentation on exports (ttyout),  , Usage and interface (ttyout), ttyout (library)
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{ttyout})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{ttyget/1 (pred)}}}
@temp
@end iftex
@pdindex ttyget/1 
@glindex ttyget/1 
@deffn PREDICATE ttyget/1:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{ttyget1/1 (pred)}}}
@temp
@end iftex
@pdindex ttyget1/1 
@glindex ttyget1/1 
@deffn PREDICATE ttyget1/1:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{ttynl/0 (pred)}}}
@temp
@end iftex
@pdindex ttynl/0 
@glindex ttynl/0 
@deffn PREDICATE ttynl/0:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{ttyput/1 (pred)}}}
@temp
@end iftex
@pdindex ttyput/1 
@glindex ttyput/1 
@deffn PREDICATE ttyput/1:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{ttyskip/1 (pred)}}}
@temp
@end iftex
@pdindex ttyskip/1 
@glindex ttyskip/1 
@deffn PREDICATE ttyskip/1:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{ttytab/1 (pred)}}}
@temp
@end iftex
@pdindex ttytab/1 
@glindex ttytab/1 
@deffn PREDICATE ttytab/1:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{ttyflush/0 (pred)}}}
@temp
@end iftex
@pdindex ttyflush/0 
@glindex ttyflush/0 
@deffn PREDICATE ttyflush/0:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{ttydisplay/1 (pred)}}}
@temp
@end iftex
@pdindex ttydisplay/1 
@glindex ttydisplay/1 
@deffn PREDICATE ttydisplay/1:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{ttydisplayq/1 (pred)}}}
@temp
@end iftex
@pdindex ttydisplayq/1 
@glindex ttydisplayq/1 
@deffn PREDICATE ttydisplayq/1:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{ttyskipeol/0 (pred)}}}
@temp
@end iftex
@pdindex ttyskipeol/0 
@glindex ttyskipeol/0 
@deffn PREDICATE ttyskipeol/0:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{ttydisplay_string/1 (pred)}}}
@temp
@end iftex
@pdindex ttydisplay_string/1 
@glindex ttydisplay_string/1 
@deffn PREDICATE ttydisplay_string/1:



No further documentation available for this predicate.

@end deffn
@sp 1


@c (component)


@node dynmods (library), runtime_ops (library), ttyout (library), Top
@comment node-name, next,  previous,  up
@chapter dynmods (library)
@liindex dynmods
@c -------------------------------------------------
@c WARNING: Do not edit this file (dynmods.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/dynmods.pl
@c -------------------------------------------------






@menu
* Usage and interface (dynmods)::  
* Documentation on exports (dynmods)::	
@end menu

@node Usage and interface (dynmods), Documentation on exports (dynmods), dynmods (library), dynmods (library)
@comment node-name, next,  previous,  up
@section Usage and interface (@code{dynmods})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(dynmods)).}

@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex aggregates
@code{aggregates}, 
@glindex dynamic
@code{dynamic}, 
@glindex iso_misc
@code{iso_misc}, 
@glindex iso_byte_char
@code{iso_byte_char}, 
@glindex iso_incomplete
@code{iso_incomplete}, 
@glindex operators
@code{operators}, 
@glindex read
@code{read}, 
@glindex streams
@code{streams}, 
@glindex write
@code{write}, 
@glindex compiler/compiler
@code{compiler/compiler}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (dynmods),  , Usage and interface (dynmods), dynmods (library)
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{dynmods})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{use_module/1 (pred)}}}
@temp
@end iftex
@pdindex use_module/1 
@glindex use_module/1 
@deffn PREDICATE use_module/1:



No further documentation available for this predicate.


@emph{Meta-predicate} of type @emph{implicit} with arguments: @code{use_module(addmodule)}.

@end deffn
@sp 1


@c (component)


@node runtime_ops (library), *** PART V - Annotated Prolog library (assertions), dynmods (library), Top
@comment node-name, next,  previous,  up
@chapter runtime_ops (library)
@liindex runtime_ops
@c -------------------------------------------------
@c WARNING: Do not edit this file (runtime_ops.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/runtime_ops.pl
@c -------------------------------------------------






@menu
* Usage and interface (runtime_ops)::  
@end menu

@node Usage and interface (runtime_ops),  , runtime_ops (library), runtime_ops (library)
@comment node-name, next,  previous,  up
@section Usage and interface (@code{runtime_ops})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_package(runtime_ops).}

or

@code{:- module(...,...,[runtime_ops]).}

@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex operators
@code{operators}, 
@glindex aggregates
@code{aggregates}, 
@glindex dynamic
@code{dynamic}, 
@glindex iso_misc
@code{iso_misc}, 
@glindex iso_byte_char
@code{iso_byte_char}, 
@glindex iso_incomplete
@code{iso_incomplete}, 
@glindex read
@code{read}, 
@glindex streams
@code{streams}, 
@glindex write
@code{write}.


@end itemize

@end itemize
@end cartouche

@c (component)


@node *** PART V - Annotated Prolog library (assertions), The Ciao assertion package, runtime_ops (library), Top
@comment node-name, next,  previous,  up
@unnumbered PART V - Annotated Prolog library (assertions)
@iftex
@vfill
@cartouche
@sp
@ 
@end iftex
@c -------------------------------------------------
@c WARNING: Do not edit this file (AnnotatedProlog.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/doc/common/AnnotatedProlog.pl
@c -------------------------------------------------


Ciao allows to annotate the program code with @emph{assertions}, much in the style of the @emph{literate programming}. Assertions can be used to document predicates (and modules and whole applications) and will be used by the Ciao preprocessor to debug and optimize the program, and by the Ciao documenter to build the program manual.

@iftex
@sp 
@end cartouche
@vfill
@end iftex

@c (component)


@node The Ciao assertion package, Types and properties related to assertions, *** PART V - Annotated Prolog library (assertions), Top
@comment node-name, next,  previous,  up
@chapter The Ciao assertion package
@liindex assertions
@c -------------------------------------------------
@c WARNING: Do not edit this file (assertions_doc.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/assertions/assertions_doc.pl
@c -------------------------------------------------

@strong{Author(s):} Manuel Hermenegildo, Francisco Bueno, German Puebla.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)


The 
@glindex assertions
@code{assertions} package adds a number of new declaration definitions and new operator definitions which allow including 
@glindex program assertions
program assertions in user programs. Such assertions can be used to describe predicates, properties, modules, applications, etc. These descriptions can be formal specifications (such as preconditions and post-conditions) or machine-readable textual comments. 

This module is part of the 
@glindex assertions
@code{assertions} library. It defines the basic code-related assertions, i.e., those intended to be used mainly by compilation-related tools, such as the static analyzer or the run-time test generator. 

Giving 
@glindex specifications
specifications for predicates and other program elements is the main functionality documented here. The exact syntax of comments 
@coindex comments, machine readable
@glindex comments, machine readable 
is described in the autodocumenter (
@glindex lpdoc
@code{lpdoc} [Knu84,Her99a]) manual, although some support for adding machine-readable comments in assertions is also mentioned here. 

There are two kinds of assertions: predicate assertions and program point assertions. All predicate assertions are currently placed as directives in the source code, i.e., preceded by ``@code{:-}''. Program point assertions are placed as goals in clause bodies. 



@menu
* More info::			
* Some attention points::	
* Usage and interface (assertions)::  
* Documentation on new declarations (assertions)::  
* Documentation on exports (assertions)::  
@end menu

@node More info, Some attention points, The Ciao assertion package, The Ciao assertion package
@comment node-name, next,  previous,  up
@section More info 

The facilities provided by the library are documented in the description of its component modules. This documentation is intended to provide information only at a ``reference manual'' level. For a more tutorial introduction to the subject and some more examples please see the document ``An Assertion Language for Debugging of Constraint Logic Programs (Technical Report CLIP2/97.1)''. The assertion language implemented in this library is modeled after this design document, although, due to implementation issues, it may differ in some details. The purpose of this manual is to document precisely what the implementation of the library supports at any given point in time. 



@node Some attention points, Usage and interface (assertions), More info, The Ciao assertion package
@comment node-name, next,  previous,  up
@section Some attention points 


@itemize @bullet{} 


@item @strong{Formatting commands within text strings:} 
@coindex formatting commands
@glindex formatting commands 
many of the predicates defined in these modules include arguments intended for providing textual information. This includes titles, descriptions, comments, etc. The type of this argument is a character string. In order for the automatic generation of documentation to work correctly, this 
@glindex character string
character string should adhere to certain conventions. See the description of the 
@glindex docstring/1
@code{docstring/1} type/grammar for details. 


@item @strong{Referring to variables:} In order for the automatic documentation system to work correctly, 
@glindex variable names
variable names (for example, when referring to arguments in the head patterns of @emph{pred} declarations) must be surrounded by an @code{@@var} command. For example, @code{@@var@{VariableName@}} should be used for referring to the variable ``VariableName'', which will appear then formatted as follows: @code{VariableName}. See the description of the 
@glindex docstring/1
@code{docstring/1} type/grammar for details. 


@end itemize  





@node Usage and interface (assertions), Documentation on new declarations (assertions), Some attention points, The Ciao assertion package
@comment node-name, next,  previous,  up
@section Usage and interface (@code{assertions})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

The recommended procedure in order to make use of assertions in user programs is to include the 
@glindex assertions
@code{assertions} syntax library, using one of the following declarations, as appropriate: 


@smallexample 
   :- module(...,...,[assertions]).
   :- include(library(assertions)).
   :- use_package([assertions]).
@end smallexample  


@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex check/1
@code{check/1}, 
@glindex trust/1
@code{trust/1}, 
@glindex true/1
@code{true/1}, 
@glindex false/1
@code{false/1}.


@end itemize


@item @strong{New operators defined:}

@glindex =>/2
@code{=>/2} [975,xfx], 
@glindex ::/2
@code{::/2} [978,xfx], 
@glindex decl/1
@code{decl/1} [1150,fx], 
@glindex decl/2
@code{decl/2} [1150,xfx], 
@glindex pred/1
@code{pred/1} [1150,fx], 
@glindex pred/2
@code{pred/2} [1150,xfx], 
@glindex prop/1
@code{prop/1} [1150,fx], 
@glindex prop/2
@code{prop/2} [1150,xfx], 
@glindex modedef/1
@code{modedef/1} [1150,fx], 
@glindex calls/1
@code{calls/1} [1150,fx], 
@glindex calls/2
@code{calls/2} [1150,xfx], 
@glindex success/1
@code{success/1} [1150,fx], 
@glindex success/2
@code{success/2} [1150,xfx], 
@glindex comp/1
@code{comp/1} [1150,fx], 
@glindex comp/2
@code{comp/2} [1150,xfx], 
@glindex entry/1
@code{entry/1} [1150,fx].

@item @strong{New declarations defined:}

@glindex pred/1
@code{pred/1}, 
@glindex pred/2
@code{pred/2}, 
@glindex calls/1
@code{calls/1}, 
@glindex calls/2
@code{calls/2}, 
@glindex success/1
@code{success/1}, 
@glindex success/2
@code{success/2}, 
@glindex comp/1
@code{comp/1}, 
@glindex comp/2
@code{comp/2}, 
@glindex prop/1
@code{prop/1}, 
@glindex prop/2
@code{prop/2}, 
@glindex entry/1
@code{entry/1}, 
@glindex modedef/1
@code{modedef/1}, 
@glindex decl/1
@code{decl/1}, 
@glindex decl/2
@code{decl/2}, 
@glindex comment/2
@code{comment/2}.


@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex assertions/assertions_props
@code{assertions/assertions_props}.


@end itemize

@end itemize
@end cartouche


@node Documentation on new declarations (assertions), Documentation on exports (assertions), Usage and interface (assertions), The Ciao assertion package
@comment node-name, next,  previous,  up
@section Documentation on new declarations (@code{assertions})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{pred/1 (decl)}}}
@temp
@end iftex
@deindex pred/1 
@glindex pred/1 
@deffn DECLARATION pred/1:




@coindex pred assertion
@glindex pred assertion 
This assertion provides information on a predicate. The body of the assertion (its only argument) contains properties or comments in the formats defined by 
@glindex assrt_body/1
@code{assrt_body/1}. 

More than one of these assertions may appear per predicate, in which case each one represents a possible ``
@glindex mode
mode'' of use (
@glindex usage
usage) of the predicate. The exact scope of the usage is defined by the properties given for calls in the body of each assertion (which should thus distinguish the different usages intended). All of them together cover all possible modes of usage. 

For example, the following assertions describe (all the and the only) modes of usage of predicate @code{length/2} (see @ref{List processing}): 
@smallexample 
:- pred length(L,N) : list * var => list * integer
	# "Computes the length of @code{L}.".
:- pred length(L,N) : var * integer => list * integer
	# "Outputs @code{L} of length @code{N}.".
:- pred length(L,N) : list * integer => list * integer
	# "Checks that @code{L} is of length @code{N}.".
     @end smallexample  



@strong{Usage:} :- @code{pred(AssertionBody)}.
@itemize @minus
@item @emph{The following properties should hold at call time:}


@code{AssertionBody} is an assertion body.
@iftex
@hfill
@end iftex
 (@code{assertions_props:assrt_body/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{pred/2 (decl)}}}
@temp
@end iftex
@deindex pred/2 
@glindex pred/2 
@deffn DECLARATION pred/2:




@coindex pred assertion
@glindex pred assertion 
This assertion is similar to a 
@glindex pred/1
@code{pred/1} assertion but it is explicitely qualified. Non-qualified 
@glindex pred/1
@code{pred/1} assertions are assumed the qualifier @code{check}. 


@strong{Usage:} :- @code{pred(AssertionStatus,AssertionBody)}.
@itemize @minus
@item @emph{The following properties should hold at call time:}


@code{AssertionStatus} is an acceptable status for an assertion.
@iftex
@hfill
@end iftex
 (@code{assertions_props:assrt_status/1})

@code{AssertionBody} is an assertion body.
@iftex
@hfill
@end iftex
 (@code{assertions_props:assrt_body/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{calls/1 (decl)}}}
@temp
@end iftex
@deindex calls/1 
@glindex calls/1 
@deffn DECLARATION calls/1:




@coindex calls assertion
@glindex calls assertion 
This assertion is similar to a 
@glindex pred/1
@code{pred/1} assertion but it only provides information about the calls to a predicate. If one or several calls assertions are given they are understood to describe all possible calls to the predicate. 

For example, the following assertion describes all possible calls to predicate @code{is/2} (see @ref{Arithmetic}): 
@smallexample 
:- calls is(term,arithexpression).
     @end smallexample  



@strong{Usage:} :- @code{calls(AssertionBody)}.
@itemize @minus
@item @emph{The following properties should hold at call time:}


@code{AssertionBody} is a call assertion body.
@iftex
@hfill
@end iftex
 (@code{assertions_props:c_assrt_body/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{calls/2 (decl)}}}
@temp
@end iftex
@deindex calls/2 
@glindex calls/2 
@deffn DECLARATION calls/2:




@coindex calls assertion
@glindex calls assertion 
This assertion is similar to a 
@glindex calls/1
@code{calls/1} assertion but it is explicitely qualified. Non-qualified 
@glindex calls/1
@code{calls/1} assertions are assumed the qualifier @code{check}. 


@strong{Usage:} :- @code{calls(AssertionStatus,AssertionBody)}.
@itemize @minus
@item @emph{The following properties should hold at call time:}


@code{AssertionStatus} is an acceptable status for an assertion.
@iftex
@hfill
@end iftex
 (@code{assertions_props:assrt_status/1})

@code{AssertionBody} is a call assertion body.
@iftex
@hfill
@end iftex
 (@code{assertions_props:c_assrt_body/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{success/1 (decl)}}}
@temp
@end iftex
@deindex success/1 
@glindex success/1 
@deffn DECLARATION success/1:




@coindex success assertion
@glindex success assertion 
This assertion is similar to a 
@glindex pred/1
@code{pred/1} assertion but it only provides information about the answers to a predicate. The described answers might be conditioned to a particular way of calling the predicate. 

For example, the following assertion specifies the answers of the @code{length/2} predicate @emph{if} it is called as in the first mode of usage above (note that the previous pred assertion already conveys such information, however it also compelled the predicate calls, while the success assertion does not): 
@smallexample 
:- success length(L,N) : list * var => list * integer.
     @end smallexample  



@strong{Usage:} :- @code{success(AssertionBody)}.
@itemize @minus
@item @emph{The following properties should hold at call time:}


@code{AssertionBody} is a predicate assertion body.
@iftex
@hfill
@end iftex
 (@code{assertions_props:s_assrt_body/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{success/2 (decl)}}}
@temp
@end iftex
@deindex success/2 
@glindex success/2 
@deffn DECLARATION success/2:




@coindex success assertion
@glindex success assertion 
This assertion is similar to a 
@glindex success/1
@code{success/1} assertion but it is explicitely qualified. Non-qualified 
@glindex success/1
@code{success/1} assertions are assumed the qualifier @code{check}. 


@strong{Usage:} :- @code{success(AssertionStatus,AssertionBody)}.
@itemize @minus
@item @emph{The following properties should hold at call time:}


@code{AssertionStatus} is an acceptable status for an assertion.
@iftex
@hfill
@end iftex
 (@code{assertions_props:assrt_status/1})

@code{AssertionBody} is a predicate assertion body.
@iftex
@hfill
@end iftex
 (@code{assertions_props:s_assrt_body/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{comp/1 (decl)}}}
@temp
@end iftex
@deindex comp/1 
@glindex comp/1 
@deffn DECLARATION comp/1:




@coindex comp assertion
@glindex comp assertion 
This assertion is similar to a 
@glindex pred/1
@code{pred/1} assertion but it only provides information about the global execution properties of a predicate (note that such kind of information is also conveyed by pred assertions). The described properties might be conditioned to a particular way of calling the predicate. 

For example, the following assertion specifies that the computation of @code{append/3} (see @ref{List processing}) will not fail @emph{if} it is called as described (but does not compel the predicate to be called that way): 
@smallexample 
:- comp append(Xs,Ys,Zs) : var * var * var + not_fail.
     @end smallexample  



@strong{Usage:} :- @code{comp(AssertionBody)}.
@itemize @minus
@item @emph{The following properties should hold at call time:}


@code{AssertionBody} is a comp assertion body.
@iftex
@hfill
@end iftex
 (@code{assertions_props:g_assrt_body/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{comp/2 (decl)}}}
@temp
@end iftex
@deindex comp/2 
@glindex comp/2 
@deffn DECLARATION comp/2:




@coindex comp assertion
@glindex comp assertion 
This assertion is similar to a 
@glindex comp/1
@code{comp/1} assertion but it is explicitely qualified. Non-qualified 
@glindex comp/1
@code{comp/1} assertions are assumed the qualifier @code{check}. 


@strong{Usage:} :- @code{comp(AssertionStatus,AssertionBody)}.
@itemize @minus
@item @emph{The following properties should hold at call time:}


@code{AssertionStatus} is an acceptable status for an assertion.
@iftex
@hfill
@end iftex
 (@code{assertions_props:assrt_status/1})

@code{AssertionBody} is a comp assertion body.
@iftex
@hfill
@end iftex
 (@code{assertions_props:g_assrt_body/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{prop/1 (decl)}}}
@temp
@end iftex
@deindex prop/1 
@glindex prop/1 
@deffn DECLARATION prop/1:




@coindex prop assertion
@glindex prop assertion 
This assertion is similar to a @code{pred/1} assertion but it flags that the predicate being documented is also a ``
@glindex property
property.'' 

Properties are standard predicates, but which are @emph{guaranteed to terminate for any possible instantiation state of their argument(s)}, do not perform side-effects which may interfere with the program behaviour, and do not further instantiate their arguments or add new constraints. 

Provided the above holds, properties can thus be safely used as 
@glindex run-time checks
run-time checks. The program transformation used in @code{ciaopp} for run-time checking guarantees the third requirement. It also performs some basic checks on properties which in most cases are enough for the second requirement. However, it is the user's responsibility to guarantee termination of the properties defined. (See also @ref{Declaring regular types} for some considerations applicable to writing properties.) 

The set of properties is thus a strict subset of the set of predicates. Note that properties can be used to describe characteristics of arguments in assertions and they can also be executed (called) as any other predicates. 


@strong{Usage:} :- @code{prop(AssertionBody)}.
@itemize @minus
@item @emph{The following properties should hold at call time:}


@code{AssertionBody} is an assertion body.
@iftex
@hfill
@end iftex
 (@code{assertions_props:assrt_body/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{prop/2 (decl)}}}
@temp
@end iftex
@deindex prop/2 
@glindex prop/2 
@deffn DECLARATION prop/2:




@coindex prop assertion
@glindex prop assertion 
This assertion is similar to a 
@glindex prop/1
@code{prop/1} assertion but it is explicitely qualified. Non-qualified 
@glindex prop/1
@code{prop/1} assertions are assumed the qualifier @code{check}. 


@strong{Usage:} :- @code{prop(AssertionStatus,AssertionBody)}.
@itemize @minus
@item @emph{The following properties should hold at call time:}


@code{AssertionStatus} is an acceptable status for an assertion.
@iftex
@hfill
@end iftex
 (@code{assertions_props:assrt_status/1})

@code{AssertionBody} is an assertion body.
@iftex
@hfill
@end iftex
 (@code{assertions_props:assrt_body/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{entry/1 (decl)}}}
@temp
@end iftex
@deindex entry/1 
@glindex entry/1 
@deffn DECLARATION entry/1:




@coindex entry assertion
@glindex entry assertion 
This assertion provides information about the @emph{external} calls to a predicate. It is identical syntactically to a 
@glindex calls/1
@code{calls/1} assertion. However, they describe only external calls, i.e., calls to the exported predicates of a module from outside the module, or calls to the predicates in a non-modular file from other files (or the user). 

These assertions are @emph{trusted} by the compiler. As a result, if their descriptions are erroneous they can introduce bugs in programs. Thus, 
@glindex entry/1
@code{entry/1} assertions should be written with care. 

An important use of these assertions is in 
@glindex providing information to the compiler
providing information to the compiler which it may not be able to infer from the program. The main use is in providing information on the ways in which exported predicates of a module will be called from outside the module. This will greatly improve the precision of the analyzer, which otherwise has to assume that the arguments that exported predicates receive are any arbitrary term. 


@strong{Usage:} :- @code{entry(AssertionBody)}.
@itemize @minus
@item @emph{The following properties should hold at call time:}


@code{AssertionBody} is a call assertion body.
@iftex
@hfill
@end iftex
 (@code{assertions_props:c_assrt_body/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{modedef/1 (decl)}}}
@temp
@end iftex
@deindex modedef/1 
@glindex modedef/1 
@deffn DECLARATION modedef/1:



This assertion is used to define modes. A mode defines in a compact way a set of call and success properties. Once defined, modes can be applied to predicate arguments in assertions. The meaning of this application is that the call and success properties defined by the mode hold for the argument to which the mode is applied. Thus, a mode is conceptually a ``property macro''. 

The syntax of mode definitions is similar to that of pred declarations. For example, the following set of assertions: 


@smallexample 
:- modedef +A : nonvar(A) # "@code{A} is bound upon predicate entry.".

:- pred p(+A,B) : integer(A) =>  ground(B).
@end smallexample  

is equivalent to: 


@smallexample 
:- pred p(A,B) : (nonvar(A),integer(A)) =>  ground(B)
   # "@code{A} is bound upon predicate entry.".
@end smallexample  



@strong{Usage:} :- @code{modedef(AssertionBody)}.
@itemize @minus
@item @emph{The following properties should hold at call time:}


@code{AssertionBody} is an assertion body.
@iftex
@hfill
@end iftex
 (@code{assertions_props:assrt_body/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{decl/1 (decl)}}}
@temp
@end iftex
@deindex decl/1 
@glindex decl/1 
@deffn DECLARATION decl/1:




@coindex decl assertion
@glindex decl assertion 
This assertion is similar to a 
@glindex pred/1
@code{pred/1} assertion but it is used for declarations instead than for predicates. 


@strong{Usage:} :- @code{decl(AssertionBody)}.
@itemize @minus
@item @emph{The following properties should hold at call time:}


@code{AssertionBody} is an assertion body.
@iftex
@hfill
@end iftex
 (@code{assertions_props:assrt_body/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{decl/2 (decl)}}}
@temp
@end iftex
@deindex decl/2 
@glindex decl/2 
@deffn DECLARATION decl/2:




@coindex decl assertion
@glindex decl assertion 
This assertion is similar to a 
@glindex decl/1
@code{decl/1} assertion but it is explicitely qualified. Non-qualified 
@glindex decl/1
@code{decl/1} assertions are assumed the qualifier @code{check}. 


@strong{Usage:} :- @code{decl(AssertionStatus,AssertionBody)}.
@itemize @minus
@item @emph{The following properties should hold at call time:}


@code{AssertionStatus} is an acceptable status for an assertion.
@iftex
@hfill
@end iftex
 (@code{assertions_props:assrt_status/1})

@code{AssertionBody} is an assertion body.
@iftex
@hfill
@end iftex
 (@code{assertions_props:assrt_body/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{comment/2 (decl)}}}
@temp
@end iftex
@deindex comment/2 
@glindex comment/2 
@deffn DECLARATION comment/2:






@strong{Usage:} :- @code{comment(Pred,Comment)}.
@itemize @minus
@item @emph{Description:} 
@coindex comment assertion
@glindex comment assertion 
This assertion gives a text @code{Comment} for a given predicate @code{Pred}. 
@item @emph{The following properties should hold at call time:}


@code{Pred} is a head pattern.
@iftex
@hfill
@end iftex
 (@code{assertions_props:head_pattern/1})

@code{Comment} is a text comment with admissible documentation commands. The usual formatting commands that are applicable in comment strings are defined by 
@glindex stringcommand/1
@code{stringcommand/1}. See the 
@glindex lpdoc
@code{lpdoc} manual for documentation on comments. 
@iftex
@hfill
@end iftex
 (@code{assertions_props:docstring/1})
@end itemize
@end deffn
@sp 1



@node Documentation on exports (assertions),  , Documentation on new declarations (assertions), The Ciao assertion package
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{assertions})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{check/1 (pred)}}}
@temp
@end iftex
@pdindex check/1 
@glindex check/1 
@deffn PREDICATE check/1:






@strong{Usage:} @code{check(PropertyConjunction)}
@itemize @minus
@item @emph{Description:} 
@coindex check assertion
@glindex check assertion 
This assertion provides information on a clause program point (position in the body of a clause). Calls to a 
@glindex check/1
@code{check/1} assertion can appear in the body of a clause in any place where a literal can normally appear. The property defined by @code{PropertyConjunction} should hold in all the run-time stores corresponding to that program point. See also @ref{Run-time checking of assertions}. 
@item @emph{The following properties should hold at call time:}


@code{PropertyConjunction} is either a term or a @emph{conjunction} of terms. The main functor and arity of each of those terms corresponds to the definition of a property. The first argument of each such term is a variable which appears as a head argument.
@iftex
@hfill
@end iftex
 (@code{assertions_props:property_conjunction/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{trust/1 (pred)}}}
@temp
@end iftex
@pdindex trust/1 
@glindex trust/1 
@deffn PREDICATE trust/1:






@strong{Usage:} @code{trust(PropertyConjunction)}
@itemize @minus
@item @emph{Description:} 
@coindex trust assertion
@glindex trust assertion 
This assertion also provides information on a clause program point. It is identical syntactically to a 
@glindex check/1
@code{check/1} assertion. However, the properties stated are not taken as something to be checked but are instead @emph{trusted} by the compiler. While the compiler may in some cases detect an inconsistency between a 
@glindex trust/1
@code{trust/1} assertion and the program, in all other cases the information given in the assertion will be taken to be true. As a result, if these assertions are erroneous they can introduce bugs in programs. Thus, 
@glindex trust/1
@code{trust/1} assertions should be written with care. 

An important use of these assertions is in 
@glindex providing information to the compiler
providing information to the compiler which it may not be able to infer from the program (either because the information is not present or because the analyzer being used is not precise enough). In particular, providing information on external predicates which may not be accessible at the time of compiling the module can greatly improve the precision of the analyzer. This can be easily done with trust assertion.  
@item @emph{The following properties should hold at call time:}


@code{PropertyConjunction} is either a term or a @emph{conjunction} of terms. The main functor and arity of each of those terms corresponds to the definition of a property. The first argument of each such term is a variable which appears as a head argument.
@iftex
@hfill
@end iftex
 (@code{assertions_props:property_conjunction/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{true/1 (pred)}}}
@temp
@end iftex
@pdindex true/1 
@glindex true/1 
@deffn PREDICATE true/1:






@strong{Usage:} @code{true(PropertyConjunction)}
@itemize @minus
@item @emph{Description:} 
@coindex true assertion
@glindex true assertion 
This assertion is identical syntactically to a 
@glindex check/1
@code{check/1} assertion. However, the properties stated have been proved to hold by the analyzer. Thus, these assertions often represent the 
@glindex analyzer output
analyzer output. 
@item @emph{The following properties should hold at call time:}


@code{PropertyConjunction} is either a term or a @emph{conjunction} of terms. The main functor and arity of each of those terms corresponds to the definition of a property. The first argument of each such term is a variable which appears as a head argument.
@iftex
@hfill
@end iftex
 (@code{assertions_props:property_conjunction/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{false/1 (pred)}}}
@temp
@end iftex
@pdindex false/1 
@glindex false/1 
@deffn PREDICATE false/1:






@strong{Usage:} @code{false(PropertyConjunction)}
@itemize @minus
@item @emph{Description:} 
@coindex false assertion
@glindex false assertion 
This assertion is identical syntactically to a 
@glindex check/1
@code{check/1} assertion. However, the properties stated have been proved not to hold by the analyzer. Thus, these assertions often represent the 
@glindex analyzer output
analyzer output. 
@item @emph{The following properties should hold at call time:}


@code{PropertyConjunction} is either a term or a @emph{conjunction} of terms. The main functor and arity of each of those terms corresponds to the definition of a property. The first argument of each such term is a variable which appears as a head argument.
@iftex
@hfill
@end iftex
 (@code{assertions_props:property_conjunction/1})
@end itemize
@end deffn
@sp 1


@c (component)


@node Types and properties related to assertions, Declaring regular types, The Ciao assertion package, Top
@comment node-name, next,  previous,  up
@chapter Types and properties related to assertions
@liindex assertions_props
@c -------------------------------------------------
@c WARNING: Do not edit this file (assertions_props.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/assertions/assertions_props.pl
@c -------------------------------------------------

@strong{Author(s):} Manuel Hermenegildo.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 0.9#98 (1999/5/25, 17:1:28 MEST)

This module is part of the 
@glindex assertions
@code{assertions} library. It defines types and properties related to assertions.



@menu
* Usage and interface (assertions_props)::  
* Documentation on exports (assertions_props)::	 
@end menu

@node Usage and interface (assertions_props), Documentation on exports (assertions_props), Types and properties related to assertions, Types and properties related to assertions
@comment node-name, next,  previous,  up
@section Usage and interface (@code{assertions_props})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(assertions_props)).}

@item @strong{Exports:}
@itemize @minus


@item @emph{Properties:}

@glindex head_pattern/1
@code{head_pattern/1}, 
@glindex docstring/1
@code{docstring/1}.


@item @emph{Regular Types:}

@glindex assrt_body/1
@code{assrt_body/1}, 
@glindex complex_arg_property/1
@code{complex_arg_property/1}, 
@glindex property_conjunction/1
@code{property_conjunction/1}, 
@glindex property_starterm/1
@code{property_starterm/1}, 
@glindex complex_goal_property/1
@code{complex_goal_property/1}, 
@glindex c_assrt_body/1
@code{c_assrt_body/1}, 
@glindex s_assrt_body/1
@code{s_assrt_body/1}, 
@glindex g_assrt_body/1
@code{g_assrt_body/1}, 
@glindex assrt_status/1
@code{assrt_status/1}, 
@glindex assrt_type/1
@code{assrt_type/1}, 
@glindex predfunctor/1
@code{predfunctor/1}, 
@glindex propfunctor/1
@code{propfunctor/1}.


@end itemize


@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex dcg_expansion
@code{dcg_expansion}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (assertions_props),  , Usage and interface (assertions_props), Types and properties related to assertions
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{assertions_props})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{assrt_body/1 (regtype)}}}
@temp
@end iftex
@teindex assrt_body/1 
@glindex assrt_body/1 
@deffn REGTYPE assrt_body/1:



 
@coindex assertion body syntax
@glindex assertion body syntax 
This predicate defines the different types of syntax admissible in the bodies of 
@glindex pred/1
@code{pred/1}, 
@glindex func/1
@code{func/1}, etc. assertions. Such a body is of the form: 


@smallexample 
      Pr [:: DP] [: CP] [=> AP] [+ GP] [# CO]
     @end smallexample  

where (fields between [...] are optional): 


@itemize @bullet{} 


@item @code{Pr} is a 
@glindex head pattern
head pattern (
@glindex head_pattern/1
@code{head_pattern/1}) which describes the predicate or property and possibly gives some implicit call/answer information. 


@item @code{DP} is a (possibly empty) 
@glindex complex argument property
complex argument property (
@glindex complex_arg_property/1
@code{complex_arg_property/1}) which expresses properties which are 
@glindex compatible
compatible with the predicate, i.e., instantiations made by the predicate are @emph{compatible} with the properties in the sense that applying the property at any point to would not make it fail. 


@item @code{CP} is a (possibly empty) 
@glindex complex argument property
complex argument property (
@glindex complex_arg_property/1
@code{complex_arg_property/1}) which applies to the @emph{calls} to the predicate. 


@item @code{AP} is a (possibly empty) 
@glindex complex argument property
complex argument property (
@glindex complex_arg_property/1
@code{complex_arg_property/1}) which applies to the @emph{answers} to the predicate (if the predicate succeeds). These only apply if the (possibly empty) properties given for calls in the assertion hold. 


@item @code{GP} is a (possibly empty) 
@glindex complex goal property
complex goal property (
@glindex complex_goal_property/1
@code{complex_goal_property/1}) which applies to the @emph{whole execution} of a call to the predicate. These only apply if the (possibly empty) properties given for calls in the assertion hold. 


@item @code{CO} is a 
@glindex comment string
comment string (
@glindex docstring/1
@code{docstring/1}). This comment only applies if the (possibly empty) properties given for calls in the assertion hold. The usual formatting commands that are applicable in comment strings can be used (see 
@glindex stringcommand/1
@code{stringcommand/1}). 

See the 
@glindex lpdoc
@code{lpdoc} manual for documentation on assertion comments. 


@end itemize  




@strong{Usage:} @code{assrt_body(X)}
@itemize @minus
@item @emph{Description:} @code{X} is an assertion body. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{head_pattern/1 (prop)}}}
@temp
@end iftex
@prindex head_pattern/1 
@glindex head_pattern/1 
@deffn PROPERTY head_pattern/1:



A 
@glindex head pattern
head pattern can be a predicate name (functor/arity) (
@glindex predname/1
@code{predname/1}) or a term. Thus, both @code{p/3} and @code{p(A,B,C)} are valid head patterns. In the case in which the head pattern is a term, each argument of such a term can be: 


@itemize @bullet{} 


@item A variable. This is useful in order to be able to refer to the corresponding argument positions by name within properties and in comments. Thus, @code{p(Input,Parameter,Output)} is a valid head pattern. 


@item A ground term. In this case this term determines a property of the corresponding argument. The actual property referred to is that given by the term but with one more argument added at the beginning, which is a new variable which, in a rewriting of the head pattern, appears at the argument position occupied by the term. Unless otherwise stated (see below), the property built this way is understood to hold for both calls and answers. For example, the head pattern @code{p(Input,list(integer),Output)} is valid and equivalent for example to having the head pattern @code{p(Input,A,Output)} and stating that the property @code{list(A,integer)} holds for the calls and successes of the predicate. 


@item Finally, it can also be a variable or a ground term, as above, but preceded by a ``
@glindex mode
mode.'' This mode determines in a compact way certain call or answer properties. For example, the head pattern @code{p(Input,+list(integer),Output)} is valid, as long as 
@glindex +/1
@code{+/1} is declared as a mode. 

Acceptable modes 
@coindex acceptable modes
@glindex acceptable modes 
are documented in 
@glindex library(modes)
@code{library(modes)}. User defined modes are documented in 
@glindex modedef/1
@code{modedef/1}. 


@end itemize  




@strong{Usage:} @code{head_pattern(Pr)}
@itemize @minus
@item @emph{Description:} @code{Pr} is a head pattern. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{complex_arg_property/1 (regtype)}}}
@temp
@end iftex
@teindex complex_arg_property/1 
@glindex complex_arg_property/1 
@deffn REGTYPE complex_arg_property/1:


@code{complex_arg_property(Props)}


@code{Props} is a (possibly empty) 
@glindex complex argument property
complex argument property. Such properties can appear in two formats, which are defined by 
@glindex property_conjunction/1
@code{property_conjunction/1} and 
@glindex property_starterm/1
@code{property_starterm/1} respectively. The two formats can be mixed provided they are not in the same field of an assertion. I.e., the following is a valid assertion: 

@code{:- pred foo(X,Y) : nonvar * var => (ground(X),ground(Y)).} 


@strong{Usage:} @code{complex_arg_property(Props)}
@itemize @minus
@item @emph{Description:} @code{Props} is a (possibly empty) complex argument property 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{property_conjunction/1 (regtype)}}}
@temp
@end iftex
@teindex property_conjunction/1 
@glindex property_conjunction/1 
@deffn REGTYPE property_conjunction/1:



This type defines the first, unabridged format in which properties can be expressed in the bodies of assertions. It is essentially a conjunction of properties which refer to variables. The following is an example of a complex property in this format: 


@itemize @bullet{} 


@item @code{(integer(X),list(Y,integer))}: @code{X} has the property 
@glindex integer/1
@code{integer/1} and @code{Y} has the property 
@glindex list/2
@code{list/2}, with second argument @code{integer}. 


@end itemize  



@strong{Usage:} @code{property_conjunction(Props)}
@itemize @minus
@item @emph{Description:} @code{Props} is either a term or a @emph{conjunction} of terms. The main functor and arity of each of those terms corresponds to the definition of a property. The first argument of each such term is a variable which appears as a head argument. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{property_starterm/1 (regtype)}}}
@temp
@end iftex
@teindex property_starterm/1 
@glindex property_starterm/1 
@deffn REGTYPE property_starterm/1:



This type defines a second, compact format in which properties can be expressed in the bodies of assertions. A 
@glindex property_starterm/1
@code{property_starterm/1} is a term whose main functor is 
@glindex */2
@code{*/2} and, when it appears in an assertion, the number of terms joined by 
@glindex */2
@code{*/2} is exactly the arity of the predicate it refers to. A similar series of properties as in 
@glindex property_conjunction/1
@code{property_conjunction/1} appears, but the arity of each property is one less: the argument position to which they refer (first argument) is left out and determined by the position of the property in the 
@glindex property_starterm/1
@code{property_starterm/1}. The idea is that each element of the 
@glindex */2
@code{*/2} term corresponds to a head argument position. Several properties can be assigned to each argument position by grouping them in curly brackets. The following is an example of a complex property in this format: 


@itemize @bullet{} 


@item @code{ integer * list(integer)}: the first argument of the procedure (or function, or ...) has the property 
@glindex integer/1
@code{integer/1} and the second one has the property 
@glindex list/2
@code{list/2}, with second argument @code{integer}. 


@item @code{ @{integer,var@} * list(integer)}: the first argument of the procedure (or function, or ...) has the properties 
@glindex integer/1
@code{integer/1} and 
@glindex var/1
@code{var/1} and the second one has the property 
@glindex list/2
@code{list/2}, with second argument @code{integer}. 


@end itemize  




@strong{Usage:} @code{property_starterm(Props)}
@itemize @minus
@item @emph{Description:} @code{Props} is either a term or several terms separated by 
@glindex */2
@code{*/2}. The main functor of each of those terms corresponds to that of the definition of a property, and the arity should be one less than in the definition of such property. All arguments of each such term are ground. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{complex_goal_property/1 (regtype)}}}
@temp
@end iftex
@teindex complex_goal_property/1 
@glindex complex_goal_property/1 
@deffn REGTYPE complex_goal_property/1:


@code{complex_goal_property(Props)}


@code{Props} is a (possibly empty) 
@glindex complex goal property
complex goal property. Such properties can be either a term or a @emph{conjunction} of terms. The main functor and arity of each of those terms corresponds to the definition of a property. Such properties apply to all executions of all goals of the predicate which comply with the assertion in which the @code{Props} appear. 

The arguments of the terms in @code{Props} are implicitely augmented with a first argument which corresponds to a goal of the predicate of the assertion in which the @code{Props} appear. For example, the assertion 
@smallexample 
     :- comp var(A) + not_further_inst(A).
     @end smallexample  
has property 
@glindex not_further_inst/1
@code{not_further_inst/1} as goal property, and establishes that in all executions of @code{var(A)} it should hold that @code{not_further_inst(var(A),A)}. 




@strong{Usage:} @code{complex_goal_property(Props)}
@itemize @minus
@item @emph{Description:} @code{Props} is either a term or a @emph{conjunction} of terms. The main functor and arity of each of those terms corresponds to the definition of a property. A first implicit argument in such terms identifies goals to which the properties apply. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{c_assrt_body/1 (regtype)}}}
@temp
@end iftex
@teindex c_assrt_body/1 
@glindex c_assrt_body/1 
@deffn REGTYPE c_assrt_body/1:



 


@coindex assertion body syntax
@glindex assertion body syntax 
This predicate defines the different types of syntax admissible in the bodies of 
@glindex call/1
@code{call/1}, 
@glindex entry/1
@code{entry/1}, etc. assertions. The following are admissible: 


@smallexample 
      Pr : CP [# CO]
     @end smallexample  

where (fields between [...] are optional): 


@itemize @bullet{} 


@item @code{CP} is a (possibly empty) 
@glindex complex argument property
complex argument property (
@glindex complex_arg_property/1
@code{complex_arg_property/1}) which applies to the @emph{calls} to the predicate. 


@item @code{CO} is a 
@glindex comment string
comment string (
@glindex docstring/1
@code{docstring/1}). This comment only applies if the (possibly empty) properties given for calls in the assertion hold. The usual formatting commands that are applicable in comment strings can be used (see 
@glindex stringcommand/1
@code{stringcommand/1}). 


@end itemize  

The format of the different parts of the assertion body are given by 
@glindex n_assrt_body/5
@code{n_assrt_body/5} and its auxiliary types. 




@strong{Usage:} @code{c_assrt_body(X)}
@itemize @minus
@item @emph{Description:} @code{X} is a call assertion body. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{s_assrt_body/1 (regtype)}}}
@temp
@end iftex
@teindex s_assrt_body/1 
@glindex s_assrt_body/1 
@deffn REGTYPE s_assrt_body/1:



 


@coindex assertion body syntax
@glindex assertion body syntax 
This predicate defines the different types of syntax admissible in the bodies of 
@glindex pred/1
@code{pred/1}, 
@glindex func/1
@code{func/1}, etc. assertions. The following are admissible: 


@smallexample 
      Pr : CP => AP # CO       
      Pr : CP => AP            
      Pr => AP # CO            
      Pr => AP                 
     @end smallexample  

where: 


@itemize @bullet{} 


@item @code{Pr} is a 
@glindex head pattern
head pattern (
@glindex head_pattern/1
@code{head_pattern/1}) which describes the predicate or property and possibly gives some implicit call/answer information. 


@item @code{CP} is a (possibly empty) 
@glindex complex argument property
complex argument property (
@glindex complex_arg_property/1
@code{complex_arg_property/1}) which applies to the @emph{calls} to the predicate. 


@item @code{AP} is a (possibly empty) 
@glindex complex argument property
complex argument property (
@glindex complex_arg_property/1
@code{complex_arg_property/1}) which applies to the @emph{answers} to the predicate (if the predicate succeeds). These only apply if the (possibly empty) properties given for calls in the assertion hold. 


@item @code{CO} is a 
@glindex comment string
comment string (
@glindex docstring/1
@code{docstring/1}). This comment only applies if the (possibly empty) properties given for calls in the assertion hold. The usual formatting commands that are applicable in comment strings can be used (see 
@glindex stringcommand/1
@code{stringcommand/1}). 


@end itemize  

The format of the different parts of the assertion body are given by 
@glindex n_assrt_body/5
@code{n_assrt_body/5} and its auxiliary types. 




@strong{Usage:} @code{s_assrt_body(X)}
@itemize @minus
@item @emph{Description:} @code{X} is a predicate assertion body. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{g_assrt_body/1 (regtype)}}}
@temp
@end iftex
@teindex g_assrt_body/1 
@glindex g_assrt_body/1 
@deffn REGTYPE g_assrt_body/1:



 


@coindex assertion body syntax
@glindex assertion body syntax 
This predicate defines the different types of syntax admissible in the bodies of 
@glindex comp/1
@code{comp/1} assertions. The following are admissible: 


@smallexample 
      Pr : CP + GP # CO        
      Pr : CP + GP             
      Pr + GP # CO             
      Pr + GP                  
     @end smallexample  

where: 


@itemize @bullet{} 


@item @code{Pr} is a 
@glindex head pattern
head pattern (
@glindex head_pattern/1
@code{head_pattern/1}) which describes the predicate or property and possibly gives some implicit call/answer information. 


@item @code{CP} is a (possibly empty) 
@glindex complex argument property
complex argument property (
@glindex complex_arg_property/1
@code{complex_arg_property/1}) which applies to the @emph{calls} to the predicate. 


@item @code{GP} contains (possibly empty) 
@glindex complex goal property
complex goal property (
@glindex complex_goal_property/1
@code{complex_goal_property/1}) which applies to the @emph{whole execution} of a call to the predicate. These only apply if the (possibly empty) properties given for calls in the assertion hold. 


@item @code{CO} is a 
@glindex comment string
comment string (
@glindex docstring/1
@code{docstring/1}). This comment only applies if the (possibly empty) properties given for calls in the assertion hold. The usual formatting commands that are applicable in comment strings can be used (see 
@glindex stringcommand/1
@code{stringcommand/1}). 


@end itemize  

The format of the different parts of the assertion body are given by 
@glindex n_assrt_body/5
@code{n_assrt_body/5} and its auxiliary types. 




@strong{Usage:} @code{g_assrt_body(X)}
@itemize @minus
@item @emph{Description:} @code{X} is a comp assertion body. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{assrt_status/1 (regtype)}}}
@temp
@end iftex
@teindex assrt_status/1 
@glindex assrt_status/1 
@deffn REGTYPE assrt_status/1:



The types of assertion status. They have the same meaning as the program-point assertions, and are as follows: 
@smallexample 
assrt_status(true).
assrt_status(false).
assrt_status(check).
assrt_status(checked).
assrt_status(trust).
@end smallexample 



@strong{Usage:} @code{assrt_status(X)}
@itemize @minus
@item @emph{Description:} @code{X} is an acceptable status for an assertion. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{assrt_type/1 (regtype)}}}
@temp
@end iftex
@teindex assrt_type/1 
@glindex assrt_type/1 
@deffn REGTYPE assrt_type/1:



The admissible kinds of assertions: 
@smallexample 
assrt_type(pred).
assrt_type(prop).
assrt_type(decl).
assrt_type(func).
assrt_type(calls).
assrt_type(success).
assrt_type(comp).
assrt_type(entry).
assrt_type(modedef).
@end smallexample 



@strong{Usage:} @code{assrt_type(X)}
@itemize @minus
@item @emph{Description:} @code{X} is an admissible kind of assertion. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{predfunctor/1 (regtype)}}}
@temp
@end iftex
@teindex predfunctor/1 
@glindex predfunctor/1 
@deffn REGTYPE predfunctor/1:






@strong{Usage:} @code{predfunctor(X)}
@itemize @minus
@item @emph{Description:} @code{X} is a type of assertion which defines a predicate. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{propfunctor/1 (regtype)}}}
@temp
@end iftex
@teindex propfunctor/1 
@glindex propfunctor/1 
@deffn REGTYPE propfunctor/1:






@strong{Usage:} @code{propfunctor(X)}
@itemize @minus
@item @emph{Description:} @code{X} is a type of assertion which defines a @emph{property}. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{docstring/1 (prop)}}}
@temp
@end iftex
@prindex docstring/1 
@glindex docstring/1 
@deffn PROPERTY docstring/1:






@strong{Usage:} @code{docstring(String)}
@itemize @minus
@item @emph{Description:} @code{String} is a text comment with admissible documentation commands. The usual formatting commands that are applicable in comment strings are defined by 
@glindex stringcommand/1
@code{stringcommand/1}. See the 
@glindex lpdoc
@code{lpdoc} manual for documentation on comments.  
@end itemize
@end deffn
@sp 1


@c (component)


@node Declaring regular types, Properties which are native to analyzers, Types and properties related to assertions, Top
@comment node-name, next,  previous,  up
@chapter Declaring regular types
@liindex regtypes
@c -------------------------------------------------
@c WARNING: Do not edit this file (regtypes_doc.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/regtypes/regtypes_doc.pl
@c -------------------------------------------------

@strong{Author(s):} Manuel Hermenegildo, Pedro Lopez, Francisco Bueno.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)


This library package adds some new declaration definitions and new operator definitions to user programs. These new declarations and operators provide some very simple syntactic sugar to support 
@glindex regular type definitions
regular type definitions in source code. Regular types are just properties which have the additional characteristic of being 
@glindex regular types
regular types (
@glindex basic_props:regtype/1
@code{basic_props:regtype/1}). 

For example, this library package allows writing: 
@smallexample 
   :- regtype tree(X) # "@code{X} is a tree.".
   @end smallexample  
instead of the more combersome: 
@smallexample 
   :- prop tree(X) + regtype # "@code{X} is a tree.".
   @end smallexample  

Regular types can be used as properties to describe predicates and play an essential role in program debugging (see the Ciao Prolog preprocessor (@code{ciaopp}) manual). 

In this chapter we explain some general considerations worth taking into account when writing properties in general, not just regular types. The exact 
@glindex syntax of regular types
syntax of regular types is also described. 

 

@menu
* Defining properties::		
* Usage and interface (regtypes)::  
* Documentation on new declarations (regtypes)::  
@end menu

@node Defining properties, Usage and interface (regtypes), Declaring regular types, Declaring regular types
@comment node-name, next,  previous,  up
@section Defining properties 

Given the classes of assertions in the Ciao assertion language, there are two fundamental classes of properties. Properties used in assertions which refer to execution states (i.e., @code{calls/1}, @code{success/1}, and the like) are called 
@coindex properties of execution states
@glindex properties of execution states
@emph{properties of execution states}. Properties used in assertions related to computations (i.e., @code{comp/1}) are called 
@coindex properties of computations
@glindex properties of computations
@emph{properties of computations}. Different considerations apply when writing a property of the former or of the later kind. 

Consider a definition of the predicate @code{string_concat/3} which concatenates two character strings (represented as lists of ASCII codes): 
@smallexample 
string_concat([],L,L).
string_concat([X|Xs],L,[X|NL]):- string_concat(Xs,L,NL).
@end smallexample  

Assume that we would like to state in an assertion that each argument ``is a list of integers.'' However, we must decide which one of the following two possibilities we mean exactly: ``the argument is @emph{instantiated} to a list of integers'' (let us call this property @code{instantiated_to_intlist/1}), or ``if any part of the argument is instantiated, this instantiation must be compatible with the argument being a list of integers'' (we will call this property @code{compatible_with_intlist/1}). For example, @code{instantiated_to_intlist/1} should be true for the terms @code{[]} and @code{[1,2]}, but should not for @code{X}, @code{[a,2]}, and @code{[X,2]}. In turn, @code{compatible_with_intlist/1} should be true for @code{[]}, @code{X}, @code{[1,2]}, and @code{[X,2]}, but should not be for @code{[X|1]}, @code{[a,2]}, and @code{1}. We refer to properties such as @code{instantiated_to_intlist/1} above as 
@coindex instantiation properties
@glindex instantiation properties
@emph{instantiation properties} and to those such as @code{compatible_with_intlist/1} as 
@coindex compatibility properties
@glindex compatibility properties
@emph{compatibility properties} (corresponding to the traditional notions of ``instantiation types'' and ``compatibility types''). 

It turns out that both of these notions are quite useful in practice. In the example above, we probably would like to use @code{compatible_with_intlist/1} to state that on success of @code{string_concat/3} all three argument must be compatible with lists of integers in an assertion like: 


@smallexample 
:- success string_concat(A,B,C) => ( compatible_with_intlist(A),
                                     compatible_with_intlist(B),
                                     compatible_with_intlist(C) ).
@end smallexample  

With this assertion, no error will be flagged for a call to @code{string_concat/3} such as @code{string_concat([20],L,R)}, which on success produces the resulting atom @code{string_concat([20],L,[20|L])}, but a call @code{string_concat([],a,R)} would indeed flag an error. 

On the other hand, and assuming that we are running on a Prolog system, we would probably like to use @code{instantiated_to_intlist/1} for @code{sumlist/2} as follows: 


@smallexample 
:- calls sumlist(L,N) : instantiated_to_intlist(L).

sumlist([],0).
sumlist([X|R],S) :- sumlist(R,PS), S is PS+X.
@end smallexample  


@noindent
to describe the type of calls for which the program has been designed, i.e., those in which the first argument of @code{sumlist/2} is indeed a list of integers. 

The property @code{instantiated_to_intlist/1} might be written as in the following (Prolog) definition: 


@smallexample 
:- prop instantiated_to_intlist/1.

instantiated_to_intlist(X) :- 
       nonvar(X), instantiated_to_intlist_aux(X).

instantiated_to_intlist_aux([]).
instantiated_to_intlist_aux([X|T]) :-
       integer(X), instantiated_to_intlist(T).
@end smallexample  

(Recall that the Prolog builtin @code{integer/1} itself implements an instantiation check, failing if called with a variable as the argument.) 

The property @code{compatible_with_intlist/1} might in turn be written as follows (also in Prolog): 


@smallexample 
:- prop compatible_with_intlist/1.

compatible_with_intlist(X) :- var(X).
compatible_with_intlist(X) :- 
       nonvar(X), compatible_with_intlist_aux(X).

compatible_with_intlist_aux([]).
compatible_with_intlist_aux([X|T]) :-
       int_compat(X), compatible_with_intlist(T).

int_compat(X) :- var(X).
int_compat(X) :- nonvar(X), integer(X).
@end smallexample  

Note that these predicates meet the criteria for being properties and thus the @code{prop/1} declaration is correct. 

Ensuring that a property meets the criteria for ``not affecting the computation'' can sometimes make its coding somewhat tedious. In some ways, one would like to be able to write simply: 


@smallexample 
intlist([]).
intlist([X|R]) :- int(X), intlist(R).
@end smallexample  


@noindent
(Incidentally, note that the above definition, provided that it suits the requirements for being a property and that @code{int/1} is a regular type, meets the criteria for being a regular type. Thus, it could be declared @code{:- regtype intlist/1}.) 

But note that (independently of the definition of @code{int/1}) the definition above is not the correct instantiation check, since it would succeed for a call such as @code{intlist(X)}. In fact, it is not strictly correct as a compatibility property either, because, while it would fail or succeed as expected, it would perform instantiations (e.g., if called with @code{intlist(X)} it would bind @code{X} to @code{[]}). In practice, it is convenient to provide some run-time support to aid in this task. 

The run-time support of the Ciao system (see @ref{Run-time checking of assertions}) ensures that the execution of properties is performed in such a way that properties written as above can be used directly as instantiation checks. Thus, writing: 


@smallexample 
:- calls sumlist(L,N) : intlist(L).
@end smallexample  


@noindent
has the desired effect. Also, the same properties can often be used as compatibility checks by writing them in the assertions as @code{compat(Property)} (@code{basic_props:compat/1}). Thus, writing: 


@smallexample 
:- success string_concat(A,B,C) => ( compat(intlist(A)),
                                     compat(intlist(B)),
                                     compat(intlist(C)) ).
@end smallexample  


@noindent
also has the desired effect. 

As a general rule, the properties that can be used directly for checking for compatibility should be @emph{downwards closed}, i.e., once they hold they will keep on holding in every state accessible in forwards execution. There are certain predicates which are inherently @emph{instantiation} checks and should not be used as @emph{compatibility} properties nor appear in the definition of a property that is to be used with @code{compat}. Examples of such predicates (for Prolog) are @code{==}, @code{ground}, @code{nonvar}, @code{integer}, @code{atom}, @code{>}, etc. as they require a certain instantiation degree of their arguments in order to succeed. 

In contrast with properties of execution states, @emph{properties of computations} refer to the entire execution of the call(s) that the assertion relates to. One such property is, for example, @code{not_fail/1} (note that although it has been used as in @code{:- comp append(Xs,Ys,Zs) + not_fail}, it is in fact read as @code{not_fail(append(Xs,Ys,Zs))}; see @code{assertions_props:complex_goal_property/1}). For this property, which should be interpreted as ``execution of the predicate either succeeds at least once or loops,'' we can use the following predicate @code{not_fail/1} for run-time checking: 


@smallexample 
not_fail(Goal):-
      if( call(Goal),
          true,            %% then
          warning(Goal) ). %% else
@end smallexample  


@noindent
where the @code{warning/1} (library) predicate simply prints a warning message. 

In this simple case, implementation of the predicate is not very difficult using the (non-standard) @code{if/3} builtin predicate present in many Prolog systems. 



However, it is not so easy to code predicates which check other properties of the computation and we may in general need to program a meta-interpreter for this purpose. 





@node Usage and interface (regtypes), Documentation on new declarations (regtypes), Defining properties, Declaring regular types
@comment node-name, next,  previous,  up
@section Usage and interface (@code{regtypes})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_package(regtypes).}

or

@code{:- module(...,...,[regtypes]).}

@item @strong{New operators defined:}

@glindex regtype/1
@code{regtype/1} [1150,fx], 
@glindex regtype/2
@code{regtype/2} [1150,xfx].

@item @strong{New declarations defined:}

@glindex regtype/1
@code{regtype/1}, 
@glindex regtype/2
@code{regtype/2}.


@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex assertions/assertions_props
@code{assertions/assertions_props}.


@end itemize

@end itemize
@end cartouche


@node Documentation on new declarations (regtypes),  , Usage and interface (regtypes), Declaring regular types
@comment node-name, next,  previous,  up
@section Documentation on new declarations (@code{regtypes})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{regtype/1 (decl)}}}
@temp
@end iftex
@deindex regtype/1 
@glindex regtype/1 
@deffn DECLARATION regtype/1:




@coindex regtype assertion
@glindex regtype assertion 
This assertion is similar to a pred assertion but it flags that the predicate being documented is also a ``
@glindex regular type
regular type.'' This allows for example checking whether it is in the class of types supported by the type checking and inference modules. Currently, types are properties whose definitions are @emph{regular programs}. 

 A regular program is defined by a set of clauses, each of the form: 
@smallexample 
p(x, v_1, ..., v_n)  :- body_1, ..., body_k.
@end smallexample  
where: 
@enumerate  
@item @code{x} is a term whose variables (which are called @emph{term variables}) are unique, i.e., it is not allowed to introduce equality constraints between the variables of @code{x}. 

For example, @code{p(f(X, Y)) :- ...} is valid, but @code{p(f(X, X)) :- ...} is not. 


@item in all clauses defining @code{p/n+1} the terms @code{x} do not unify except maybe for one single clause in which @code{x} is a variable. 


@item @code{n} >= 0 and @code{p/n} is a 
@coindex parametric type functor
@glindex parametric type functor
@emph{parametric type functor} (whereas the predicate defined by the clauses is @code{p/n}+1). 


@item @code{v_1}, ..., @code{v_n} are unique variables, which are called @emph{parametric variables}. 


@item Each @code{body_i} is of the form: 


@enumerate  
@item @code{t(z)} where @code{z} is one of the @emph{term variables} and @code{t} is a @emph{regular type expression}; 


@item @code{q(y, t_1, ..., t_m)} where @code{m} >= 0, @code{q/m} is a @emph{parametric type functor}, not in the set of functors @code{=/2}, @code{^/2}, @code{./3}. 

@code{t_1, ..., t_m} are @emph{regular type expressions}, and @code{y} is a @emph{term variable}. 
@end enumerate  


@item Each term variable occurs at most once in the clause's body (and should be as the first argument of a literal). 
@end enumerate  
A 
@coindex regular type expression
@glindex regular type expression
@emph{regular type expression} is either a parametric variable or a parametric type functor applied to some of the parametric variables (but 
@glindex regular type abstractions
regular type abstractions might also be used in some cases, see @ref{Meta-properties}). 

A parametric type functor is a regular type, defined by a regular program, or a basic type. Basic types are defined in @ref{Basic data types and properties}. 







The set of types is thus a well defined subset of the set of properties. Note that types can be used to describe characteristics of arguments in assertions and they can also be executed (called) as any other predicates. 


@strong{Usage:} :- @code{regtype(AssertionBody)}.
@itemize @minus
@item @emph{The following properties should hold at call time:}


@code{AssertionBody} is an assertion body.
@iftex
@hfill
@end iftex
 (@code{assertions_props:assrt_body/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{regtype/2 (decl)}}}
@temp
@end iftex
@deindex regtype/2 
@glindex regtype/2 
@deffn DECLARATION regtype/2:




@coindex regtype assertion
@glindex regtype assertion 
This assertion is similar to a 
@glindex regtype/1
@code{regtype/1} assertion but it is explicitely qualified. Non-qualified 
@glindex regtype/1
@code{regtype/1} assertions are assumed the qualifier @code{check}. Note that checking regular type definitions should be done with the @code{ciaopp} preprocessor. 


@strong{Usage:} :- @code{regtype(AssertionStatus,AssertionBody)}.
@itemize @minus
@item @emph{The following properties should hold at call time:}


@code{AssertionStatus} is an acceptable status for an assertion.
@iftex
@hfill
@end iftex
 (@code{assertions_props:assrt_status/1})

@code{AssertionBody} is an assertion body.
@iftex
@hfill
@end iftex
 (@code{assertions_props:assrt_body/1})
@end itemize
@end deffn
@sp 1


@c (component)


@node Properties which are native to analyzers, Meta-properties, Declaring regular types, Top
@comment node-name, next,  previous,  up
@chapter Properties which are native to analyzers
@liindex native_props
@c -------------------------------------------------
@c WARNING: Do not edit this file (native_props.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/assertions/native_props.pl
@c -------------------------------------------------

@strong{Author(s):} Francisco Bueno, Manuel Hermenegildo, Pedro Lopez.



@coindex properties, native
@glindex properties, native 
This library contains a set of properties which are natively understood by the different program analyzers of 
@glindex ciaopp
@code{ciaopp}. They are used by 
@glindex ciaopp
@code{ciaopp} on output and they can also be used as properties in assertions.



@menu
* Usage and interface (native_props)::	
* Documentation on exports (native_props)::  
@end menu

@node Usage and interface (native_props), Documentation on exports (native_props), Properties which are native to analyzers, Properties which are native to analyzers
@comment node-name, next,  previous,  up
@section Usage and interface (@code{native_props})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library('assertions/native_props'))} 

or also as a package @code{:- use_package(nativeprops)}. 

Note the different names of the library and the package.

@item @strong{Exports:}
@itemize @minus


@item @emph{Properties:}

@glindex linear/1
@code{linear/1}, 
@glindex mshare/1
@code{mshare/1}, 
@glindex fails/1
@code{fails/1}, 
@glindex not_fail/1
@code{not_fail/1}, 
@glindex possible_fail/1
@code{possible_fail/1}, 
@glindex covered/1
@code{covered/1}, 
@glindex not_covered/1
@code{not_covered/1}, 
@glindex is_det/1
@code{is_det/1}, 
@glindex possible_nondet/1
@code{possible_nondet/1}, 
@glindex disjoint/1
@code{disjoint/1}, 
@glindex not_disjoint/1
@code{not_disjoint/1}, 
@glindex lower_size/2
@code{lower_size/2}, 
@glindex upper_size/2
@code{upper_size/2}, 
@glindex lower_time/2
@code{lower_time/2}, 
@glindex upper_time/2
@code{upper_time/2}, 
@glindex pure/1
@code{pure/1}, 
@glindex soft/1
@code{soft/1}, 
@glindex hard/1
@code{hard/1}.


@end itemize


@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex andprolog/andprolog
@code{andprolog/andprolog}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (native_props),  , Usage and interface (native_props), Properties which are native to analyzers
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{native_props})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{linear/1 (prop)}}}
@temp
@end iftex
@prindex linear/1 
@glindex linear/1 
@deffn PROPERTY linear/1:


@code{linear(X)}


@code{X} is bound to a term which is linear, i.e., if it contains any variables, such variables appear only once in the term. For example, @code{[1,2,3]} and @code{f(A,B)} are linear terms, while @code{f(A,A)} is not.


@strong{Usage:} @code{linear(X)}
@itemize @minus
@item @emph{Description:} @code{X} is instantiated to a linear term. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{mshare/1 (prop)}}}
@temp
@end iftex
@prindex mshare/1 
@glindex mshare/1 
@deffn PROPERTY mshare/1:


@code{mshare(X)}


@code{X} contains all 
@coindex sharing sets
@glindex sharing sets
@emph{sharing sets} [JL88,MH89] which specify the possible variable occurrences in the terms to which the variables involved in the clause may be bound. Sharing sets are a compact way of representing groundness of variables and dependencies between variables. This representation is however generally difficult to read for humans. For this reason, this information is often translated to 
@glindex ground/1
@code{ground/1}, 
@glindex indep/1
@code{indep/1} and 
@glindex indep/2
@code{indep/2} properties, which are easier to read.


@strong{Usage:} @code{mshare(X)}
@itemize @minus
@item @emph{Description:} The sharing pattern is @code{@code{X}}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{fails/1 (prop)}}}
@temp
@end iftex
@prindex fails/1 
@glindex fails/1 
@deffn PROPERTY fails/1:


@code{fails(X)}


Calls of the form @code{X} fail.


@strong{Usage:} @code{fails(X)}
@itemize @minus
@item @emph{Description:} Calls of the form @code{X} fail. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{not_fail/1 (prop)}}}
@temp
@end iftex
@prindex not_fail/1 
@glindex not_fail/1 
@deffn PROPERTY not_fail/1:


@code{not_fail(X)}


Calls of the form @code{X} produce at least one solution, or not terminate [DLH97].


@strong{Usage:} @code{not_fail(X)}
@itemize @minus
@item @emph{Description:} All the calls of the form @code{X} do not fail. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{possible_fail/1 (prop)}}}
@temp
@end iftex
@prindex possible_fail/1 
@glindex possible_fail/1 
@deffn PROPERTY possible_fail/1:


@code{possible_fail(X)}


Non-failure is not ensured for any call of the form @code{X} [DLH97]. In other words, nothing can be ensured about non-failure nor termination of such calls.


@strong{Usage:} @code{possible_fail(X)}
@itemize @minus
@item @emph{Description:} Non-failure is not ensured for calls of the form @code{X}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{covered/1 (prop)}}}
@temp
@end iftex
@prindex covered/1 
@glindex covered/1 
@deffn PROPERTY covered/1:


@code{covered(X)}


For any call of the form @code{X} there is at least one clause whose test succeeds (i.e. all the calls of the form @code{X} are covered.) [DLH97].


@strong{Usage:} @code{covered(X)}
@itemize @minus
@item @emph{Description:} All the calls of the form @code{X} are covered. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{not_covered/1 (prop)}}}
@temp
@end iftex
@prindex not_covered/1 
@glindex not_covered/1 
@deffn PROPERTY not_covered/1:


@code{not_covered(X)}


There is some call of the form @code{X} for which there is not any clause whose test succeeds [DLH97].


@strong{Usage:} @code{not_covered(X)}
@itemize @minus
@item @emph{Description:} Not all of the calls of the form @code{X} are covered. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{is_det/1 (prop)}}}
@temp
@end iftex
@prindex is_det/1 
@glindex is_det/1 
@deffn PROPERTY is_det/1:


@code{is_det(X)}


All calls of the form @code{X} are deterministic, i.e. produce at most one solution, or not terminate.


@strong{Usage:} @code{is_det(X)}
@itemize @minus
@item @emph{Description:} All calls of the form @code{X} are deterministic. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{possible_nondet/1 (prop)}}}
@temp
@end iftex
@prindex possible_nondet/1 
@glindex possible_nondet/1 
@deffn PROPERTY possible_nondet/1:


@code{possible_nondet(X)}


Non-determinism is not ensured for all calls of the form @code{X}. In other words, nothing can be ensured about determinacy nor termination of such calls.


@strong{Usage:} @code{possible_nondet(X)}
@itemize @minus
@item @emph{Description:} Non-determinism is not ensured for calls of the form @code{X}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{disjoint/1 (prop)}}}
@temp
@end iftex
@prindex disjoint/1 
@glindex disjoint/1 
@deffn PROPERTY disjoint/1:


@code{disjoint(X)}


For any call of the form @code{X} at most one clause succeeds, i.e. clauses are pairwise exclusive.


@strong{Usage:} @code{disjoint(X)}
@itemize @minus
@item @emph{Description:} For any call of the form @code{X} at most one clause succeeds. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{not_disjoint/1 (prop)}}}
@temp
@end iftex
@prindex not_disjoint/1 
@glindex not_disjoint/1 
@deffn PROPERTY not_disjoint/1:


@code{not_disjoint(X)}


Not for all calls of the form @code{X} at most one clause succeeds. I.e. clauses are not disjoint for some call.


@strong{Usage:} @code{not_disjoint(X)}
@itemize @minus
@item @emph{Description:} Not for all calls of the form @code{X} at most one clause succeeds. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{lower_size/2 (prop)}}}
@temp
@end iftex
@prindex lower_size/2 
@glindex lower_size/2 
@deffn PROPERTY lower_size/2:


@code{lower_size(X,Y)}


The minimum size of the terms to which the argument @code{Y} is bound to is given by the expression @code{Y}. Various measures can be used to determine the size of an argument, e.g., list-length, term-size, term-depth, integer-value, etc. [DL93].


@strong{Usage:} @code{lower_size(X,Y)}
@itemize @minus
@item @emph{Description:} @code{Y} is a lower bound on the size of argument @code{X}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{upper_size/2 (prop)}}}
@temp
@end iftex
@prindex upper_size/2 
@glindex upper_size/2 
@deffn PROPERTY upper_size/2:


@code{upper_size(X,Y)}


The maximum size of the terms to which the argument @code{Y} is bound to is given by the expression @code{Y}. Various measures can be used to determine the size of an argument, e.g., list-length, term-size, term-depth, integer-value, etc. [DL93].


@strong{Usage:} @code{upper_size(X,Y)}
@itemize @minus
@item @emph{Description:} @code{Y} is a upper bound on the size of argument @code{X}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{lower_time/2 (prop)}}}
@temp
@end iftex
@prindex lower_time/2 
@glindex lower_time/2 
@deffn PROPERTY lower_time/2:


@code{lower_time(X,Y)}


The minimum computation time (in resolution steps) spent by any call of the form @code{X} is given by the expression @code{Y} [DLHL97,GHD96]


@strong{Usage:} @code{lower_time(X,Y)}
@itemize @minus
@item @emph{Description:} @code{Y} is a lower bound on the cost of any call of the form @code{X}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{upper_time/2 (prop)}}}
@temp
@end iftex
@prindex upper_time/2 
@glindex upper_time/2 
@deffn PROPERTY upper_time/2:


@code{upper_time(X,Y)}


The maximum computation time (in resolution steps) spent by any call of the form @code{X} is given by the expression @code{Y} [DL93,GHD96]


@strong{Usage:} @code{upper_time(X,Y)}
@itemize @minus
@item @emph{Description:} @code{Y} is a upper bound on the cost of any call of the form @code{X}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{pure/1 (prop)}}}
@temp
@end iftex
@prindex pure/1 
@glindex pure/1 
@deffn PROPERTY pure/1:






@strong{Usage:} @code{pure(X)}
@itemize @minus
@item @emph{Description:} @code{X} is pure, i.e., has no side-effects. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{soft/1 (prop)}}}
@temp
@end iftex
@prindex soft/1 
@glindex soft/1 
@deffn PROPERTY soft/1:






@strong{Usage:} @code{soft(X)}
@itemize @minus
@item @emph{Description:} @code{X} has 
@coindex soft side-effects
@glindex soft side-effects
@emph{soft side-effects}, i.e., those not affecting program execution (e.g., input/output). 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{hard/1 (prop)}}}
@temp
@end iftex
@prindex hard/1 
@glindex hard/1 
@deffn PROPERTY hard/1:






@strong{Usage:} @code{hard(X)}
@itemize @minus
@item @emph{Description:} @code{X} has 
@coindex hard side-effects
@glindex hard side-effects
@emph{hard side-effects}, i.e., those that might affect program execution (e.g., assert/retract). 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{indep/1 (prop)}}}
@temp
@end iftex
@prindex indep/1 
@glindex indep/1 
@deffn PROPERTY indep/1:






@strong{Usage:} @code{indep(X)}
@itemize @minus
@item @emph{Description:} The variables in pairs in @code{@code{X}} are pairwise independent. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{indep/2 (prop)}}}
@temp
@end iftex
@prindex indep/2 
@glindex indep/2 
@deffn PROPERTY indep/2:






@strong{Usage:} @code{indep(X,Y)}
@itemize @minus
@item @emph{Description:} @code{X} and @code{Y} do not have variables in common. 
@end itemize
@end deffn
@sp 1


@c (component)


@node Meta-properties, ISO-Prolog modes, Properties which are native to analyzers, Top
@comment node-name, next,  previous,  up
@chapter Meta-properties
@liindex meta_props
@c -------------------------------------------------
@c WARNING: Do not edit this file (meta_props.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/assertions/meta_props.pl
@c -------------------------------------------------

@strong{Author(s):} Francisco Bueno.


This library allows the use of some meta-constructs which provide for specifying properties of terms which are unknown at the time of the specification, or expressed with a shorthand for the property definition, i.e., without really defining it. 

An example of such use is an assertion which specifies that any property holding upon call will also hold upon exit: 
@smallexample 
         :- pred p(X) : Prop(X) => Prop(X).
        @end smallexample  

Another example is using shorthands for properties when documenting: 
@smallexample 
         :- pred p(X) : regtype(X,(^(list;list);list)).
        @end smallexample  

(See below for an explanation of such a regular type.) 



@menu
* Usage and interface (meta_props)::  
* Documentation on exports (meta_props)::  
* Documentation on multifiles (meta_props)::  
* Documentation on internals (meta_props)::  
* Known bugs and planned improvements (meta_props)::  
@end menu

@node Usage and interface (meta_props), Documentation on exports (meta_props), Meta-properties, Meta-properties
@comment node-name, next,  previous,  up
@section Usage and interface (@code{meta_props})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library('assertions/meta_props'))} 

or also as a package @code{:- use_package(metaprops)}. 

Note the different names of the library and the package.

@item @strong{Exports:}
@itemize @minus


@item @emph{Properties:}

@glindex call/2
@code{call/2}, 
@glindex prop/2
@code{prop/2}, 
@glindex regtype/2
@code{regtype/2}.


@item @emph{Multifiles:}

@glindex callme/2
@code{callme/2}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (meta_props), Documentation on multifiles (meta_props), Usage and interface (meta_props), Meta-properties
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{meta_props})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{call/2 (prop)}}}
@temp
@end iftex
@prindex call/2 
@glindex call/2 
@deffn PROPERTY call/2:


@code{call(P,A)}


@code{A} has property @code{P} (provided that @code{P} is a property). Equivalent to @code{P(A)}.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{call(P,A)}
@itemize @minus
@item @emph{Description:} @code{A} has property @code{P}. 
@item @emph{If the following properties hold at call time:}


@code{P} is a term which represents a goal, i.e., an atom or a structure.
@iftex
@hfill
@end iftex
 (@code{basic_props:callable/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{prop/2 (prop)}}}
@temp
@end iftex
@prindex prop/2 
@glindex prop/2 
@deffn PROPERTY prop/2:






@strong{Usage:} @code{prop(A,P)}
@itemize @minus
@item @emph{Description:} @code{A} has property @code{P}. 
@item @emph{If the following properties hold at call time:}


@code{P} has property @code{^ (callable;prop_abs)}.
@iftex
@hfill
@end iftex
 (@code{meta_props:prop/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{regtype/2 (prop)}}}
@temp
@end iftex
@prindex regtype/2 
@glindex regtype/2 
@deffn PROPERTY regtype/2:






@strong{Usage:} @code{regtype(A,T)}
@itemize @minus
@item @emph{Description:} @code{A} is of type @code{T}. 
@item @emph{If the following properties hold at call time:}


@code{T} has property @code{^ (regtype;prop_abs)}.
@iftex
@hfill
@end iftex
 (@code{meta_props:prop/2})
@end itemize
@end deffn
@sp 1



@node Documentation on multifiles (meta_props), Documentation on internals (meta_props), Documentation on exports (meta_props), Meta-properties
@comment node-name, next,  previous,  up
@section Documentation on multifiles (@code{meta_props})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{callme/2 (pred)}}}
@temp
@end iftex
@pdindex callme/2 
@glindex callme/2 
@deffn PREDICATE callme/2:



(User defined.) A hook predicate you have to define as @code{callme(P,X):- P(X), !.} in the program that uses this library. This is done automatically if the package is used instead of the library module (but then you @emph{should not} define @code{callme/2} in your program).


The predicate is @emph{multifile}.

@end deffn
@sp 1



@node Documentation on internals (meta_props), Known bugs and planned improvements (meta_props), Documentation on multifiles (meta_props), Meta-properties
@comment node-name, next,  previous,  up
@section Documentation on internals (@code{meta_props})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{prop_abs/1 (prop)}}}
@temp
@end iftex
@prindex prop_abs/1 
@glindex prop_abs/1 
@deffn PROPERTY prop_abs/1:


@code{prop_abs(Prop)}


@code{Prop} is a 
@coindex property abstraction
@glindex property abstraction
@emph{property abstraction}, i.e., a 
@coindex parametric property
@glindex parametric property
@emph{parametric property}, or a term formed of property abstractions, where the functors used in the term are escaped by @code{^}. 

One particular case of property abstractions are 
@coindex parametric regular type abstractions
@glindex parametric regular type abstractions
@emph{parametric regular type abstractions}, i.e., a parametric type functor or a @code{^}-escaped term formed of regular type abstractions. 

Such abstractions are a short-hand for a corresponding regular type (correspondingly, property). For example, the following abstraction: 
@smallexample 
         ^(list;list);list
        @end smallexample  
denotes terms of the form @code{(X;Y)} where @code{list(X)} and @code{list(Y)} hold and also terms @code{T} such that @code{list(T)} holds. It is equivalent to the regular type: 
@smallexample 
         abstract_type((X;Y)):- list(X), list(Y).
         abstract_type(T):- list(T).
        @end smallexample  



The predicate is of type @emph{implicit}.


@strong{Usage:} @code{prop_abs(Prop)}
@itemize @minus
@item @emph{Description:} @code{Prop} is a 
@glindex property abstraction
property abstraction. 
@end itemize
@end deffn
@sp 1



@node Known bugs and planned improvements (meta_props),  , Documentation on internals (meta_props), Meta-properties
@comment node-name, next,  previous,  up
@section Known bugs and planned improvements (@code{meta_props})

@itemize @bullet{}

@item
Using a hook predicate is not very elegant. Need something else.

@item
The cut in the hook prevents backtracking (enough for most uses of properties but not quite ok).
@end itemize

@c (component)


@node ISO-Prolog modes, Classical Prolog modes, Meta-properties, Top
@comment node-name, next,  previous,  up
@chapter ISO-Prolog modes
@liindex isomodes
@c -------------------------------------------------
@c WARNING: Do not edit this file (isomodes_doc.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/isomodes_doc.pl
@c -------------------------------------------------

@strong{Author(s):} Daniel Cabeza, Manuel Hermenegildo.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 1.3#112 (1999/11/23, 1:8:50 MET)

This file defines the ``
@glindex modes
modes'' used in the documentation of the ISO-Prolog standard. See also @ref{Classical Prolog modes} for an alternative set of modes.



@menu
* Usage and interface (isomodes)::  
* Documentation on new modes (isomodes)::  
@end menu

@node Usage and interface (isomodes), Documentation on new modes (isomodes), ISO-Prolog modes, ISO-Prolog modes
@comment node-name, next,  previous,  up
@section Usage and interface (@code{isomodes})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_package([assertions,isomodes]).}

@item @strong{New operators defined:}

@glindex ?/1
@code{?/1} [200,fy], 
@glindex @@/1
@code{@@/1} [200,fy].

@item @strong{New modes defined:}

@glindex +/1
@code{+/1}, 
@glindex @@/1
@code{@@/1}, 
@glindex -/1
@code{-/1}, 
@glindex ?/1
@code{?/1}, 
@glindex */1
@code{*/1}, 
@glindex +/2
@code{+/2}, 
@glindex @@/2
@code{@@/2}, 
@glindex -/2
@code{-/2}, 
@glindex ?/2
@code{?/2}, 
@glindex */2
@code{*/2}.


@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex assertions/meta_props
@code{assertions/meta_props}.


@end itemize

@end itemize
@end cartouche


@node Documentation on new modes (isomodes),  , Usage and interface (isomodes), ISO-Prolog modes
@comment node-name, next,  previous,  up
@section Documentation on new modes (@code{isomodes})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{(+)/1 (modedef)}}}
@temp
@end iftex
@glindex +/1 
@deffn MODE +/1:






@strong{Usage:} @code{+ A}
@itemize @minus
@item @emph{The following properties are added at call time:}


@code{A} is currently a term which is not a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:nonvar/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{@@ /1 (modedef)}}}
@temp
@end iftex
@glindex @@/1 
@deffn MODE @@/1:






@strong{Usage:} @code{@@(A)}
@itemize @minus
@item @emph{The following properties are added globally:}


@code{A} is not further instantiated.
@iftex
@hfill
@end iftex
 (@code{basic_props:not_further_inst/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{(-)/1 (modedef)}}}
@temp
@end iftex
@glindex -/1 
@deffn MODE -/1:






@strong{Usage:} @code{- A}
@itemize @minus
@item @emph{The following properties are added at call time:}


@code{A} is a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:var/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{? /1 (modedef)}}}
@temp
@end iftex
@glindex ?/1 
@deffn MODE ?/1:



Unspecified argument.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{* /1 (modedef)}}}
@temp
@end iftex
@glindex */1 
@deffn MODE */1:



Unspecified argument.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{(+)/2 (modedef)}}}
@temp
@end iftex
@glindex +/2 
@deffn MODE +/2:






@strong{Usage:} @code{A + X}
@itemize @minus
@item @emph{The following properties are added at call time:}


@code{A} has property @code{X}.
@iftex
@hfill
@end iftex
 (@code{meta_props:call/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{@@ /2 (modedef)}}}
@temp
@end iftex
@glindex @@/2 
@deffn MODE @@/2:






@strong{Usage:} @code{@@(A,X)}
@itemize @minus
@item @emph{The following properties are added at call time:}


@code{A} has property @code{X}.
@iftex
@hfill
@end iftex
 (@code{meta_props:call/2})
@item @emph{The following properties are added upon exit:}


@code{A} has property @code{X}.
@iftex
@hfill
@end iftex
 (@code{meta_props:call/2})
@item @emph{The following properties are added globally:}


@code{A} is not further instantiated.
@iftex
@hfill
@end iftex
 (@code{basic_props:not_further_inst/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{(-)/2 (modedef)}}}
@temp
@end iftex
@glindex -/2 
@deffn MODE -/2:






@strong{Usage:} @code{A - X}
@itemize @minus
@item @emph{The following properties are added at call time:}


@code{A} is a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:var/1})
@item @emph{The following properties are added upon exit:}


@code{A} has property @code{X}.
@iftex
@hfill
@end iftex
 (@code{meta_props:call/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{? /2 (modedef)}}}
@temp
@end iftex
@glindex ?/2 
@deffn MODE ?/2:






@strong{Usage:} @code{?(A,X)}
@itemize @minus
@item @emph{Call and exit are @emph{compatible} with:}


@code{A} has property @code{X}.
@iftex
@hfill
@end iftex
 (@code{meta_props:call/2})
@item @emph{The following properties are added upon exit:}


@code{A} has property @code{X}.
@iftex
@hfill
@end iftex
 (@code{meta_props:call/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{* /2 (modedef)}}}
@temp
@end iftex
@glindex */2 
@deffn MODE */2:






@strong{Usage:} @code{A * X}
@itemize @minus
@item @emph{Call and exit are @emph{compatible} with:}


@code{A} has property @code{X}.
@iftex
@hfill
@end iftex
 (@code{meta_props:call/2})
@end itemize
@end deffn
@sp 1


@c (component)


@node Classical Prolog modes, Run-time checking of assertions, ISO-Prolog modes, Top
@comment node-name, next,  previous,  up
@chapter Classical Prolog modes
@liindex basicmodes
@c -------------------------------------------------
@c WARNING: Do not edit this file (basicmodes_doc.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/basicmodes_doc.pl
@c -------------------------------------------------

@strong{Author(s):} Manuel Hermenegildo.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 0.8#43 (1999/3/6, 18:39:38 CET)

This file defines a number of very simple ``
@glindex modes
modes'' which are frequently useful in programs. These correspond to the modes used in classical Prolog texts with some simple addtions. Note that some of these modes use the same symbol as one of the ISO-modes (see @ref{ISO-Prolog modes}) but with subtly different meaning.



@menu
* Usage and interface (basicmodes)::  
* Documentation on new modes (basicmodes)::  
@end menu

@node Usage and interface (basicmodes), Documentation on new modes (basicmodes), Classical Prolog modes, Classical Prolog modes
@comment node-name, next,  previous,  up
@section Usage and interface (@code{basicmodes})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

:- use_package([assertions,basicmodes]).

@item @strong{New operators defined:}

@glindex ?/1
@code{?/1} [500,fx], 
@glindex @@/1
@code{@@/1} [500,fx].

@item @strong{New modes defined:}

@glindex +/1
@code{+/1}, 
@glindex -/1
@code{-/1}, 
@glindex ?/1
@code{?/1}, 
@glindex @@/1
@code{@@/1}, 
@glindex in/1
@code{in/1}, 
@glindex out/1
@code{out/1}, 
@glindex go/1
@code{go/1}, 
@glindex +/2
@code{+/2}, 
@glindex -/2
@code{-/2}, 
@glindex ?/2
@code{?/2}, 
@glindex @@/2
@code{@@/2}, 
@glindex in/2
@code{in/2}, 
@glindex out/2
@code{out/2}, 
@glindex go/2
@code{go/2}.


@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex assertions/meta_props
@code{assertions/meta_props}.


@end itemize

@end itemize
@end cartouche


@node Documentation on new modes (basicmodes),  , Usage and interface (basicmodes), Classical Prolog modes
@comment node-name, next,  previous,  up
@section Documentation on new modes (@code{basicmodes})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{(+)/1 (modedef)}}}
@temp
@end iftex
@glindex +/1 
@deffn MODE +/1:



Input value in argument.


@strong{Usage:} @code{+ A}
@itemize @minus
@item @emph{The following properties are added at call time:}


@code{A} is currently a term which is not a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:nonvar/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{(-)/1 (modedef)}}}
@temp
@end iftex
@glindex -/1 
@deffn MODE -/1:



No input value in argument.


@strong{Usage:} @code{- A}
@itemize @minus
@item @emph{The following properties are added at call time:}


@code{A} is a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:var/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{? /1 (modedef)}}}
@temp
@end iftex
@glindex ?/1 
@deffn MODE ?/1:



Unspecified argument.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{@@ /1 (modedef)}}}
@temp
@end iftex
@glindex @@/1 
@deffn MODE @@/1:



No output value in argument.


@strong{Usage:} @code{@@(A)}
@itemize @minus
@item @emph{The following properties are added globally:}


@code{A} is not further instantiated.
@iftex
@hfill
@end iftex
 (@code{basic_props:not_further_inst/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{in/1 (modedef)}}}
@temp
@end iftex
@glindex in/1 
@deffn MODE in/1:



Input argument.


@strong{Usage:} @code{in(A)}
@itemize @minus
@item @emph{The following properties are added at call time:}


@code{A} is currently ground (it contains no variables).
@iftex
@hfill
@end iftex
 (@code{term_typing:ground/1})
@item @emph{The following properties are added upon exit:}


@code{A} is currently ground (it contains no variables).
@iftex
@hfill
@end iftex
 (@code{term_typing:ground/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{out/1 (modedef)}}}
@temp
@end iftex
@glindex out/1 
@deffn MODE out/1:



Output argument.


@strong{Usage:} @code{out(A)}
@itemize @minus
@item @emph{The following properties are added at call time:}


@code{A} is a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:var/1})
@item @emph{The following properties are added upon exit:}


@code{A} is currently ground (it contains no variables).
@iftex
@hfill
@end iftex
 (@code{term_typing:ground/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{go/1 (modedef)}}}
@temp
@end iftex
@glindex go/1 
@deffn MODE go/1:



Ground output (input/output argument).


@strong{Usage:} @code{go(A)}
@itemize @minus
@item @emph{The following properties are added upon exit:}


@code{A} is currently ground (it contains no variables).
@iftex
@hfill
@end iftex
 (@code{term_typing:ground/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{(+)/2 (modedef)}}}
@temp
@end iftex
@glindex +/2 
@deffn MODE +/2:






@strong{Usage:} @code{A + X}
@itemize @minus
@item @emph{Call and exit are @emph{compatible} with:}


@code{A} has property @code{X}.
@iftex
@hfill
@end iftex
 (@code{meta_props:call/2})
@item @emph{The following properties are added at call time:}


@code{A} is currently a term which is not a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:nonvar/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{(-)/2 (modedef)}}}
@temp
@end iftex
@glindex -/2 
@deffn MODE -/2:






@strong{Usage:} @code{A - X}
@itemize @minus
@item @emph{Call and exit are @emph{compatible} with:}


@code{A} has property @code{X}.
@iftex
@hfill
@end iftex
 (@code{meta_props:call/2})
@item @emph{The following properties are added at call time:}


@code{A} is a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:var/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{? /2 (modedef)}}}
@temp
@end iftex
@glindex ?/2 
@deffn MODE ?/2:






@strong{Usage:} @code{?(A,X)}
@itemize @minus
@item @emph{Call and exit are @emph{compatible} with:}


@code{A} has property @code{X}.
@iftex
@hfill
@end iftex
 (@code{meta_props:call/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{@@ /2 (modedef)}}}
@temp
@end iftex
@glindex @@/2 
@deffn MODE @@/2:






@strong{Usage:} @code{@@(A,X)}
@itemize @minus
@item @emph{Call and exit are @emph{compatible} with:}


@code{A} has property @code{X}.
@iftex
@hfill
@end iftex
 (@code{meta_props:call/2})
@item @emph{The following properties are added globally:}


@code{A} is not further instantiated.
@iftex
@hfill
@end iftex
 (@code{basic_props:not_further_inst/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{in/2 (modedef)}}}
@temp
@end iftex
@glindex in/2 
@deffn MODE in/2:






@strong{Usage:} @code{in(A,X)}
@itemize @minus
@item @emph{Call and exit are @emph{compatible} with:}


@code{A} has property @code{X}.
@iftex
@hfill
@end iftex
 (@code{meta_props:call/2})
@item @emph{The following properties are added at call time:}


@code{A} is currently ground (it contains no variables).
@iftex
@hfill
@end iftex
 (@code{term_typing:ground/1})
@item @emph{The following properties are added upon exit:}


@code{A} is currently ground (it contains no variables).
@iftex
@hfill
@end iftex
 (@code{term_typing:ground/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{out/2 (modedef)}}}
@temp
@end iftex
@glindex out/2 
@deffn MODE out/2:






@strong{Usage:} @code{out(A,X)}
@itemize @minus
@item @emph{Call and exit are @emph{compatible} with:}


@code{A} has property @code{X}.
@iftex
@hfill
@end iftex
 (@code{meta_props:call/2})
@item @emph{The following properties are added at call time:}


@code{A} is a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:var/1})
@item @emph{The following properties are added upon exit:}


@code{A} is currently ground (it contains no variables).
@iftex
@hfill
@end iftex
 (@code{term_typing:ground/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{go/2 (modedef)}}}
@temp
@end iftex
@glindex go/2 
@deffn MODE go/2:






@strong{Usage:} @code{go(A,X)}
@itemize @minus
@item @emph{Call and exit are @emph{compatible} with:}


@code{A} has property @code{X}.
@iftex
@hfill
@end iftex
 (@code{meta_props:call/2})
@item @emph{The following properties are added upon exit:}


@code{A} is currently ground (it contains no variables).
@iftex
@hfill
@end iftex
 (@code{term_typing:ground/1})
@end itemize
@end deffn
@sp 1


@c (component)


@node Run-time checking of assertions, *** PART VI - Ciao Prolog library miscellanea, Classical Prolog modes, Top
@comment node-name, next,  previous,  up
@chapter Run-time checking of assertions
@liindex rtchecks
@c -------------------------------------------------
@c WARNING: Do not edit this file (rtchecks_doc.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/rtchecks_doc.pl
@c -------------------------------------------------

@strong{Author(s):} German Puebla.


This library package allows the use of run-time checks for the assertions introduced in a program. 

The recommended way of performing 
@coindex run-time checks
@glindex run-time checks
@emph{run-time checks} of predicate assertions in a program is via the Ciao preprocessor (see @code{ciaopp} manual), which performs the required program transformation. However, this package can also be used to perform checking of program-point assertions. 



@menu
* Usage and interface (rtchecks)::  
* Documentation on exports (rtchecks)::	 
* Documentation on multifiles (rtchecks)::  
* Known bugs and planned improvements (rtchecks)::  
@end menu

@node Usage and interface (rtchecks), Documentation on exports (rtchecks), Run-time checking of assertions, Run-time checking of assertions
@comment node-name, next,  previous,  up
@section Usage and interface (@code{rtchecks})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_package(rtchecks).}

or

@code{:- module(...,...,[rtchecks]).}

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex check/1
@code{check/1}.


@item @emph{Multifiles:}

@glindex callme/2
@code{callme/2}.


@end itemize


@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex assertions/meta_props
@code{assertions/meta_props}, 
@glindex metaterms
@code{metaterms}, 
@glindex write
@code{write}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (rtchecks), Documentation on multifiles (rtchecks), Usage and interface (rtchecks), Run-time checking of assertions
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{rtchecks})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{check/1 (pred)}}}
@temp
@end iftex
@pdindex check/1 
@glindex check/1 
@deffn PREDICATE check/1:


@code{check(Property)}


Checks whether the property defined by @code{Property} holds. Otherwise, a warning message is issued. It corresponds to a program-point 
@glindex check assertion
check assertion (see @ref{The Ciao assertion package}).


@strong{Usage:} @code{check(Property)}
@itemize @minus
@item @emph{The following properties should hold at call time:}


@code{Property} is of type @code{^ (list;list);list}.
@iftex
@hfill
@end iftex
 (@code{meta_props:regtype/2})
@end itemize
@end deffn
@sp 1



@node Documentation on multifiles (rtchecks), Known bugs and planned improvements (rtchecks), Documentation on exports (rtchecks), Run-time checking of assertions
@comment node-name, next,  previous,  up
@section Documentation on multifiles (@code{rtchecks})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{callme/2 (pred)}}}
@temp
@end iftex
@pdindex callme/2 
@glindex callme/2 
@deffn PREDICATE callme/2:



No further documentation available for this predicate.


The predicate is @emph{multifile}.

@end deffn
@sp 1



@node Known bugs and planned improvements (rtchecks),  , Documentation on multifiles (rtchecks), Run-time checking of assertions
@comment node-name, next,  previous,  up
@section Known bugs and planned improvements (@code{rtchecks})

@itemize @bullet{}

@item
All the code in this package is included in the user program when it is used, ant there is a lot of it! A module should be used instead.

@item
@code{check/1} uses lists instead of "proper" properties.
@end itemize

@c (component)


@node *** PART VI - Ciao Prolog library miscellanea, Operating system utilities, Run-time checking of assertions, Top
@comment node-name, next,  previous,  up
@unnumbered PART VI - Ciao Prolog library miscellanea
@iftex
@vfill
@cartouche
@sp
@ 
@end iftex
@c -------------------------------------------------
@c WARNING: Do not edit this file (MiscProlog.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/doc/common/MiscProlog.pl
@c -------------------------------------------------


This part documents several Ciao libraries which provide different useful functionalities. Such functionalities include operating system calls, statistics from the Prolog engine, file manipulation, error and interruption protection of calls, program reporting messages, printing programs, an on-line browser of libraries, etc.

@iftex
@sp 
@end cartouche
@vfill
@end iftex

@c (component)


@node Operating system utilities, Prolog system internal predicates, *** PART VI - Ciao Prolog library miscellanea, Top
@comment node-name, next,  previous,  up
@chapter Operating system utilities
@liindex system
@c -------------------------------------------------
@c WARNING: Do not edit this file (system.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/system.pl
@c -------------------------------------------------

@strong{Author(s):} Daniel Cabeza, Manuel Carro.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 1.3#50 (1999/9/8, 22:35:15 MEST)

This module contains predicates for invoking services which are typically provided by the operating system. Note that the predicates which take names of files or directories as arguments in this module expect atoms, not 
@glindex path alias
path aliases. I.e., generally these predicates will not call 
@glindex absolute_file_name/2
@code{absolute_file_name/2} on names of files or directories taken as arguments.



@menu
* Usage and interface (system)::  
* Documentation on exports (system)::  
@end menu

@node Usage and interface (system), Documentation on exports (system), Operating system utilities, Operating system utilities
@comment node-name, next,  previous,  up
@section Usage and interface (@code{system})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(system)).}

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex pause/1
@code{pause/1}, 
@glindex time/1
@code{time/1}, 
@glindex datime/1
@code{datime/1}, 
@glindex datime/9
@code{datime/9}, 
@glindex getenvstr/2
@code{getenvstr/2}, 
@glindex extract_paths/2
@code{extract_paths/2}, 
@glindex get_pid/1
@code{get_pid/1}, 
@glindex current_host/1
@code{current_host/1}, 
@glindex current_executable/1
@code{current_executable/1}, 
@glindex umask/2
@code{umask/2}, 
@glindex working_directory/2
@code{working_directory/2}, 
@glindex cd/1
@code{cd/1}, 
@glindex shell/0
@code{shell/0}, 
@glindex shell/1
@code{shell/1}, 
@glindex shell/2
@code{shell/2}, 
@glindex system/1
@code{system/1}, 
@glindex system/2
@code{system/2}, 
@glindex popen/3
@code{popen/3}, 
@glindex exec/4
@code{exec/4}, 
@glindex exec/3
@code{exec/3}, 
@glindex directory_files/2
@code{directory_files/2}, 
@glindex mktemp/2
@code{mktemp/2}, 
@glindex file_exists/1
@code{file_exists/1}, 
@glindex file_exists/2
@code{file_exists/2}, 
@glindex file_property/2
@code{file_property/2}, 
@glindex file_properties/6
@code{file_properties/6}, 
@glindex modif_time/2
@code{modif_time/2}, 
@glindex modif_time0/2
@code{modif_time0/2}, 
@glindex fmode/2
@code{fmode/2}, 
@glindex chmod/2
@code{chmod/2}, 
@glindex chmod/3
@code{chmod/3}, 
@glindex delete_file/1
@code{delete_file/1}.


@item @emph{Regular Types:}

@glindex datime_struct/1
@code{datime_struct/1}, 
@glindex popen_mode/1
@code{popen_mode/1}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (system),  , Usage and interface (system), Operating system utilities
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{system})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{pause/1 (pred)}}}
@temp
@end iftex
@pdindex pause/1 
@glindex pause/1 
@deffn PREDICATE pause/1:


@code{pause(Seconds)}


Make this thread sleep for some @code{Seconds}.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{pause(+int)}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{time/1 (pred)}}}
@temp
@end iftex
@pdindex time/1 
@glindex time/1 
@deffn PREDICATE time/1:


@code{time(Time)}


@code{Time} is unified with the number of seconds elapsed since January, 1, 1970 (UTC).


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{time(?(int))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{datime/1 (pred)}}}
@temp
@end iftex
@pdindex datime/1 
@glindex datime/1 
@deffn PREDICATE datime/1:


@code{datime(Datime)}


@code{Datime} is unified with a term of the form @code{datime(Year,Month,Day,Hour,Minute,Second)} which contains the current date and time.


@strong{Usage:} @code{datime(?(datime_struct))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{datime/9 (pred)}}}
@temp
@end iftex
@pdindex datime/9 
@glindex datime/9 
@deffn PREDICATE datime/9:


@code{datime(Time,Year,Month,Day,Hour,Min,Sec,WeekDay,YearDay)}


@code{Time} is as in 
@glindex time/1
@code{time/1}. If given, the rest of the arguments are unified with the date and time to which the @code{Time} argument refers. If @code{Time} is unbound, it is bound to current time and the rest of the arguments refer to current time. @code{WeekDay} is the number of days since Sunday, in the range 0 to 6. @code{YearDay} is the number of days since January 1, in the range 0 to 365.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{datime(?(int),?(int),?(int),?(int),?(int),?(int),?(int),?(int),?(int))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{datime_struct/1 (regtype)}}}
@temp
@end iftex
@teindex datime_struct/1 
@glindex datime_struct/1 
@deffn REGTYPE datime_struct/1:



A regular type, defined as follows:
@smallexample 
@smallexample 
datime_struct(datime(Year,Month,Day,Hour,Min,Sec)) :-
        int(Year),
        int(Month),
        int(Day),
        int(Hour),
        int(Min),
        int(Sec).
@end smallexample 
@end smallexample 



@strong{Usage:} 
@itemize @minus
@item @emph{The following properties hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{getenvstr/2 (pred)}}}
@temp
@end iftex
@pdindex getenvstr/2 
@glindex getenvstr/2 
@deffn PREDICATE getenvstr/2:


@code{getenvstr(Name,Value)}


The environment variable @code{Name} has @code{Value}. Fails if variable @code{Name} is not defined.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{getenvstr(+atm,?(string))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{extract_paths/2 (pred)}}}
@temp
@end iftex
@pdindex extract_paths/2 
@glindex extract_paths/2 
@deffn PREDICATE extract_paths/2:


@code{extract_paths(String,Paths)}


Interpret @code{String} as the value of a UNIX environment variable holding a list of paths and return in @code{Paths} the list of the paths. Paths in @code{String} are separated by colons, and an empty path is considered a shorthand for '.' (current path). The most typical environment variable with this format is PATH. For example, this is a typical use: 
@smallexample 
?- set_prolog_flag(write_strings, on).

yes
?- getenvstr('PATH', PATH), extract_paths(PATH, Paths).

PATH = ":/home/bardo/bin:/home/clip/bin:/opt/bin/:/bin",
Paths = [".","/home/bardo/bin","/home/clip/bin","/opt/bin/","/bin"] ?

yes
?- 
@end smallexample  



@strong{Usage:} @code{extract_paths(+string,?(list(string)))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{get_pid/1 (pred)}}}
@temp
@end iftex
@pdindex get_pid/1 
@glindex get_pid/1 
@deffn PREDICATE get_pid/1:


@code{get_pid(Pid)}


Unifies @code{Pid} with the process identificator of the current process or thread.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{get_pid(?(int))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{current_host/1 (pred)}}}
@temp
@end iftex
@pdindex current_host/1 
@glindex current_host/1 
@deffn PREDICATE current_host/1:


@code{current_host(Hostname)}


@code{Hostname} is unified with the fully qualified name of the host.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{current_host(?(atm))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{current_executable/1 (pred)}}}
@temp
@end iftex
@pdindex current_executable/1 
@glindex current_executable/1 
@deffn PREDICATE current_executable/1:


@code{current_executable(Path)}


Unifies @code{Path} with the path to the current executable.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{current_executable(?(atm))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{umask/2 (pred)}}}
@temp
@end iftex
@pdindex umask/2 
@glindex umask/2 
@deffn PREDICATE umask/2:


@code{umask(OldMask,NewMask)}


The process file creation mask was @code{OldMask}, and it is changed to @code{NewMask}.


The predicate is of type @emph{implicit}.


@strong{Usage 1:} @code{umask(?(int),+int)}
@itemize @minus
@end itemize

@strong{Usage 2:} @code{umask(OldMask,NewMask)}
@itemize @minus
@item @emph{Description:} Gets the process file creation mask without changing it. 
@item @emph{The following properties should hold at call time:}


@code{OldMask} is a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:var/1})

@code{NewMask} is a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:var/1})

The terms @code{OldMask} and @code{NewMask} are strictly identical.
@iftex
@hfill
@end iftex
 (@code{term_compare:== /2})
@item @emph{The following properties hold upon exit:}


@code{OldMask} is an integer.
@iftex
@hfill
@end iftex
 (@code{basic_props:int/1})

@code{NewMask} is an integer.
@iftex
@hfill
@end iftex
 (@code{basic_props:int/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{working_directory/2 (pred)}}}
@temp
@end iftex
@pdindex working_directory/2 
@glindex working_directory/2 
@deffn PREDICATE working_directory/2:


@code{working_directory(OldDir,NewDir)}


Unifies current working directory with @code{OldDir}, and then changes the working directory to @code{NewDir}. Calling @code{working_directory(Dir,Dir)} simply unifies @code{Dir} with the current working directory without changing anything else.


The predicate is of type @emph{implicit}.


@strong{Usage 1:} @code{working_directory(?(atm),+atm)}
@itemize @minus
@end itemize

@strong{Usage 2:} @code{working_directory(OldDir,NewDir)}
@itemize @minus
@item @emph{Description:} Gets current working directory. 
@item @emph{The following properties should hold at call time:}


@code{OldDir} is a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:var/1})

@code{NewDir} is a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:var/1})

The terms @code{OldDir} and @code{NewDir} are strictly identical.
@iftex
@hfill
@end iftex
 (@code{term_compare:== /2})
@item @emph{The following properties hold upon exit:}


@code{OldDir} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})

@code{NewDir} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{cd/1 (pred)}}}
@temp
@end iftex
@pdindex cd/1 
@glindex cd/1 
@deffn PREDICATE cd/1:


@code{cd(Path)}


Changes working directory to @code{Path}.


@strong{Usage:} @code{cd(+atm)}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{shell/0 (pred)}}}
@temp
@end iftex
@pdindex shell/0 
@glindex shell/0 
@deffn PREDICATE shell/0:






The predicate is of type @emph{implicit}.


@strong{Usage:} 
@itemize @minus
@item @emph{Description:} Execs the shell specified by the environment variable @code{SHELL}. When the shell process terminates, control is returned to Prolog. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{shell/1 (pred)}}}
@temp
@end iftex
@pdindex shell/1 
@glindex shell/1 
@deffn PREDICATE shell/1:


@code{shell(Command)}


@code{Command} is executed in the shell specified by the environment variable @code{SHELL}. It succeeds if the exit code is zero and fails otherwise.


@strong{Usage:} @code{shell(+atm)}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{shell/2 (pred)}}}
@temp
@end iftex
@pdindex shell/2 
@glindex shell/2 
@deffn PREDICATE shell/2:


@code{shell(Command,ReturnCode)}


Executes @code{Command} in the shell specified by the environment variable @code{SHELL} and stores the exit code in @code{ReturnCode}.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{shell(+atm,?(int))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{system/1 (pred)}}}
@temp
@end iftex
@pdindex system/1 
@glindex system/1 
@deffn PREDICATE system/1:


@code{system(Command)}


Executes @code{Command} using the shell 
@glindex /bin/sh
@code{/bin/sh}.


@strong{Usage:} @code{system(+atm)}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{system/2 (pred)}}}
@temp
@end iftex
@pdindex system/2 
@glindex system/2 
@deffn PREDICATE system/2:


@code{system(Command,ReturnCode)}


Executes @code{Command} in the 
@glindex /bin/sh
@code{/bin/sh} shell and stores the exit code in @code{ReturnCode}.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{system(+atm,?(int))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{popen/3 (pred)}}}
@temp
@end iftex
@pdindex popen/3 
@glindex popen/3 
@deffn PREDICATE popen/3:


@code{popen(Command,Mode,Stream)}


Open a pipe to process @code{Command} in a new shell with a given @code{Mode} and return a communication @code{Stream} (as in UNIX @code{popen(3)}). If @code{Mode} is @code{read} the output from the process is sent to @code{Stream}. If @code{Mode} is @code{write}, @code{Stream} is sent as input to the process. @code{Stream} may be read from or written into using the ordinary stream I/O predicates. @code{Stream} must be closed explicitly using 
@glindex close/1
@code{close/1}, i.e., it is not closed automatically when the process dies. 




@strong{Usage:} @code{popen(+atm,+popen_mode,-(stream))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{popen_mode/1 (regtype)}}}
@temp
@end iftex
@teindex popen_mode/1 
@glindex popen_mode/1 
@deffn REGTYPE popen_mode/1:






@strong{Usage:} @code{popen_mode(M)}
@itemize @minus
@item @emph{Description:} @code{M} is 'read' or 'write'. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{exec/4 (pred)}}}
@temp
@end iftex
@pdindex exec/4 
@glindex exec/4 
@deffn PREDICATE exec/4:


@code{exec(Command,StdIn,StdOut,StdErr)}


Starts the process @code{Command} and returns the I/O streams of the process in @code{StdIn}, @code{StdOut}, and @code{StdErr}.


@strong{Usage:} @code{exec(+atm,-(stream),-(stream),-(stream))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{exec/3 (pred)}}}
@temp
@end iftex
@pdindex exec/3 
@glindex exec/3 
@deffn PREDICATE exec/3:


@code{exec(Command,StdIn,StdOut)}


Starts the process @code{Command} and returns the I/O streams of the process in @code{StdIn} and @code{StdOut}. @code{Standard error} is connected to whichever the parent process had it connected to.


@strong{Usage:} @code{exec(+atm,-(stream),-(stream))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{directory_files/2 (pred)}}}
@temp
@end iftex
@pdindex directory_files/2 
@glindex directory_files/2 
@deffn PREDICATE directory_files/2:


@code{directory_files(Directory,FileList)}


@code{FileList} is the unordered list of entries (files, directories, etc.) in @code{Directory}.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{directory_files(+atm,?(list(atm)))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{mktemp/2 (pred)}}}
@temp
@end iftex
@pdindex mktemp/2 
@glindex mktemp/2 
@deffn PREDICATE mktemp/2:


@code{mktemp(Template,Filename)}


Returns a unique @code{Filename} based on @code{Template}: @code{Template} must be a valid file name with six trailing X, which are substituted to create a new file name.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{mktemp(+atm,?(atm))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{file_exists/1 (pred)}}}
@temp
@end iftex
@pdindex file_exists/1 
@glindex file_exists/1 
@deffn PREDICATE file_exists/1:


@code{file_exists(File)}


Succeeds if @code{File} (a file or directory) exists (and is accessible).


@strong{Usage:} @code{file_exists(+atm)}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{file_exists/2 (pred)}}}
@temp
@end iftex
@pdindex file_exists/2 
@glindex file_exists/2 
@deffn PREDICATE file_exists/2:


@code{file_exists(File,Mode)}


@code{File} (a file or directory) exists and it is accessible with @code{Mode}, as in the Unix call @code{access(2)}. Typically, @code{Mode} is 4 for read permission, 2 for write permission and 1 for execute permission.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{file_exists(+atm,+int)}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{file_property/2 (pred)}}}
@temp
@end iftex
@pdindex file_property/2 
@glindex file_property/2 
@deffn PREDICATE file_property/2:


@code{file_property(File,Property)}


@code{File} has the property @code{Property}. The possible properties are: 


@table @asis 


@item type(@code{Type}) 
@code{Type} is one of @code{regular}, @code{directory}, @code{symlink}, @code{fifo}, @code{socket} or @code{unknown}. 


@item linkto(@code{Linkto}) 
If @code{File} is a symbolic link, @code{Linkto} is the file pointed to by the link (and the other properties come from that file, not from the link itself). 


@item mod_time(@code{ModTime}) 
@code{ModTime} is the time of last modification (seconds since January, 1, 1970). 


@item mode(@code{Protection}) 
@code{Protection} is the protection mode. 


@item size(@code{Size}) 
@code{Size} is the size. 


@end table  

If @code{Property} is uninstantiated, the predicate will enumerate the properties on backtracking.


@strong{Usage:} @code{file_property(+atm,?(struct))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{file_properties/6 (pred)}}}
@temp
@end iftex
@pdindex file_properties/6 
@glindex file_properties/6 
@deffn PREDICATE file_properties/6:


@code{file_properties(Path,Type,Linkto,Time,Protection,Size)}


The file @code{Path} has the following properties: 


@itemize @bullet{} 


@item File type @code{Type} (one of @code{regular}, @code{directory}, @code{symlink}, @code{fifo}, @code{socket} or @code{unknown}). 


@item If @code{Path} is a symbolic link, @code{Linkto} is the file pointed to. All other properties come from the file pointed, not the link. @code{Linkto} is '' if @code{Path} is not a symbolic link. 


@item Time of last modification @code{Time} (seconds since January, 1, 1970). 


@item Protection mode @code{Protection}. 


@item Size in bytes @code{Size}. 


@end itemize  



The predicate is of type @emph{implicit}.


@strong{Usage:} @code{file_properties(+atm,?(atm),?(atm),?(int),?(int),?(int))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{modif_time/2 (pred)}}}
@temp
@end iftex
@pdindex modif_time/2 
@glindex modif_time/2 
@deffn PREDICATE modif_time/2:


@code{modif_time(File,Time)}


The file @code{File} was last modified at @code{Time}, which is in seconds since January, 1, 1970. Fails if @code{File} does not exist.


@strong{Usage:} @code{modif_time(+atm,?(int))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{modif_time0/2 (pred)}}}
@temp
@end iftex
@pdindex modif_time0/2 
@glindex modif_time0/2 
@deffn PREDICATE modif_time0/2:


@code{modif_time0(File,Time)}


If @code{File} exists, @code{Time} is its latest modification time, as in 
@glindex modif_time/2
@code{modif_time/2}. Otherwise, if @code{File} does not exist, @code{Time} is zero.


@strong{Usage:} @code{modif_time0(+atm,?(int))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{fmode/2 (pred)}}}
@temp
@end iftex
@pdindex fmode/2 
@glindex fmode/2 
@deffn PREDICATE fmode/2:


@code{fmode(File,Mode)}


The file @code{File} has protection mode @code{Mode}.


@strong{Usage:} @code{fmode(+atm,?(int))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{chmod/2 (pred)}}}
@temp
@end iftex
@pdindex chmod/2 
@glindex chmod/2 
@deffn PREDICATE chmod/2:


@code{chmod(File,NewMode)}


Change the protection mode of file @code{File} to @code{NewMode}.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{chmod(+atm,+int)}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{chmod/3 (pred)}}}
@temp
@end iftex
@pdindex chmod/3 
@glindex chmod/3 
@deffn PREDICATE chmod/3:


@code{chmod(File,OldMode,NewMode)}


The file @code{File} has protection mode @code{OldMode} and it is changed to @code{NewMode}.


@strong{Usage 1:} @code{chmod(+atm,?(int),+int)}
@itemize @minus
@end itemize

@strong{Usage 2:} @code{chmod(File,OldMode,NewMode)}
@itemize @minus
@item @emph{Description:} Equivalent to fmode(@code{File},@code{OldMode}) 
@item @emph{The following properties should hold at call time:}


@code{File} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})

@code{OldMode} is a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:var/1})

@code{NewMode} is a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:var/1})

The terms @code{OldMode} and @code{NewMode} are strictly identical.
@iftex
@hfill
@end iftex
 (@code{term_compare:== /2})
@item @emph{The following properties hold upon exit:}


@code{File} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})

@code{OldMode} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})

@code{NewMode} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{delete_file/1 (pred)}}}
@temp
@end iftex
@pdindex delete_file/1 
@glindex delete_file/1 
@deffn PREDICATE delete_file/1:


@code{delete_file(File)}


Delete the file @code{File}.


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{delete_file(+atm)}
@itemize @minus
@end itemize
@end deffn
@sp 1


@c (component)


@node Prolog system internal predicates, ctrlcclean (library), Operating system utilities, Top
@comment node-name, next,  previous,  up
@chapter Prolog system internal predicates
@liindex prolog_sys
@c -------------------------------------------------
@c WARNING: Do not edit this file (prolog_sys.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/prolog_sys.pl
@c -------------------------------------------------

@strong{Author(s):} Manuel Carro, Daniel Cabeza, Mats Carlsson.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 1.3#94 (1999/11/8, 18:36:7 MET)

This module implements some miscellaneous predicates which provide access to some internal statistics, special properties of the predicates, etc.



@menu
* Usage and interface (prolog_sys)::  
* Documentation on exports (prolog_sys)::  
* Documentation on internals (prolog_sys)::  
* Known bugs and planned improvements (prolog_sys)::  
@end menu

@node Usage and interface (prolog_sys), Documentation on exports (prolog_sys), Prolog system internal predicates, Prolog system internal predicates
@comment node-name, next,  previous,  up
@section Usage and interface (@code{prolog_sys})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(prolog_sys)).}

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex statistics/2
@code{statistics/2}, 
@glindex predicate_property/2
@code{predicate_property/2}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (prolog_sys), Documentation on internals (prolog_sys), Usage and interface (prolog_sys), Prolog system internal predicates
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{prolog_sys})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{statistics/0 (pred)}}}
@temp
@end iftex
@pdindex statistics/0 
@glindex statistics/0 
@deffn PREDICATE statistics/0:



No further documentation available for this predicate.


The predicate is of type @emph{implicit}.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{statistics/2 (pred)}}}
@temp
@end iftex
@pdindex statistics/2 
@glindex statistics/2 
@deffn PREDICATE statistics/2:






@strong{Usage 1:} @code{statistics(Time_option,Time_result)}
@itemize @minus
@item @emph{Description:} Gather information about time (either process time or wall time) since last consult or since start of program. Results are returned in milliseconds. 
@item @emph{The following properties should hold at call time:}


@code{Time_option} is any term.
@iftex
@hfill
@end iftex
 (@code{basic_props:term/1})

@code{Time_result} is any term.
@iftex
@hfill
@end iftex
 (@code{basic_props:term/1})
@item @emph{The following properties hold upon exit:}


Options to get information about execution time. @code{Time_option} must be one of @code{runtime}, @code{walltime}.
@iftex
@hfill
@end iftex
 (@code{prolog_sys:time_option/1})

@code{Time_result} is a two-element list of integers. The first integer is the time since the start of the execution; the second integer is the time since the previous consult to time.
@iftex
@hfill
@end iftex
 (@code{prolog_sys:time_result/1})
@end itemize

@strong{Usage 2:} @code{statistics(Memory_option,Memory_result)}
@itemize @minus
@item @emph{Description:} Gather information about memory consumption. 
@item @emph{The following properties should hold at call time:}


@code{Memory_option} is any term.
@iftex
@hfill
@end iftex
 (@code{basic_props:term/1})

@code{Memory_result} is any term.
@iftex
@hfill
@end iftex
 (@code{basic_props:term/1})
@item @emph{The following properties hold upon exit:}


Options to get information about memory usage.
@iftex
@hfill
@end iftex
 (@code{prolog_sys:memory_option/1})

Result is a two-element list of integers. The first element is the space taken up by the option selected, measured in bytes; the second integer is zero for program space (which grows as ncessary), and the amount of free space otherwise.
@iftex
@hfill
@end iftex
 (@code{prolog_sys:memory_result/1})
@end itemize

@strong{Usage 3:} @code{statistics(Garbage_collection_option,Gc_result)}
@itemize @minus
@item @emph{Description:} Gather information about garbage collection. 
@item @emph{The following properties should hold at call time:}


@code{Garbage_collection_option} is any term.
@iftex
@hfill
@end iftex
 (@code{basic_props:term/1})

@code{Gc_result} is any term.
@iftex
@hfill
@end iftex
 (@code{basic_props:term/1})
@item @emph{The following properties hold upon exit:}


Options to get information about garbage collection.
@iftex
@hfill
@end iftex
 (@code{prolog_sys:garbage_collection_option/1})

@code{Gc_result} is a tree-element list of integers, related to 
@glindex garbage collection
garbage collection and 
@glindex memory management
memory management. When @code{stack_shifts} is selected, the first one is the number of shifts (reallocations) of the local stack; the second is the number of shifts of the trail, and the third is the time spent in these shifts. When @code{garbage_collection} is selected, the numbers are, respectively, the number of garbage collections performed, the number of bytes freed, and the time spent in garbage collection.
@iftex
@hfill
@end iftex
 (@code{prolog_sys:gc_result/1})
@end itemize

@strong{Usage 4:} @code{statistics(Symbol_option,Symbol_result)}
@itemize @minus
@item @emph{Description:} Gather information about number of symbols and predicates. 
@item @emph{The following properties should hold at call time:}


@code{Symbol_option} is any term.
@iftex
@hfill
@end iftex
 (@code{basic_props:term/1})

@code{Symbol_result} is any term.
@iftex
@hfill
@end iftex
 (@code{basic_props:term/1})
@item @emph{The following properties hold upon exit:}


Option to get information about the number of symbols in the program.
@iftex
@hfill
@end iftex
 (@code{prolog_sys:symbol_option/1})

@code{Symbol_result} is a two-element list of integers. The first one is the number of atom, functor, and predicate names in the symbol table. The second is the number of predicates known to be defined (although maybe without clauses).
@iftex
@hfill
@end iftex
 (@code{prolog_sys:symbol_result/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{predicate_property/2 (pred)}}}
@temp
@end iftex
@pdindex predicate_property/2 
@glindex predicate_property/2 
@deffn PREDICATE predicate_property/2:






@strong{Usage:} @code{predicate_property(Head,Property)}
@itemize @minus
@item @emph{Description:} The predicate with clause @code{Head} is @code{Property}. 
@item @emph{The following properties should hold at call time:}


@code{Head} is any term.
@iftex
@hfill
@end iftex
 (@code{basic_props:term/1})

@code{Property} is any term.
@iftex
@hfill
@end iftex
 (@code{basic_props:term/1})
@item @emph{The following properties hold upon exit:}


@code{Head} is a term which represents a goal, i.e., an atom or a structure.
@iftex
@hfill
@end iftex
 (@code{basic_props:callable/1})

@code{Property} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{current_atom/1 (pred)}}}
@temp
@end iftex
@pdindex current_atom/1 
@glindex current_atom/1 
@deffn PREDICATE current_atom/1:



No further documentation available for this predicate.


The predicate is of type @emph{implicit}.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{current_predicate/2 (pred)}}}
@temp
@end iftex
@pdindex current_predicate/2 
@glindex current_predicate/2 
@deffn PREDICATE current_predicate/2:



No further documentation available for this predicate.


The predicate is of type @emph{implicit}.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{garbage_collect/0 (pred)}}}
@temp
@end iftex
@pdindex garbage_collect/0 
@glindex garbage_collect/0 
@deffn PREDICATE garbage_collect/0:



No further documentation available for this predicate.


The predicate is of type @emph{implicit}.

@end deffn
@sp 1



@node Documentation on internals (prolog_sys), Known bugs and planned improvements (prolog_sys), Documentation on exports (prolog_sys), Prolog system internal predicates
@comment node-name, next,  previous,  up
@section Documentation on internals (@code{prolog_sys})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{time_option/1 (regtype)}}}
@temp
@end iftex
@teindex time_option/1 
@glindex time_option/1 
@deffn REGTYPE time_option/1:






@strong{Usage:} @code{time_option(M)}
@itemize @minus
@item @emph{Description:} Options to get information about execution time. @code{M} must be one of @code{runtime}, @code{walltime}. 
@item @emph{The following properties hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{memory_option/1 (regtype)}}}
@temp
@end iftex
@teindex memory_option/1 
@glindex memory_option/1 
@deffn REGTYPE memory_option/1:






@strong{Usage:} @code{memory_option(M)}
@itemize @minus
@item @emph{Description:} Options to get information about memory usage. 
@item @emph{The following properties hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{garbage_collection_option/1 (regtype)}}}
@temp
@end iftex
@teindex garbage_collection_option/1 
@glindex garbage_collection_option/1 
@deffn REGTYPE garbage_collection_option/1:






@strong{Usage:} @code{garbage_collection_option(M)}
@itemize @minus
@item @emph{Description:} Options to get information about garbage collection. 
@item @emph{The following properties hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{symbol_option/1 (regtype)}}}
@temp
@end iftex
@teindex symbol_option/1 
@glindex symbol_option/1 
@deffn REGTYPE symbol_option/1:






@strong{Usage:} @code{symbol_option(M)}
@itemize @minus
@item @emph{Description:} Option to get information about the number of symbols in the program. 
@item @emph{The following properties hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{time_result/1 (regtype)}}}
@temp
@end iftex
@teindex time_result/1 
@glindex time_result/1 
@deffn REGTYPE time_result/1:






@strong{Usage:} @code{time_result(Result)}
@itemize @minus
@item @emph{Description:} @code{Result} is a two-element list of integers. The first integer is the time since the start of the execution; the second integer is the time since the previous consult to time. 
@item @emph{The following properties hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{memory_result/1 (regtype)}}}
@temp
@end iftex
@teindex memory_result/1 
@glindex memory_result/1 
@deffn REGTYPE memory_result/1:






@strong{Usage:} @code{memory_result(Result)}
@itemize @minus
@item @emph{Description:} Result is a two-element list of integers. The first element is the space taken up by the option selected, measured in bytes; the second integer is zero for program space (which grows as ncessary), and the amount of free space otherwise. 
@item @emph{The following properties hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{gc_result/1 (regtype)}}}
@temp
@end iftex
@teindex gc_result/1 
@glindex gc_result/1 
@deffn REGTYPE gc_result/1:






@strong{Usage:} @code{gc_result(Result)}
@itemize @minus
@item @emph{Description:} @code{Result} is a tree-element list of integers, related to 
@glindex garbage collection
garbage collection and 
@glindex memory management
memory management. When @code{stack_shifts} is selected, the first one is the number of shifts (reallocations) of the local stack; the second is the number of shifts of the trail, and the third is the time spent in these shifts. When @code{garbage_collection} is selected, the numbers are, respectively, the number of garbage collections performed, the number of bytes freed, and the time spent in garbage collection. 
@item @emph{The following properties hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{symbol_result/1 (regtype)}}}
@temp
@end iftex
@teindex symbol_result/1 
@glindex symbol_result/1 
@deffn REGTYPE symbol_result/1:






@strong{Usage:} @code{symbol_result(Result)}
@itemize @minus
@item @emph{Description:} @code{Result} is a two-element list of integers. The first one is the number of atom, functor, and predicate names in the symbol table. The second is the number of predicates known to be defined (although maybe without clauses). 
@item @emph{The following properties hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1



@node Known bugs and planned improvements (prolog_sys),  , Documentation on internals (prolog_sys), Prolog system internal predicates
@comment node-name, next,  previous,  up
@section Known bugs and planned improvements (@code{prolog_sys})

@itemize @bullet{}

@item
The space used by the process is not measured here: process data, code, and stack also take up memory. The memory reported for atoms is not what is actually used, but the space used up by the hash table (which is enlarged as needed).
@end itemize

@c (component)


@node ctrlcclean (library), errhandle (library), Prolog system internal predicates, Top
@comment node-name, next,  previous,  up
@chapter ctrlcclean (library)
@liindex ctrlcclean
@c -------------------------------------------------
@c WARNING: Do not edit this file (ctrlcclean.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/ctrlcclean.pl
@c -------------------------------------------------

@strong{Version:} 0.4#5 (1998/2/24)





@menu
* Usage and interface (ctrlcclean)::  
* Documentation on exports (ctrlcclean)::  
@end menu

@node Usage and interface (ctrlcclean), Documentation on exports (ctrlcclean), ctrlcclean (library), ctrlcclean (library)
@comment node-name, next,  previous,  up
@section Usage and interface (@code{ctrlcclean})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(ctrlcclean)).}

@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex system
@code{system}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (ctrlcclean),  , Usage and interface (ctrlcclean), ctrlcclean (library)
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{ctrlcclean})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{ctrlc_clean/1 (pred)}}}
@temp
@end iftex
@pdindex ctrlc_clean/1 
@glindex ctrlc_clean/1 
@deffn PREDICATE ctrlc_clean/1:



No further documentation available for this predicate.


@emph{Meta-predicate} with arguments: @code{ctrlc_clean(goal)}.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{delete_on_ctrlc/2 (pred)}}}
@temp
@end iftex
@pdindex delete_on_ctrlc/2 
@glindex delete_on_ctrlc/2 
@deffn PREDICATE delete_on_ctrlc/2:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{ctrlcclean/0 (pred)}}}
@temp
@end iftex
@pdindex ctrlcclean/0 
@glindex ctrlcclean/0 
@deffn PREDICATE ctrlcclean/0:



No further documentation available for this predicate.

@end deffn
@sp 1


@c (component)


@node errhandle (library), fastrw (library), ctrlcclean (library), Top
@comment node-name, next,  previous,  up
@chapter errhandle (library)
@liindex errhandle
@c -------------------------------------------------
@c WARNING: Do not edit this file (errhandle.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/errhandle.pl
@c -------------------------------------------------

@strong{Version:} 0.4#5 (1998/2/24)





@menu
* Usage and interface (errhandle)::  
* Documentation on exports (errhandle)::  
@end menu

@node Usage and interface (errhandle), Documentation on exports (errhandle), errhandle (library), errhandle (library)
@comment node-name, next,  previous,  up
@section Usage and interface (@code{errhandle})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(errhandle)).}
@end itemize
@end cartouche


@node Documentation on exports (errhandle),  , Usage and interface (errhandle), errhandle (library)
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{errhandle})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{error_protect/1 (pred)}}}
@temp
@end iftex
@pdindex error_protect/1 
@glindex error_protect/1 
@deffn PREDICATE error_protect/1:



No further documentation available for this predicate.


@emph{Meta-predicate} with arguments: @code{error_protect(goal)}.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{handle_error/2 (pred)}}}
@temp
@end iftex
@pdindex handle_error/2 
@glindex handle_error/2 
@deffn PREDICATE handle_error/2:



No further documentation available for this predicate.

@end deffn
@sp 1


@c (component)


@node fastrw (library), File name manipulation, errhandle (library), Top
@comment node-name, next,  previous,  up
@chapter fastrw (library)
@liindex fastrw
@c -------------------------------------------------
@c WARNING: Do not edit this file (fastrw.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/fastrw.pl
@c -------------------------------------------------

@strong{Version:} 0.4#5 (1998/2/24)





@menu
* Usage and interface (fastrw)::  
* Documentation on exports (fastrw)::  
@end menu

@node Usage and interface (fastrw), Documentation on exports (fastrw), fastrw (library), fastrw (library)
@comment node-name, next,  previous,  up
@section Usage and interface (@code{fastrw})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(fastrw)).}

@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex dict
@code{dict}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (fastrw),  , Usage and interface (fastrw), fastrw (library)
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{fastrw})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{fast_read/1 (pred)}}}
@temp
@end iftex
@pdindex fast_read/1 
@glindex fast_read/1 
@deffn PREDICATE fast_read/1:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{fast_write/1 (pred)}}}
@temp
@end iftex
@pdindex fast_write/1 
@glindex fast_write/1 
@deffn PREDICATE fast_write/1:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{fast_write_to_string/3 (pred)}}}
@temp
@end iftex
@pdindex fast_write_to_string/3 
@glindex fast_write_to_string/3 
@deffn PREDICATE fast_write_to_string/3:



No further documentation available for this predicate.

@end deffn
@sp 1


@c (component)


@node File name manipulation, file_utils (library), fastrw (library), Top
@comment node-name, next,  previous,  up
@chapter File name manipulation
@liindex filenames
@c -------------------------------------------------
@c WARNING: Do not edit this file (filenames.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/filenames.pl
@c -------------------------------------------------

@strong{Author(s):} Daniel Cabeza, Angel Fernandez Pineda.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 1.3#51 (1999/9/9, 16:28:44 MEST)

This library provides some small utilities to handle file name syntax.



@menu
* Usage and interface (filenames)::  
* Documentation on exports (filenames)::  
@end menu

@node Usage and interface (filenames), Documentation on exports (filenames), File name manipulation, File name manipulation
@comment node-name, next,  previous,  up
@section Usage and interface (@code{filenames})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(filenames)).}

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex no_path_file_name/2
@code{no_path_file_name/2}, 
@glindex file_name_extension/3
@code{file_name_extension/3}, 
@glindex basename/2
@code{basename/2}, 
@glindex extension/2
@code{extension/2}.


@end itemize


@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex lists
@code{lists}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (filenames),  , Usage and interface (filenames), File name manipulation
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{filenames})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{no_path_file_name/2 (pred)}}}
@temp
@end iftex
@pdindex no_path_file_name/2 
@glindex no_path_file_name/2 
@deffn PREDICATE no_path_file_name/2:



This predicate will extract the last item (usually the file name) from a given path. 

The first argument must be instantiated to a string or atom. Whenever the first argument is an atom, the second argument will be an atom. Whenever the first argument is a string, the second argument will be a string. 

This predicate will fail under any of the following conditions: 
@itemize @bullet{} 
@item First argument is not an atom, nor a string. 
@item Second argument is not the last given path item (given path is the first argument). 
@end itemize  

Those are the most usual usages of no_path_file_name/2: 
@smallexample 
?- no_path_file_name_("/home/nexusV/somefile.txt",K).

K = "somefile.txt" ? 

yes
?- no_path_file_name('/home/nexusV/somefile.txt',K).

K = 'somefile.txt' ? 

yes
?- 
@end smallexample  



@strong{Usage:} @code{no_path_file_name(Path,FileName)}
@itemize @minus
@item @emph{Description:} @code{FileName} is the file corresponding to the given @code{Path}. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{Path} is an atom or a string
@iftex
@hfill
@end iftex
 (@code{filenames:atom_or_str/1})

@code{FileName} is an atom or a string
@iftex
@hfill
@end iftex
 (@code{filenames:atom_or_str/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{file_name_extension/3 (pred)}}}
@temp
@end iftex
@pdindex file_name_extension/3 
@glindex file_name_extension/3 
@deffn PREDICATE file_name_extension/3:



This predicate may be used in two ways: 
@itemize @bullet{} 


@item To create a file name from its components: name and extension. For instance: 


@smallexample 
?- file_name_extension(File,mywork,'.txt').

File = 'mywork.txt' ? 

yes
?- 
@end smallexample  


@item To split a file name into its name and extension. For Instance: 
@smallexample 
?- file_name_extension('mywork.txt',A,B).

A = mywork,
B = '.txt' ? 

yes
?- 
@end smallexample  
@end itemize  

Any other usage of file_name_extension/3 will cause the predicate to fail. Notice that valid arguments are accepted both as atoms or strings. 


@strong{Usage:} @code{file_name_extension(FileName,BaseName,Extension)}
@itemize @minus
@item @emph{Description:} Splits a @code{FileName} into its @code{BaseName} and @code{Extension}. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{FileName} is an atom or a string
@iftex
@hfill
@end iftex
 (@code{filenames:atom_or_str/1})

@code{BaseName} is an atom or a string
@iftex
@hfill
@end iftex
 (@code{filenames:atom_or_str/1})

@code{Extension} is an atom or a string
@iftex
@hfill
@end iftex
 (@code{filenames:atom_or_str/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{basename/2 (pred)}}}
@temp
@end iftex
@pdindex basename/2 
@glindex basename/2 
@deffn PREDICATE basename/2:


@code{basename(FileName,BaseName)}


@code{BaseName} is @code{FileName} without extension. Equivalent to @code{file_name_extension(FileName,BaseName,_)}. Useful to extract the base name of a file using functional syntax.


@strong{Usage:} 
@itemize @minus
@item @emph{Calls should, and exit will be compatible with:}


@code{FileName} is an atom or a string
@iftex
@hfill
@end iftex
 (@code{filenames:atom_or_str/1})

@code{BaseName} is an atom or a string
@iftex
@hfill
@end iftex
 (@code{filenames:atom_or_str/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{extension/2 (pred)}}}
@temp
@end iftex
@pdindex extension/2 
@glindex extension/2 
@deffn PREDICATE extension/2:


@code{extension(FileName,Extension)}


@code{Extension} is the extension (suffix) of @code{FileName}. Equivalent to @code{file_name_extension(FileName,_,Extension)}. Useful to extract the extension of a file using functional syntax.


@strong{Usage:} 
@itemize @minus
@item @emph{Calls should, and exit will be compatible with:}


@code{FileName} is an atom or a string
@iftex
@hfill
@end iftex
 (@code{filenames:atom_or_str/1})

@code{Extension} is an atom or a string
@iftex
@hfill
@end iftex
 (@code{filenames:atom_or_str/1})
@end itemize
@end deffn
@sp 1


@c (component)


@node file_utils (library), file_locks (library), File name manipulation, Top
@comment node-name, next,  previous,  up
@chapter file_utils (library)
@liindex file_utils
@c -------------------------------------------------
@c WARNING: Do not edit this file (file_utils.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/file_utils.pl
@c -------------------------------------------------

@strong{Version:} 0.5#17 (1998/6/11, 21:5:3 MET DST)





@menu
* Usage and interface (file_utils)::  
* Documentation on exports (file_utils)::  
@end menu

@node Usage and interface (file_utils), Documentation on exports (file_utils), file_utils (library), file_utils (library)
@comment node-name, next,  previous,  up
@section Usage and interface (@code{file_utils})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(file_utils)).}

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex file_terms/2
@code{file_terms/2}, 
@glindex copy_stdout/1
@code{copy_stdout/1}, 
@glindex file_to_string/2
@code{file_to_string/2}.


@end itemize


@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex read
@code{read}, 
@glindex streams
@code{streams}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (file_utils),  , Usage and interface (file_utils), file_utils (library)
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{file_utils})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{file_terms/2 (pred)}}}
@temp
@end iftex
@pdindex file_terms/2 
@glindex file_terms/2 
@deffn PREDICATE file_terms/2:






@strong{Usage 1:} @code{file_terms(@@(File),?(Terms))}
@itemize @minus
@item @emph{Description:} Transform a file @code{File} to/from a list of terms @code{Terms}. 
@item @emph{The following properties should hold upon exit:}


@code{@@(File)} is a source name.
@iftex
@hfill
@end iftex
 (@code{streams_basic:sourcename/1})

@code{?(Terms)} is a list.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/1})
@end itemize

@strong{Usage 2:} @code{file_terms(File,Terms)}
@itemize @minus
@item @emph{Description:} Unifies @code{Terms} with the list of all terms in @code{File}. 
@item @emph{The following properties should hold at call time:}


@code{File} is a source name.
@iftex
@hfill
@end iftex
 (@code{streams_basic:sourcename/1})

@code{Terms} is a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:var/1})
@item @emph{The following properties should hold upon exit:}


@code{File} is a source name.
@iftex
@hfill
@end iftex
 (@code{streams_basic:sourcename/1})

@code{Terms} is a list.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/1})
@end itemize

@strong{Usage 3:} @code{file_terms(File,Terms)}
@itemize @minus
@item @emph{Description:} Writes the terms in list @code{Terms} (including the ending '.') onto file @code{File}. 
@item @emph{The following properties should hold at call time:}


@code{File} is a source name.
@iftex
@hfill
@end iftex
 (@code{streams_basic:sourcename/1})

@code{Terms} is a list.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/1})
@item @emph{The following properties should hold upon exit:}


@code{File} is a source name.
@iftex
@hfill
@end iftex
 (@code{streams_basic:sourcename/1})

@code{Terms} is a list.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{copy_stdout/1 (pred)}}}
@temp
@end iftex
@pdindex copy_stdout/1 
@glindex copy_stdout/1 
@deffn PREDICATE copy_stdout/1:






@strong{Usage:} @code{copy_stdout(+File)}
@itemize @minus
@item @emph{Description:} Copies file @code{File} to standard output. 
@item @emph{The following properties should hold upon exit:}


@code{+File} is a source name.
@iftex
@hfill
@end iftex
 (@code{streams_basic:sourcename/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{file_to_string/2 (pred)}}}
@temp
@end iftex
@pdindex file_to_string/2 
@glindex file_to_string/2 
@deffn PREDICATE file_to_string/2:






@strong{Usage:} @code{file_to_string(+FileName,-(String))}
@itemize @minus
@item @emph{Description:} Reads all the characters from the file @code{FileName} and returns them in @code{String}. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+FileName} is a source name.
@iftex
@hfill
@end iftex
 (@code{streams_basic:sourcename/1})

@code{-(String)} is a string (a list of character codes).
@iftex
@hfill
@end iftex
 (@code{basic_props:string/1})
@end itemize
@end deffn
@sp 1


@c (component)


@node file_locks (library), terms (library), file_utils (library), Top
@comment node-name, next,  previous,  up
@chapter file_locks (library)
@liindex file_locks
@c -------------------------------------------------
@c WARNING: Do not edit this file (file_locks.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/file_locks/file_locks.pl
@c -------------------------------------------------






@menu
* Usage and interface (file_locks)::  
* Documentation on exports (file_locks)::  
@end menu

@node Usage and interface (file_locks), Documentation on exports (file_locks), file_locks (library), file_locks (library)
@comment node-name, next,  previous,  up
@section Usage and interface (@code{file_locks})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(file_locks)).}
@end itemize
@end cartouche


@node Documentation on exports (file_locks),  , Usage and interface (file_locks), file_locks (library)
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{file_locks})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{lock_file/3 (pred)}}}
@temp
@end iftex
@pdindex lock_file/3 
@glindex lock_file/3 
@deffn PREDICATE lock_file/3:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{unlock_file/2 (pred)}}}
@temp
@end iftex
@pdindex unlock_file/2 
@glindex unlock_file/2 
@deffn PREDICATE unlock_file/2:



No further documentation available for this predicate.

@end deffn
@sp 1


@c (component)


@node terms (library), tokenize (library), file_locks (library), Top
@comment node-name, next,  previous,  up
@chapter terms (library)
@liindex terms
@c -------------------------------------------------
@c WARNING: Do not edit this file (terms.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/terms.pl
@c -------------------------------------------------

@strong{Version:} 1.3#124 (1999/11/27, 4:4:5 MET)





@menu
* Usage and interface (terms)::	 
* Documentation on exports (terms)::  
@end menu

@node Usage and interface (terms), Documentation on exports (terms), terms (library), terms (library)
@comment node-name, next,  previous,  up
@section Usage and interface (@code{terms})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(terms)).}
@end itemize
@end cartouche


@node Documentation on exports (terms),  , Usage and interface (terms), terms (library)
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{terms})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{copy_args/3 (pred)}}}
@temp
@end iftex
@pdindex copy_args/3 
@glindex copy_args/3 
@deffn PREDICATE copy_args/3:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{arg/2 (pred)}}}
@temp
@end iftex
@pdindex arg/2 
@glindex arg/2 
@deffn PREDICATE arg/2:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{atom_concat/2 (pred)}}}
@temp
@end iftex
@pdindex atom_concat/2 
@glindex atom_concat/2 
@deffn PREDICATE atom_concat/2:


@code{atom_concat(Atms,Atm)}


@code{Atm} is the atom resulting from concatenating all atoms in the list @code{Atms} in the order in which they appear.

@end deffn
@sp 1


@c (component)


@node tokenize (library), Printing status and error messages, terms (library), Top
@comment node-name, next,  previous,  up
@chapter tokenize (library)
@liindex tokenize
@c -------------------------------------------------
@c WARNING: Do not edit this file (tokenize.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/tokenize.pl
@c -------------------------------------------------

@strong{Version:} 0.4#5 (1998/2/24)





@menu
* Usage and interface (tokenize)::  
* Documentation on exports (tokenize)::	 
* Documentation on multifiles (tokenize)::  
@end menu

@node Usage and interface (tokenize), Documentation on exports (tokenize), tokenize (library), tokenize (library)
@comment node-name, next,  previous,  up
@section Usage and interface (@code{tokenize})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(tokenize)).}

@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex read
@code{read}, 
@glindex dict
@code{dict}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (tokenize), Documentation on multifiles (tokenize), Usage and interface (tokenize), tokenize (library)
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{tokenize})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{read_tokens/2 (pred)}}}
@temp
@end iftex
@pdindex read_tokens/2 
@glindex read_tokens/2 
@deffn PREDICATE read_tokens/2:



No further documentation available for this predicate.

@end deffn
@sp 1



@node Documentation on multifiles (tokenize),  , Documentation on exports (tokenize), tokenize (library)
@comment node-name, next,  previous,  up
@section Documentation on multifiles (@code{tokenize})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{define_flag/3 (pred)}}}
@temp
@end iftex
@pdindex define_flag/3 
@glindex define_flag/3 
@deffn PREDICATE define_flag/3:



No further documentation available for this predicate.


The predicate is @emph{multifile}.

@end deffn
@sp 1


@c (component)


@node Printing status and error messages, A simple pretty-printer for Ciao programs, tokenize (library), Top
@comment node-name, next,  previous,  up
@chapter Printing status and error messages
@liindex messages
@c -------------------------------------------------
@c WARNING: Do not edit this file (messages.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/messages.pl
@c -------------------------------------------------

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 1.3#108 (1999/11/18, 13:48:3 MET)

This is a very simple library for printing status and error messages to the console.



@menu
* Usage and interface (messages)::  
* Documentation on exports (messages)::	 
* Documentation on multifiles (messages)::  
* Known bugs and planned improvements (messages)::  
@end menu

@node Usage and interface (messages), Documentation on exports (messages), Printing status and error messages, Printing status and error messages
@comment node-name, next,  previous,  up
@section Usage and interface (@code{messages})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(messages)).}

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex error_message/1
@code{error_message/1}, 
@glindex error_message/2
@code{error_message/2}, 
@glindex error_message/3
@code{error_message/3}, 
@glindex warning_message/1
@code{warning_message/1}, 
@glindex warning_message/2
@code{warning_message/2}, 
@glindex warning_message/3
@code{warning_message/3}, 
@glindex note_message/1
@code{note_message/1}, 
@glindex note_message/2
@code{note_message/2}, 
@glindex note_message/3
@code{note_message/3}, 
@glindex simple_message/1
@code{simple_message/1}, 
@glindex simple_message/2
@code{simple_message/2}, 
@glindex optional_message/2
@code{optional_message/2}, 
@glindex optional_message/3
@code{optional_message/3}, 
@glindex debug_message/1
@code{debug_message/1}, 
@glindex debug_message/2
@code{debug_message/2}, 
@glindex debug_goal/2
@code{debug_goal/2}, 
@glindex debug_goal/3
@code{debug_goal/3}.


@item @emph{Multifiles:}

@glindex callme/2
@code{callme/2}, 
@glindex issue_debug_messages/1
@code{issue_debug_messages/1}.


@end itemize


@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex assertions/meta_props
@code{assertions/meta_props}, 
@glindex format
@code{format}, 
@glindex lists
@code{lists}, 
@glindex filenames
@code{filenames}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (messages), Documentation on multifiles (messages), Usage and interface (messages), Printing status and error messages
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{messages})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{error_message/1 (pred)}}}
@temp
@end iftex
@pdindex error_message/1 
@glindex error_message/1 
@deffn PREDICATE error_message/1:






@emph{Meta-predicate} of type @emph{implicit} with arguments: @code{error_message(addmodule)}.


@strong{Usage:} @code{error_message(Text)}
@itemize @minus
@item @emph{Description:} The text provided in @code{Text} is printed as an ERROR message. 
@item @emph{The following properties should hold at call time:}


@code{Text} is a string (a list of character codes).
@iftex
@hfill
@end iftex
 (@code{basic_props:string/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{error_message/2 (pred)}}}
@temp
@end iftex
@pdindex error_message/2 
@glindex error_message/2 
@deffn PREDICATE error_message/2:






@emph{Meta-predicate} of type @emph{implicit} with arguments: @code{error_message(?,addmodule)}.


@strong{Usage:} @code{error_message(Text,ArgList)}
@itemize @minus
@item @emph{Description:} The text provided in @code{Text} is printed as an ERROR message, using the arguments in @code{ArgList} to interpret any variable-related formatting commands embedded in @code{Text}. 
@item @emph{The following properties should hold at call time:}


@code{Text} is an atom or string describing how the arguments should be formatted. If it is an atom it will be converted into a string with @code{name/2}.
@iftex
@hfill
@end iftex
 (@code{format:format_control/1})

@code{ArgList} is a list.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{error_message/3 (pred)}}}
@temp
@end iftex
@pdindex error_message/3 
@glindex error_message/3 
@deffn PREDICATE error_message/3:






@emph{Meta-predicate} of type @emph{implicit} with arguments: @code{error_message(?,?,addmodule)}.


@strong{Usage:} @code{error_message(Lc,Text,ArgList)}
@itemize @minus
@item @emph{Description:} The text provided in @code{Text} is printed as an ERROR message, using the arguments in @code{ArgList} to interpret any variable-related formatting commands embedded in @code{Text}, and reporting error location @code{Lc} (file and line numbers). 
@item @emph{The following properties should hold at call time:}


@code{Lc} is of type @code{^loc(atm,int,int)}.
@iftex
@hfill
@end iftex
 (@code{meta_props:regtype/2})

@code{Text} is an atom or string describing how the arguments should be formatted. If it is an atom it will be converted into a string with @code{name/2}.
@iftex
@hfill
@end iftex
 (@code{format:format_control/1})

@code{ArgList} is a list.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{warning_message/1 (pred)}}}
@temp
@end iftex
@pdindex warning_message/1 
@glindex warning_message/1 
@deffn PREDICATE warning_message/1:






@emph{Meta-predicate} of type @emph{implicit} with arguments: @code{warning_message(addmodule)}.


@strong{Usage:} @code{warning_message(Text)}
@itemize @minus
@item @emph{Description:} The text provided in @code{Text} is printed as a WARNING message. 
@item @emph{The following properties should hold at call time:}


@code{Text} is a string (a list of character codes).
@iftex
@hfill
@end iftex
 (@code{basic_props:string/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{warning_message/2 (pred)}}}
@temp
@end iftex
@pdindex warning_message/2 
@glindex warning_message/2 
@deffn PREDICATE warning_message/2:






@emph{Meta-predicate} of type @emph{implicit} with arguments: @code{warning_message(?,addmodule)}.


@strong{Usage:} @code{warning_message(Text,ArgList)}
@itemize @minus
@item @emph{Description:} The text provided in @code{Text} is printed as a WARNING message, using the arguments in @code{ArgList} to interpret any variable-related formatting commands embedded in @code{Text}. 
@item @emph{The following properties should hold at call time:}


@code{Text} is an atom or string describing how the arguments should be formatted. If it is an atom it will be converted into a string with @code{name/2}.
@iftex
@hfill
@end iftex
 (@code{format:format_control/1})

@code{ArgList} is a list.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{warning_message/3 (pred)}}}
@temp
@end iftex
@pdindex warning_message/3 
@glindex warning_message/3 
@deffn PREDICATE warning_message/3:






@emph{Meta-predicate} of type @emph{implicit} with arguments: @code{warning_message(?,?,addmodule)}.


@strong{Usage:} @code{warning_message(Lc,Text,ArgList)}
@itemize @minus
@item @emph{Description:} The text provided in @code{Text} is printed as a WARNING message, using the arguments in @code{ArgList} to interpret any variable-related formatting commands embedded in @code{Text}, and reporting error location @code{Lc} (file and line numbers). 
@item @emph{The following properties should hold at call time:}


@code{Lc} is of type @code{^loc(atm,int,int)}.
@iftex
@hfill
@end iftex
 (@code{meta_props:regtype/2})

@code{Text} is an atom or string describing how the arguments should be formatted. If it is an atom it will be converted into a string with @code{name/2}.
@iftex
@hfill
@end iftex
 (@code{format:format_control/1})

@code{ArgList} is a list.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{note_message/1 (pred)}}}
@temp
@end iftex
@pdindex note_message/1 
@glindex note_message/1 
@deffn PREDICATE note_message/1:






@emph{Meta-predicate} of type @emph{implicit} with arguments: @code{note_message(addmodule)}.


@strong{Usage:} @code{note_message(Text)}
@itemize @minus
@item @emph{Description:} The text provided in @code{Text} is printed as a NOTE. 
@item @emph{The following properties should hold at call time:}


@code{Text} is a string (a list of character codes).
@iftex
@hfill
@end iftex
 (@code{basic_props:string/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{note_message/2 (pred)}}}
@temp
@end iftex
@pdindex note_message/2 
@glindex note_message/2 
@deffn PREDICATE note_message/2:






@emph{Meta-predicate} of type @emph{implicit} with arguments: @code{note_message(?,addmodule)}.


@strong{Usage:} @code{note_message(Text,ArgList)}
@itemize @minus
@item @emph{Description:} The text provided in @code{Text} is printed as a NOTE, using the arguments in @code{ArgList} to interpret any variable-related formatting commands embedded in @code{Text}. 
@item @emph{The following properties should hold at call time:}


@code{Text} is an atom or string describing how the arguments should be formatted. If it is an atom it will be converted into a string with @code{name/2}.
@iftex
@hfill
@end iftex
 (@code{format:format_control/1})

@code{ArgList} is a list.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{note_message/3 (pred)}}}
@temp
@end iftex
@pdindex note_message/3 
@glindex note_message/3 
@deffn PREDICATE note_message/3:






@emph{Meta-predicate} of type @emph{implicit} with arguments: @code{note_message(?,?,addmodule)}.


@strong{Usage:} @code{note_message(Lc,Text,ArgList)}
@itemize @minus
@item @emph{Description:} The text provided in @code{Text} is printed as a NOTE, using the arguments in @code{ArgList} to interpret any variable-related formatting commands embedded in @code{Text}, and reporting error location @code{Lc} (file and line numbers). 
@item @emph{The following properties should hold at call time:}


@code{Lc} is of type @code{^loc(atm,int,int)}.
@iftex
@hfill
@end iftex
 (@code{meta_props:regtype/2})

@code{Text} is an atom or string describing how the arguments should be formatted. If it is an atom it will be converted into a string with @code{name/2}.
@iftex
@hfill
@end iftex
 (@code{format:format_control/1})

@code{ArgList} is a list.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{simple_message/1 (pred)}}}
@temp
@end iftex
@pdindex simple_message/1 
@glindex simple_message/1 
@deffn PREDICATE simple_message/1:






@strong{Usage:} @code{simple_message(Text)}
@itemize @minus
@item @emph{Description:} The text provided in @code{Text} is printed. 
@item @emph{The following properties should hold at call time:}


@code{Text} is a string (a list of character codes).
@iftex
@hfill
@end iftex
 (@code{basic_props:string/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{simple_message/2 (pred)}}}
@temp
@end iftex
@pdindex simple_message/2 
@glindex simple_message/2 
@deffn PREDICATE simple_message/2:






@strong{Usage:} @code{simple_message(Text,ArgList)}
@itemize @minus
@item @emph{Description:} The text provided in @code{Text} is printed as a message, using the arguments in @code{ArgList}. 
@item @emph{The following properties should hold at call time:}


@code{Text} is an atom or string describing how the arguments should be formatted. If it is an atom it will be converted into a string with @code{name/2}.
@iftex
@hfill
@end iftex
 (@code{format:format_control/1})

@code{ArgList} is a list.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{optional_message/2 (pred)}}}
@temp
@end iftex
@pdindex optional_message/2 
@glindex optional_message/2 
@deffn PREDICATE optional_message/2:






@strong{Usage:} @code{optional_message(Text,Opts)}
@itemize @minus
@item @emph{Description:} The text provided in @code{Text} is printed as a message, but only if the atom @code{-v} is a member of @code{Opts}. These predicates are meant to be used for optional messages, which are only to be printed when @emph{verbose} output is requested explicitly. 
@item @emph{The following properties should hold at call time:}


@code{Text} is a string (a list of character codes).
@iftex
@hfill
@end iftex
 (@code{basic_props:string/1})

@code{Opts} is a list of @code{atm}s.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{optional_message/3 (pred)}}}
@temp
@end iftex
@pdindex optional_message/3 
@glindex optional_message/3 
@deffn PREDICATE optional_message/3:






@strong{Usage:} @code{optional_message(Text,ArgList,Opts)}
@itemize @minus
@item @emph{Description:} The text provided in @code{Text} is printed as a message, using the arguments in @code{ArgList}, but only if the atom @code{-v} is a member of @code{Opts}. These predicates are meant to be used for optional messages, which are only to be printed when @emph{verbose} output is requested explicitly. 
@item @emph{The following properties should hold at call time:}


@code{Text} is an atom or string describing how the arguments should be formatted. If it is an atom it will be converted into a string with @code{name/2}.
@iftex
@hfill
@end iftex
 (@code{format:format_control/1})

@code{ArgList} is a list.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/1})

@code{Opts} is a list of @code{atm}s.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{debug_message/1 (pred)}}}
@temp
@end iftex
@pdindex debug_message/1 
@glindex debug_message/1 
@deffn PREDICATE debug_message/1:






@emph{Meta-predicate} of type @emph{implicit} with arguments: @code{debug_message(addmodule)}.


@strong{Usage:} @code{debug_message(Text)}
@itemize @minus
@item @emph{Description:} The text provided in @code{Text} is printed as a debugging message. These messages are turned @code{on} by defining a fact of 
@glindex issue_debug_messages/1
@code{issue_debug_messages/1} with the module name as argument. 
@item @emph{The following properties should hold at call time:}


@code{Text} is an atom or string describing how the arguments should be formatted. If it is an atom it will be converted into a string with @code{name/2}.
@iftex
@hfill
@end iftex
 (@code{format:format_control/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{debug_message/2 (pred)}}}
@temp
@end iftex
@pdindex debug_message/2 
@glindex debug_message/2 
@deffn PREDICATE debug_message/2:






@emph{Meta-predicate} of type @emph{implicit} with arguments: @code{debug_message(?,addmodule)}.


@strong{Usage:} @code{debug_message(Text,ArgList)}
@itemize @minus
@item @emph{Description:} The text provided in @code{Text} is printed as a debugging message, using the arguments in @code{ArgList} to interpret any variable-related formatting commands embedded in @code{Text}. These messages are turned @code{on} by defining a fact of 
@glindex issue_debug_messages/1
@code{issue_debug_messages/1} which the module name as argument. 
@item @emph{The following properties should hold at call time:}


@code{Text} is an atom or string describing how the arguments should be formatted. If it is an atom it will be converted into a string with @code{name/2}.
@iftex
@hfill
@end iftex
 (@code{format:format_control/1})

@code{ArgList} is a list.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{debug_goal/2 (pred)}}}
@temp
@end iftex
@pdindex debug_goal/2 
@glindex debug_goal/2 
@deffn PREDICATE debug_goal/2:






@emph{Meta-predicate} of type @emph{implicit} with arguments: @code{debug_goal(goal,addmodule)}.


@strong{Usage:} @code{debug_goal(Goal,Text)}
@itemize @minus
@item @emph{Description:} @code{Goal} is called. The text provided in @code{Text} is then printed as a debugging message. The whole process (including running @code{Goal}) is turned @code{on} by defining a fact of 
@glindex issue_debug_messages/1
@code{issue_debug_messages/1} with the module name as argument. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{debug_goal/3 (pred)}}}
@temp
@end iftex
@pdindex debug_goal/3 
@glindex debug_goal/3 
@deffn PREDICATE debug_goal/3:






@emph{Meta-predicate} of type @emph{implicit} with arguments: @code{debug_goal(goal,?,addmodule)}.


@strong{Usage:} @code{debug_goal(Goal,Text,ArgList)}
@itemize @minus
@item @emph{Description:} @code{Goal} is called. The text provided in @code{Text} is then printed as a debugging message, using the arguments in @code{ArgList} to interpret any variable-related formatting commands embedded in @code{Text}. Note that the variables in @code{ArgList} can be computed by @code{Goal}. The whole process (including running @code{Goal}) is turned @code{on} by defining a fact of 
@glindex issue_debug_messages/1
@code{issue_debug_messages/1} with the module name as argument. 
@end itemize
@end deffn
@sp 1



@node Documentation on multifiles (messages), Known bugs and planned improvements (messages), Documentation on exports (messages), Printing status and error messages
@comment node-name, next,  previous,  up
@section Documentation on multifiles (@code{messages})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{callme/2 (pred)}}}
@temp
@end iftex
@pdindex callme/2 
@glindex callme/2 
@deffn PREDICATE callme/2:



No further documentation available for this predicate.


The predicate is @emph{multifile}.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{issue_debug_messages/1 (pred)}}}
@temp
@end iftex
@pdindex issue_debug_messages/1 
@glindex issue_debug_messages/1 
@deffn PREDICATE issue_debug_messages/1:






The predicate is @emph{multifile} and of type @emph{data}.


@strong{Usage:} @code{issue_debug_messages(Module)}
@itemize @minus
@item @emph{Description:} Printing of debugging messages is enabled for module @code{Module}. 
@item @emph{The following properties should hold upon exit:}


@code{Module} is currently instantiated to an atom.
@iftex
@hfill
@end iftex
 (@code{term_typing:atom/1})
@end itemize
@end deffn
@sp 1



@node Known bugs and planned improvements (messages),  , Documentation on multifiles (messages), Printing status and error messages
@comment node-name, next,  previous,  up
@section Known bugs and planned improvements (@code{messages})

@itemize @bullet{}

@item
Debug message switching should really be done with an expansion, for performance.
@end itemize

@c (component)


@node A simple pretty-printer for Ciao programs, Pretty-printing assertions, Printing status and error messages, Top
@comment node-name, next,  previous,  up
@chapter A simple pretty-printer for Ciao programs
@liindex pretty_print
@c -------------------------------------------------
@c WARNING: Do not edit this file (pretty_print.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/pretty_print.pl
@c -------------------------------------------------

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 0.9#100 (1999/5/26, 12:36:46 MEST)

This library module writes out to standard output a clause or a list of clauses.



@menu
* Usage and interface (pretty_print)::	
* Documentation on exports (pretty_print)::  
* Documentation on internals (pretty_print)::  
@end menu

@node Usage and interface (pretty_print), Documentation on exports (pretty_print), A simple pretty-printer for Ciao programs, A simple pretty-printer for Ciao programs
@comment node-name, next,  previous,  up
@section Usage and interface (@code{pretty_print})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(pretty_print)).}

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex pretty_print/2
@code{pretty_print/2}, 
@glindex pretty_print/3
@code{pretty_print/3}.


@end itemize


@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex vndict
@code{vndict}, 
@glindex write
@code{write}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (pretty_print), Documentation on internals (pretty_print), Usage and interface (pretty_print), A simple pretty-printer for Ciao programs
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{pretty_print})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{pretty_print/2 (pred)}}}
@temp
@end iftex
@pdindex pretty_print/2 
@glindex pretty_print/2 
@deffn PREDICATE pretty_print/2:






@strong{Usage:} @code{pretty_print(Cls,Flags)}
@itemize @minus
@item @emph{Description:} Prints each clause in the list @code{Cls} after numbering its variables. 
@item @emph{The following properties should hold at call time:}


@code{pretty_print:clauses(Cls)}
@iftex
@hfill
@end iftex
 (@code{pretty_print:clauses/1})

@code{Flags} is a list of @code{flag}s.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{pretty_print/3 (pred)}}}
@temp
@end iftex
@pdindex pretty_print/3 
@glindex pretty_print/3 
@deffn PREDICATE pretty_print/3:






@strong{Usage:} @code{pretty_print(Cls,Flags,Ds)}
@itemize @minus
@item @emph{Description:} Prints each clause in the list @code{Cls} after using the corresponding variable names dictionary in @code{Ds} to name its variables. 
@item @emph{The following properties should hold at call time:}


@code{pretty_print:clauses(Cls)}
@iftex
@hfill
@end iftex
 (@code{pretty_print:clauses/1})

@code{Flags} is a list of @code{flag}s.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/2})

@code{Ds} is a dictionary of variable names.
@iftex
@hfill
@end iftex
 (@code{vndict:varnamedict/1})
@end itemize
@end deffn
@sp 1



@node Documentation on internals (pretty_print),  , Documentation on exports (pretty_print), A simple pretty-printer for Ciao programs
@comment node-name, next,  previous,  up
@section Documentation on internals (@code{pretty_print})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{clauses/1 (regtype)}}}
@temp
@end iftex
@teindex clauses/1 
@glindex clauses/1 
@deffn REGTYPE clauses/1:



A regular type, defined as follows:
@smallexample 
@smallexample 
clauses([]).
clauses([_1|_2]) :-
        clause(_1),
        clauses(_2).
clauses(_1) :-
        clause(_1).
@end smallexample 
@end smallexample 



@strong{Usage:} 
@itemize @minus
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{clause/1 (regtype)}}}
@temp
@end iftex
@teindex clause/1 
@glindex clause/1 
@deffn REGTYPE clause/1:



A regular type, defined as follows:
@smallexample 
@smallexample 
clause(_1) :-
        clterm(_1).
clause((_1,_2)) :-
        clterm(_1),
        term(_2).
@end smallexample 
@end smallexample 



@strong{Usage:} 
@itemize @minus
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{clterm/1 (regtype)}}}
@temp
@end iftex
@teindex clterm/1 
@glindex clterm/1 
@deffn REGTYPE clterm/1:



A regular type, defined as follows:
@smallexample 
@smallexample 
clterm(clause(_1,_2)) :-
        callable(_1),
        body(_2).
clterm(directive(_1)) :-
        body(_1).
clterm((_1:-_2)) :-
        callable(_1),
        body(_2).
clterm(_1) :-
        callable(_1).
@end smallexample 
@end smallexample 



@strong{Usage:} 
@itemize @minus
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{body/1 (regtype)}}}
@temp
@end iftex
@teindex body/1 
@glindex body/1 
@deffn REGTYPE body/1:



A well formed body, including cge expressions and &-concurrent expressions. The atomic goals may or may not have a key in the form @code{^(goal:any)}, and may or may not be module qualified, but if they are it has to be in the form @code{^(^(moddesc:goal):any)}.


@strong{Usage:} @code{body(X)}
@itemize @minus
@item @emph{Description:} @code{X} is a printable body. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{flag/1 (regtype)}}}
@temp
@end iftex
@teindex flag/1 
@glindex flag/1 
@deffn REGTYPE flag/1:



A keyword @code{ask/1} flags whether to output @emph{asks} or @emph{whens} and @code{nl/1} whether to separate clauses with a blank line or not.


@strong{Usage:} @code{flag(X)}
@itemize @minus
@item @emph{Description:} @code{X} is a flag for the pretty-printer. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1


@c (component)


@node Pretty-printing assertions, The Ciao library browser, A simple pretty-printer for Ciao programs, Top
@comment node-name, next,  previous,  up
@chapter Pretty-printing assertions
@liindex assrt_write
@c -------------------------------------------------
@c WARNING: Do not edit this file (assrt_write.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/assertions/assrt_write.pl
@c -------------------------------------------------

@strong{Author(s):} Francisco Bueno Carrillo.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 1.3#45 (1999/8/5, 14:43:7 MEST)

This module defines some predicates which are useful for writing assertions in a readable form.



@menu
* Usage and interface (assrt_write)::  
* Documentation on exports (assrt_write)::  
@end menu

@node Usage and interface (assrt_write), Documentation on exports (assrt_write), Pretty-printing assertions, Pretty-printing assertions
@comment node-name, next,  previous,  up
@section Usage and interface (@code{assrt_write})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(assrt_write)).}

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex write_assertion/6
@code{write_assertion/6}, 
@glindex write_assertion_as_comment/6
@code{write_assertion_as_comment/6}.


@end itemize


@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex format
@code{format}, 
@glindex assertions/assrt_lib
@code{assertions/assrt_lib}, 
@glindex messages
@code{messages}, 
@glindex assertions/assrt_props
@code{assertions/assrt_props}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (assrt_write),  , Usage and interface (assrt_write), Pretty-printing assertions
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{assrt_write})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{write_assertion/6 (pred)}}}
@temp
@end iftex
@pdindex write_assertion/6 
@glindex write_assertion/6 
@deffn PREDICATE write_assertion/6:






@strong{Usage:} @code{write_assertion(Goal,Status,Type,Body,Dict,Flag)}
@itemize @minus
@item @emph{Description:} Writes the (normalized) assertion to current output. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{undefined:assertion_status(Status)}
@iftex
@hfill
@end iftex
 (undefined property)

@code{Type} is an admissible kind of assertion.
@iftex
@hfill
@end iftex
 (@code{assrt_props:assrt_type/1})

@code{undefined:assertion(Body)}
@iftex
@hfill
@end iftex
 (undefined property)

@code{undefined:dictionary(Dict)}
@iftex
@hfill
@end iftex
 (undefined property)

@code{Flag} is @code{status} or @code{nostatus}.
@iftex
@hfill
@end iftex
 (@code{assrt_write:status_flag/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{write_assertion_as_comment/6 (pred)}}}
@temp
@end iftex
@pdindex write_assertion_as_comment/6 
@glindex write_assertion_as_comment/6 
@deffn PREDICATE write_assertion_as_comment/6:






@strong{Usage:} @code{write_assertion_as_comment(Goal,Status,Type,Body,Dict,Flag)}
@itemize @minus
@item @emph{Description:} Writes the (normalized) assertion to current output as a Prolog comment. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{undefined:assertion_status(Status)}
@iftex
@hfill
@end iftex
 (undefined property)

@code{Type} is an admissible kind of assertion.
@iftex
@hfill
@end iftex
 (@code{assrt_props:assrt_type/1})

@code{undefined:assertion(Body)}
@iftex
@hfill
@end iftex
 (undefined property)

@code{undefined:dictionary(Dict)}
@iftex
@hfill
@end iftex
 (undefined property)

@code{Flag} is @code{status} or @code{nostatus}.
@iftex
@hfill
@end iftex
 (@code{assrt_write:status_flag/1})
@end itemize
@end deffn
@sp 1


@c (component)


@node The Ciao library browser, Code translation utilities, Pretty-printing assertions, Top
@comment node-name, next,  previous,  up
@chapter The Ciao library browser
@liindex librowser
@c -------------------------------------------------
@c WARNING: Do not edit this file (librowser.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/librowser/librowser.pl
@c -------------------------------------------------

@strong{Author(s):} Angel Fernandez Pineda.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 1.3#39 (1999/7/21, 12:8:4 MEST)


@glindex librowser
@code{librowser} library provides a set of predicates wich enables the user to interactively find CIAO/Prolog libraries and/or any predicate exported by them. 

This is a simple example: 


@smallexample 
?- apropos('*find*').
persdbrt_sql: dbfindall/4
persdbrtsql: dbfindall/4
conc_aggregates: findall/3
linda: rd_findall/3
vndict: find_name/4
internals: $find_file/8
aggregates: findall/4,findall/3

yes
?- 
@end smallexample  

Librowser is specially usefull when using inside GNU Emacs, just place the cursor over a librowser response and press C-cTAB in order to get help on the related predicate. Refer to the @strong{"Using CIAO inside GNU Emacs"} chapter for further information. 



@menu
* Usage and interface (librowser)::  
* Documentation on exports (librowser)::  
* Documentation on internals (librowser)::  
@end menu

@node Usage and interface (librowser), Documentation on exports (librowser), The Ciao library browser, The Ciao library browser
@comment node-name, next,  previous,  up
@section Usage and interface (@code{librowser})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

It is not necesary to use this library at user programs. It was designed to be used at the CIAO @emph{toplevel} shell: 
@glindex ciaosh
@code{ciaosh}. In order to do so, just make use of 
@glindex use_module/1
@code{use_module/1} as follows: 

@code{use_module(library(librowser))}. 

Then, the library interface must be read. This is automatically done when calling any predicate at librowser, and the entire process will take a little moment.So, you should want to perform such a process after loading the CIAO toplevel: 


@smallexample 
CIAO 0.9 #75: Fri Apr 30 19:04:24 MEST 1999
?- use_module(library(librowser)).

yes
?- update.

@end smallexample  

Whether you want this process to be automatically performed when loading 
@glindex ciaosh
@code{ciaosh}, you may include those lines in your @emph{.ciaorc} personal initialization file. 

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex update/0
@code{update/0}, 
@glindex browse/2
@code{browse/2}, 
@glindex where/1
@code{where/1}, 
@glindex describe/1
@code{describe/1}, 
@glindex system_lib/1
@code{system_lib/1}, 
@glindex apropos/1
@code{apropos/1}.


@end itemize


@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex filenames
@code{filenames}, 
@glindex read
@code{read}, 
@glindex system
@code{system}, 
@glindex streams
@code{streams}, 
@glindex patterns
@code{patterns}, 
@glindex lists
@code{lists}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (librowser), Documentation on internals (librowser), Usage and interface (librowser), The Ciao library browser
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{librowser})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{update/0 (pred)}}}
@temp
@end iftex
@pdindex update/0 
@glindex update/0 
@deffn PREDICATE update/0:



This predicate will scan the CIAO 
@glindex system libraries
system libraries for predicate definitions. This may be done once time before calling any other predicate at this library. 

update/0 will also be automatically called (once) when calling any other predicate at librowser.


@strong{Usage:} 
@itemize @minus
@item @emph{Description:} Creates an internal database of modules at CIAO 
@glindex system libraries
system libraries. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{browse/2 (pred)}}}
@temp
@end iftex
@pdindex browse/2 
@glindex browse/2 
@deffn PREDICATE browse/2:



This predicate is fully reversible, and is provided to inspect concrete predicate specifications. For example: 
@smallexample 
?- browse(M,findall/A).

A = 3,
M = conc_aggregates ? ;

A = 4,
M = aggregates ? ;

A = 3,
M = aggregates ? ;

no
?- 
@end smallexample  



@strong{Usage:} @code{browse(Module,Spec)}
@itemize @minus
@item @emph{Description:} Asocciates the given @code{Spec} predicate specification with the @code{Module} which exports it. 
@item @emph{The following properties should hold at call time:}


@code{Module} is a module name (an atom)
@iftex
@hfill
@end iftex
 (@code{librowser:module_name/1})

@code{Spec} is a @strong{Functor/Arity} predicate specification
@iftex
@hfill
@end iftex
 (@code{librowser:pred_spec/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{where/1 (pred)}}}
@temp
@end iftex
@pdindex where/1 
@glindex where/1 
@deffn PREDICATE where/1:



This predicate will print at the screen the module needed in order to import a given predicate specification. For example: 
@smallexample 
?- where(findall/A).
findall/3 exported at module conc_aggregates
findall/4 exported at module aggregates
findall/3 exported at module aggregates

yes
?- 
@end smallexample  



@strong{Usage:} @code{where(Spec)}
@itemize @minus
@item @emph{Description:} Display what module to load in order to import the given @code{Spec}. 
@item @emph{The following properties should hold at call time:}


@code{Spec} is a @strong{Functor/Arity} predicate specification
@iftex
@hfill
@end iftex
 (@code{librowser:pred_spec/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{describe/1 (pred)}}}
@temp
@end iftex
@pdindex describe/1 
@glindex describe/1 
@deffn PREDICATE describe/1:



This one is used to find out which predicates were exported by a given module. Very usefull when you know the library, but not the concrete predicate. For example: 
@smallexample 
?- describe(librowser).
Predicates at library librowser : 

apropos/1 
system_lib/1 
describe/1 
where/1 
browse/2 
update/0 

yes
?- 
@end smallexample  



@strong{Usage:} @code{describe(Module)}
@itemize @minus
@item @emph{Description:} Display a list of exported predicates at the given @code{Module} 
@item @emph{The following properties should hold at call time:}


@code{Module} is a module name (an atom)
@iftex
@hfill
@end iftex
 (@code{librowser:module_name/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{system_lib/1 (pred)}}}
@temp
@end iftex
@pdindex system_lib/1 
@glindex system_lib/1 
@deffn PREDICATE system_lib/1:



It retrieves on backtracking all CIAO system libraries stored in the internal database. Certainly, those which were scanned at 
@glindex update/0
@code{update/0} calling. 


@strong{Usage:} @code{system_lib(Module)}
@itemize @minus
@item @emph{Description:} @code{Module} variable will be successively instantiated to the system libaries stored in the internal database. 
@item @emph{The following properties should hold at call time:}


@code{Module} is a module name (an atom)
@iftex
@hfill
@end iftex
 (@code{librowser:module_name/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{apropos/1 (pred)}}}
@temp
@end iftex
@pdindex apropos/1 
@glindex apropos/1 
@deffn PREDICATE apropos/1:



This tool makes use of 
@glindex regular expresions
regular expresions in order to find predicate specifications. It is very usefull whether you can't renember the full name of a predicate. Regular expresions take the same format as described in library 
@glindex patterns
@code{patterns}. Example: 
@smallexample 
?- apropos('atom_*').

metaterms: atom_concat/2
concurrency: atom_lock_state/2
atomic_basic: atom_concat/3,atom_length/2,atom_codes/2
iso_byte_char: atom_chars/2

yes
?- 
@end smallexample  




@strong{Usage:} @code{apropos(RegSpec)}
@itemize @minus
@item @emph{Description:} This will search any predicate specification @code{Spec} which matches the given @code{RegSpec} incomplete predicate specification.  
@item @emph{The following properties should hold at call time:}


@code{RegSpec} is a Pattern/Arity specification.
@iftex
@hfill
@end iftex
 (@code{librowser:apropos_spec/1})
@end itemize
@end deffn
@sp 1



@node Documentation on internals (librowser),  , Documentation on exports (librowser), The Ciao library browser
@comment node-name, next,  previous,  up
@section Documentation on internals (@code{librowser})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{apropos_spec/1 (regtype)}}}
@temp
@end iftex
@teindex apropos_spec/1 
@glindex apropos_spec/1 
@deffn REGTYPE apropos_spec/1:



Defined as: 
@smallexample 
apropos_spec(_1).
apropos_spec(Pattern/Arity) :-
        pattern(Pattern),
        int(Arity).
@end smallexample  



@strong{Usage:} @code{apropos_spec(S)}
@itemize @minus
@item @emph{Description:} @code{S} is a Pattern/Arity specification. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1


@c (component)


@node Code translation utilities, conc_aggregates (library), The Ciao library browser, Top
@comment node-name, next,  previous,  up
@chapter Code translation utilities
@liindex expansion_tools
@c -------------------------------------------------
@c WARNING: Do not edit this file (expansion_tools.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/expansion_tools.pl
@c -------------------------------------------------

@strong{Author(s):} Angel Fernandez Pineda.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 1.3#110 (1999/11/22, 11:52:54 MET)

This library offers a general way to perform clause body expansions. Goal, fact and spec translation predicates are authomatically called when needed, while this utility navigates through the meta-argument specification of the body itself. All predicates within this library must be called at @emph{second-pass expansions}, since it uses information stored at 
@glindex c_itf
@code{c_itf} library.



@menu
* Usage and interface (expansion_tools)::  
* Documentation on exports (expansion_tools)::	
* Documentation on internals (expansion_tools)::  
* Known bugs and planned improvements (expansion_tools)::  
@end menu

@node Usage and interface (expansion_tools), Documentation on exports (expansion_tools), Code translation utilities, Code translation utilities
@comment node-name, next,  previous,  up
@section Usage and interface (@code{expansion_tools})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

This library is provided as a tool for those modules which performs source-to-source code translation, usually known as @emph{code expanders}. It may be loaded as other modules using a 
@glindex use_module/1
@code{use_module/1}. Nothing special needs to be done.

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex imports_meta_pred/3
@code{imports_meta_pred/3}, 
@glindex body_expander/6
@code{body_expander/6}, 
@glindex arg_expander/6
@code{arg_expander/6}.


@end itemize


@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex compiler/c_itf
@code{compiler/c_itf}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (expansion_tools), Documentation on internals (expansion_tools), Usage and interface (expansion_tools), Code translation utilities
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{expansion_tools})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{imports_meta_pred/3 (pred)}}}
@temp
@end iftex
@pdindex imports_meta_pred/3 
@glindex imports_meta_pred/3 
@deffn PREDICATE imports_meta_pred/3:



Macro provided in order to know meta-predicate specifications accessible from a module.


@strong{Usage:} @code{imports_meta_pred(Module,MetaSpec,AccessibleAt)}
@itemize @minus
@item @emph{Description:} Tells whether @code{MetaSpec} meta-predicate specification is accessible from @code{Module}. @code{AccessibleAt} will be binded to '-' whether meta-predicate is a builtin one. If not, it will be unified with the module which defines the meta-predicate.  
@item @emph{The following properties should hold at call time:}


@code{Module} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})

@code{MetaSpec} is any term.
@iftex
@hfill
@end iftex
 (@code{basic_props:term/1})

@code{AccessibleAt} is a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:var/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{body_expander/6 (pred)}}}
@temp
@end iftex
@pdindex body_expander/6 
@glindex body_expander/6 
@deffn PREDICATE body_expander/6:



This predicate is the main translation tool. It navigates through a clause body, when a single @emph{goal} appears, user-code is called in order to perform a translation. Whether user-code fails to translate the involved goal, it remains the same. Regardless that goal is translated or not, an argument expansion will be performed over all goals if applicable (see 
@glindex arg_expander/6
@code{arg_expander/6} predicate). 

Variable (unknown at compile time) goals will also be attempt to translate. 


@emph{Meta-predicate} with arguments: @code{body_expander(pred(3),pred(3),pred(3),?,?,?)}.


@strong{Usage:} @code{body_expander(GoalTrans,FactTrans,SpecTrans,Module,Body,ExpandedBody)}
@itemize @minus
@item @emph{Description:} Translates @code{Body} to @code{ExpandedBody} by the usage of user-defined translators @code{GoalTrans}, @code{FactTrans} and @code{SpecTrans}. The module where the original body appears must be unified with @code{Module} argument.  
@item @emph{The following properties should hold at call time:}


@code{GoalTrans} is a user-defined predicate which performs @emph{goal} meta-type translation
@iftex
@hfill
@end iftex
 (@code{expansion_tools:goal_expander/1})

@code{FactTrans} is a user-defined predicate which performs @emph{fact} meta-type translation
@iftex
@hfill
@end iftex
 (@code{expansion_tools:fact_expander/1})

@code{SpecTrans} is a user-defined predicate which performs @emph{spec} meta-type translation
@iftex
@hfill
@end iftex
 (@code{expansion_tools:spec_expander/1})

@code{Module} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})

@code{Body} is currently a term which is not a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:nonvar/1})

@code{ExpandedBody} is a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:var/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{arg_expander/6 (pred)}}}
@temp
@end iftex
@pdindex arg_expander/6 
@glindex arg_expander/6 
@deffn PREDICATE arg_expander/6:



This predicate is an auxiliary translation tool, which is used by 
@glindex body_expander/6
@code{body_expander/6} predicate. It remains exported as a macro. The predicate navigates through the @emph{meta-argument specification} of a goal. Whether a @emph{goal,fact or spec} argument appears, user-code is called in order to perform a translation. Whether user-code fails to translate the involved argument, it remains the same. Builtins as ','/2 or ';'/2 are treated as meta-predicates defining @emph{goal} meta-arguments. When a @emph{goal} meta-argument is located, 
@glindex body_expander/6
@code{body_expander/6} will be called in order to navigate through it. Notice that a @emph{goal} meta-argument may be unified with another goal defining another meta-argument, so navigation is required. If arguments are not known to arg_expander/6, translation will not occur. This is posible whether goal or qualifing module are variables. 


@emph{Meta-predicate} with arguments: @code{arg_expander(pred(3),pred(3),pred(3),?,?,?)}.


@strong{Usage:} @code{arg_expander(GoalTrans,FactTrans,SpecTrans,Module,Goal,ExpandedGoal)}
@itemize @minus
@item @emph{Description:} Translates @code{Goal} to @code{ExpandedGoal} by applying user-defined translators (@code{GoalTrans}, @code{FactTrans} and @code{SpecTrans}) to each meta-argument present at such goal. The module where the original goal appears must be unified with @code{Module} argument.  
@item @emph{The following properties should hold at call time:}


@code{GoalTrans} is a user-defined predicate which performs @emph{goal} meta-type translation
@iftex
@hfill
@end iftex
 (@code{expansion_tools:goal_expander/1})

@code{FactTrans} is a user-defined predicate which performs @emph{fact} meta-type translation
@iftex
@hfill
@end iftex
 (@code{expansion_tools:fact_expander/1})

@code{SpecTrans} is a user-defined predicate which performs @emph{spec} meta-type translation
@iftex
@hfill
@end iftex
 (@code{expansion_tools:spec_expander/1})

@code{Module} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})

@code{Goal} is currently a term which is not a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:nonvar/1})

@code{ExpandedBody} is a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:var/1})
@end itemize
@end deffn
@sp 1



@node Documentation on internals (expansion_tools), Known bugs and planned improvements (expansion_tools), Documentation on exports (expansion_tools), Code translation utilities
@comment node-name, next,  previous,  up
@section Documentation on internals (@code{expansion_tools})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{expander_pred/1 (prop)}}}
@temp
@end iftex
@prindex expander_pred/1 
@glindex expander_pred/1 
@deffn PROPERTY expander_pred/1:






@strong{Usage:} @code{expander_pred(Pred)}
@itemize @minus
@item @emph{Description:} @code{Pred} is a user-defined predicate used to perform code translations. First argument will be binded to the corresponding term to be translated. Second argument must be binded to the corresponding translation. Third argument will be binded to the current module were first argument appears. Additional arguments will be user-defined.  
@end itemize
@end deffn
@sp 1



@node Known bugs and planned improvements (expansion_tools),  , Documentation on internals (expansion_tools), Code translation utilities
@comment node-name, next,  previous,  up
@section Known bugs and planned improvements (@code{expansion_tools})

@itemize @bullet{}

@item
@emph{pred(N)} meta-arguments are not supported at this moment.
@end itemize

@c (component)


@node conc_aggregates (library), *** PART VII - Ciao Prolog extensions, Code translation utilities, Top
@comment node-name, next,  previous,  up
@chapter conc_aggregates (library)
@liindex conc_aggregates
@c -------------------------------------------------
@c WARNING: Do not edit this file (conc_aggregates.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/conc_aggregates.pl
@c -------------------------------------------------

@strong{Author(s):} Concurrent-safe (and incomplete) version of the aggregates predicates, based on the regular versions by Richard A. O'Keefe and David H.D. Warren. Concurrency-safeness provided by Manuel Carro..


This module implements thread-safe aggregation predicates. Its use and results should be the same as those in the 
@glindex aggregates
aggregates library, but several goals can use them concurrently without the interference and wrong results (due to implementation reasons) 
@glindex aggregates
aggregates might lead to. This particular implementation is completely based on the one used in the 
@glindex aggregates
aggregates library.



@menu
* Usage and interface (conc_aggregates)::  
* Documentation on exports (conc_aggregates)::	
* Known bugs and planned improvements (conc_aggregates)::  
@end menu

@node Usage and interface (conc_aggregates), Documentation on exports (conc_aggregates), conc_aggregates (library), conc_aggregates (library)
@comment node-name, next,  previous,  up
@section Usage and interface (@code{conc_aggregates})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(conc_aggregates)).}

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex findall/3
@code{findall/3}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (conc_aggregates), Known bugs and planned improvements (conc_aggregates), Usage and interface (conc_aggregates), conc_aggregates (library)
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{conc_aggregates})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{findall/3 (pred)}}}
@temp
@end iftex
@pdindex findall/3 
@glindex findall/3 
@deffn PREDICATE findall/3:






@emph{Meta-predicate} with arguments: @code{findall(?,goal,?)}.


@strong{Usage:} @code{findall(?(Template),+Generator,?(List))}
@iftex
@hfill
@end iftex
@key{ @bullet{} ISO @bullet{} }
@itemize @minus
@item @emph{Description:} A special case of bagof, where all free variables in the @code{Generator} are taken to be existentially quantified. Safe in concurrent applications. 
@end itemize
@end deffn
@sp 1



@node Known bugs and planned improvements (conc_aggregates),  , Documentation on exports (conc_aggregates), conc_aggregates (library)
@comment node-name, next,  previous,  up
@section Known bugs and planned improvements (@code{conc_aggregates})

@itemize @bullet{}

@item
Thread-safe 
@glindex setof/3
@code{setof/3} is not yet implemented.

@item
Thread-safe 
@glindex bagof/3
@code{bagof/3} is not yet implemented.

@item
Incomplete, not all predicates rewritten.
@end itemize

@c (component)


@node *** PART VII - Ciao Prolog extensions, Pure Prolog package, conc_aggregates (library), Top
@comment node-name, next,  previous,  up
@unnumbered PART VII - Ciao Prolog extensions
@iftex
@vfill
@cartouche
@sp
@ 
@end iftex
@c -------------------------------------------------
@c WARNING: Do not edit this file (ExtendProlog.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/doc/common/ExtendProlog.pl
@c -------------------------------------------------


The libraries documented in this part extend the Ciao language in several different ways. The extensions include: 
@itemize @bullet{} 
@item pure Prolog programming (although someone might view this as a restriction rather than an extension); 
@item feature terms or 
@coindex records
@glindex records
@emph{records} (i.e., structures with names for each field); 
@item parallel (@&-Prolog){}programming; 
@item functional syntax; 
@item global variables; 
@item @code{setarg} and @code{undo}; 
@item active modules; 
@item breadth-first execution; 
@item constraint logic programming; 
@item object oriented programming. 
@end itemize  


@iftex
@sp 
@end cartouche
@vfill
@end iftex

@c (component)


@node Pure Prolog package, argnames (library), *** PART VII - Ciao Prolog extensions, Top
@comment node-name, next,  previous,  up
@chapter Pure Prolog package
@liindex pure
@c -------------------------------------------------
@c WARNING: Do not edit this file (pure_doc.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/pure_doc.pl
@c -------------------------------------------------


This library package allows the use of 
@coindex pure Prolog
@glindex pure Prolog
@emph{pure Prolog} in a Ciao module/program. It is based on the fact that if an 
@coindex engine module
@glindex engine module
@emph{engine module} is imported explicitly then all of them have to be imported explicitly. The engine modules are: 
@itemize @bullet{} 
@item @code{engine(arithmetic)} 

@ref{Arithmetic}. 
@item @code{engine(atomic_basic)} 

@ref{Basic predicates handling names of constants}. 
@item @code{engine(attributes)} 

@ref{Attributed variables}. 
@item @code{engine(basic_props)} 

@ref{Basic data types and properties}. 
@item @code{engine(basiccontrol)} 

@ref{Control constructs/predicates}. 
@item @code{engine(concurrency)} 

@ref{Concurrency/multithreading primitives}. 
@item @code{engine(data_facts)} 

@ref{Fast/concurrent update of facts}. 
@item @code{engine(exceptions)} 

@ref{Exception handling}. 
@item @code{engine(io_aux)} 

@ref{Message printing primitives}. 
@item @code{engine(io_basic)} 

@ref{Basic input/output}. 
@item @code{engine(prolog_flags)} 

@ref{Changing system behaviour and various flags}. 
@item @code{engine(streams_basic)} 

@ref{Basic file/stream handling}. 
@item @code{engine(system_info)} 

@ref{Gathering some basic internal info}. 
@item @code{engine(term_basic)} 

@ref{Basic term manipulation}. 
@item @code{engine(term_compare)} 

@ref{Comparing terms}. 
@item @code{engine(term_typing)} 

@ref{Extra-logical properties for typing}. 
@end itemize  

Note that if any of these modules is explicitely imported in a program then the language defaults to Pure Prolog, plus the functionality added by the modules explicitely imported. 

It is recommended that if you explicitely import an engine module you also use this package, which will guarantee that the predicate @code{true/0} is defined (note that this is the only Ciao builtin which cannot be redefined). 



@menu
* Usage and interface (pure)::	
@end menu

@node Usage and interface (pure),  , Pure Prolog package, Pure Prolog package
@comment node-name, next,  previous,  up
@section Usage and interface (@code{pure})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_package(pure).}

or

@code{:- module(...,...,[pure]).}
@end itemize
@end cartouche

@c (component)


@node argnames (library), Independent and-parallel execution, Pure Prolog package, Top
@comment node-name, next,  previous,  up
@chapter argnames (library)
@liindex argnames
@c -------------------------------------------------
@c WARNING: Do not edit this file (argnames.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/argnames.pl
@c -------------------------------------------------






@menu
* Usage and interface (argnames)::  
@end menu

@node Usage and interface (argnames),  , argnames (library), argnames (library)
@comment node-name, next,  previous,  up
@section Usage and interface (@code{argnames})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_package(argnames).}

or

@code{:- module(...,...,[argnames]).}

@item @strong{New operators defined:}

@glindex $/2
@code{$/2} [150,xfx], 
@glindex =>/2
@code{=>/2} [950,xfx], 
@glindex argnames/1
@code{argnames/1} [1150,fx].

@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex aggregates
@code{aggregates}, 
@glindex dynamic
@code{dynamic}, 
@glindex iso_misc
@code{iso_misc}, 
@glindex iso_byte_char
@code{iso_byte_char}, 
@glindex iso_incomplete
@code{iso_incomplete}, 
@glindex operators
@code{operators}, 
@glindex read
@code{read}, 
@glindex streams
@code{streams}, 
@glindex write
@code{write}.


@end itemize

@end itemize
@end cartouche

@c (component)


@node Independent and-parallel execution, functions (library), argnames (library), Top
@comment node-name, next,  previous,  up
@chapter Independent and-parallel execution
@liindex andprolog
@c -------------------------------------------------
@c WARNING: Do not edit this file (andprolog.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/andprolog/andprolog.pl
@c -------------------------------------------------

@strong{Author(s):} Manuel Hermenegildo, Manuel Carro.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

This library allows and-parallel execution of goals in (Herbrand-)independent fashion. It resembles the execution rules of @&-Prolog{}[HG90]. Basically, goals are run in and-parallel @emph{provided that their arguments do not share bindings}, i.e., are not bound to terms which contain a common variable. 

Beware: it is highly unstable at the moment!



@menu
* Usage and interface (andprolog)::  
* Documentation on exports (andprolog)::  
* Known bugs and planned improvements (andprolog)::  
@end menu

@node Usage and interface (andprolog), Documentation on exports (andprolog), Independent and-parallel execution, Independent and-parallel execution
@comment node-name, next,  previous,  up
@section Usage and interface (@code{andprolog})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(andprolog)).}

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex =>/2
@code{=>/2}, 
@glindex active_agents/1
@code{active_agents/1}.


@item @emph{Properties:}

@glindex indep/1
@code{indep/1}, 
@glindex indep/2
@code{indep/2}.


@end itemize


@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex assertions/doc_props
@code{assertions/doc_props}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (andprolog), Known bugs and planned improvements (andprolog), Usage and interface (andprolog), Independent and-parallel execution
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{andprolog})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{& /2 (pred)}}}
@temp
@end iftex
@pdindex &/2 
@glindex &/2 
@deffn PREDICATE &/2:


@code{GoalA & GoalB}


@code{GoalA} and @code{GoalB} are run in independent and-parallel fashion. This is just a first sketch, and valid only for deterministic independent goals.


@emph{Meta-predicate} with arguments: @code{goal&goal}.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{=> /2 (pred)}}}
@temp
@end iftex
@pdindex =>/2 
@glindex =>/2 
@deffn PREDICATE =>/2:


@code{=>(A,B)}


If @code{A} is true @code{B} is run in parallel, otherwise sequentially.


@emph{Meta-predicate} of type @emph{implicit} with arguments: @code{=>(goal,goal)}.


@strong{Usage:} @code{=>(A,B)}
@itemize @minus
@item @emph{The following properties should hold at call time:}


@code{B} is of the form @code{goal&goal}.
@iftex
@hfill
@end iftex
 (@code{andprolog:andcallable/1})
@item @emph{The following properties hold globally:}


Documentation is still incomplete: @code{=>(A,B)} may not conform the functionality documented.
@iftex
@hfill
@end iftex
 (@code{doc_props:doc_incomplete/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{indep/1 (prop)}}}
@temp
@end iftex
@prindex indep/1 
@glindex indep/1 
@deffn PROPERTY indep/1:


@code{indep(X)}


The variables in each pair of the list @code{@code{X}} are pairwise independent.


@strong{Usage:} @code{indep(X)}
@itemize @minus
@item @emph{Description:} The variables in pairs in @code{@code{X}} are pairwise independent. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{indep/2 (prop)}}}
@temp
@end iftex
@prindex indep/2 
@glindex indep/2 
@deffn PROPERTY indep/2:


@code{indep(X,Y)}


@code{X} and @code{Y} are 
@coindex independent
@glindex independent
@emph{independent}, i.e., they are bound to terms which have no variables in common. For example, @code{indep(X,Y)} holds for @code{X=f(Z),Y=g(K)} and also for @code{X=f(a),Y=X} (since both @code{X} and @code{Y} are bound to ground terms). It does not hold for @code{X=f(Z),Y=g(Z)} and for @code{X=Y}.


@strong{Usage:} @code{indep(X,Y)}
@itemize @minus
@item @emph{Description:} @code{X} and @code{Y} do not have variables in common. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{active_agents/1 (pred)}}}
@temp
@end iftex
@pdindex active_agents/1 
@glindex active_agents/1 
@deffn PREDICATE active_agents/1:






@strong{Usage:} @code{active_agents(?(NumberOfAgents))}
@itemize @minus
@item @emph{Description:} Tests/sets the number of active agents looking for goals to execute. As for now, those agents are resource-consuming, even when they are just looking for work, and not executing any user goals. 
@item @emph{The following properties should hold at call time:}


@code{?(NumberOfAgents)} is an integer.
@iftex
@hfill
@end iftex
 (@code{basic_props:int/1})
@end itemize
@end deffn
@sp 1



@node Known bugs and planned improvements (andprolog),  , Documentation on exports (andprolog), Independent and-parallel execution
@comment node-name, next,  previous,  up
@section Known bugs and planned improvements (@code{andprolog})

@itemize @bullet{}

@item
The fact that only the first solution is returned for the conjunction is due to performance matters, and we expect to remove it in a near future.

@item
CGEs (i.e., @code{=>}) are not supported.

@item
The 
@glindex indep/1
@code{indep/1}, 
@glindex indep/2
@code{indep/2}, and 
@glindex ground/1
@code{ground/1} are not very efficient; they might be replaced by native versions in a future.
@end itemize

@c (component)


@node functions (library), global (library), Independent and-parallel execution, Top
@comment node-name, next,  previous,  up
@chapter functions (library)
@liindex functions
@c -------------------------------------------------
@c WARNING: Do not edit this file (functions.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/functions/functions.pl
@c -------------------------------------------------






@menu
* Usage and interface (functions)::  
@end menu

@node Usage and interface (functions),  , functions (library), functions (library)
@comment node-name, next,  previous,  up
@section Usage and interface (@code{functions})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_package(functions).}

or

@code{:- module(...,...,[functions]).}

@item @strong{New operators defined:}

@glindex function/1
@code{function/1} [1150,fx], 
@glindex :=/2
@code{:=/2} [800,xfx], 
@glindex ~/1
@code{~/1} [50,fx].

@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex aggregates
@code{aggregates}, 
@glindex dynamic
@code{dynamic}, 
@glindex iso_misc
@code{iso_misc}, 
@glindex iso_byte_char
@code{iso_byte_char}, 
@glindex iso_incomplete
@code{iso_incomplete}, 
@glindex operators
@code{operators}, 
@glindex read
@code{read}, 
@glindex streams
@code{streams}, 
@glindex write
@code{write}.


@end itemize

@end itemize
@end cartouche

@c (component)


@node global (library), Miscellaneous predicates, functions (library), Top
@comment node-name, next,  previous,  up
@chapter global (library)
@liindex global
@c -------------------------------------------------
@c WARNING: Do not edit this file (global.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/global.pl
@c -------------------------------------------------

@strong{Version:} 0.4#5 (1998/2/24)





@menu
* Usage and interface (global)::  
* Documentation on exports (global)::  
@end menu

@node Usage and interface (global), Documentation on exports (global), global (library), global (library)
@comment node-name, next,  previous,  up
@section Usage and interface (@code{global})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(global)).}
@end itemize
@end cartouche


@node Documentation on exports (global),  , Usage and interface (global), global (library)
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{global})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{set_global/2 (pred)}}}
@temp
@end iftex
@pdindex set_global/2 
@glindex set_global/2 
@deffn PREDICATE set_global/2:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{get_global/2 (pred)}}}
@temp
@end iftex
@pdindex get_global/2 
@glindex get_global/2 
@deffn PREDICATE get_global/2:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{push_global/2 (pred)}}}
@temp
@end iftex
@pdindex push_global/2 
@glindex push_global/2 
@deffn PREDICATE push_global/2:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{pop_global/2 (pred)}}}
@temp
@end iftex
@pdindex pop_global/2 
@glindex pop_global/2 
@deffn PREDICATE pop_global/2:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{del_global/1 (pred)}}}
@temp
@end iftex
@pdindex del_global/1 
@glindex del_global/1 
@deffn PREDICATE del_global/1:



No further documentation available for this predicate.

@end deffn
@sp 1


@c (component)


@node Miscellaneous predicates, actmods (library), global (library), Top
@comment node-name, next,  previous,  up
@chapter Miscellaneous predicates
@liindex odd
@c -------------------------------------------------
@c WARNING: Do not edit this file (odd.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/odd.pl
@c -------------------------------------------------

@strong{Author(s):} Manuel Carro, Daniel Cabeza.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 1.3#95 (1999/11/8, 18:37:30 MET)

This module implements some miscellaneous non-logical (but sometimes very useful) predicates.



@menu
* Usage and interface (odd)::	
* Documentation on exports (odd)::  
@end menu

@node Usage and interface (odd), Documentation on exports (odd), Miscellaneous predicates, Miscellaneous predicates
@comment node-name, next,  previous,  up
@section Usage and interface (@code{odd})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(odd)).}

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex setarg/3
@code{setarg/3}, 
@glindex undo/1
@code{undo/1}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (odd),  , Usage and interface (odd), Miscellaneous predicates
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{odd})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{setarg/3 (pred)}}}
@temp
@end iftex
@pdindex setarg/3 
@glindex setarg/3 
@deffn PREDICATE setarg/3:






@strong{Usage:} @code{setarg(Index,Term,NewArg)}
@itemize @minus
@item @emph{Description:} Replace destructively argument @code{Index} in @code{Term} by @code{NewArg}. The assignment is undone on backtracking. This is a major change to the normal behavior of data assignment in CIAO Prolog. 
@item @emph{The following properties should hold at call time:}


@code{Index} is currently instantiated to an integer.
@iftex
@hfill
@end iftex
 (@code{term_typing:integer/1})

@code{Term} is a compound term.
@iftex
@hfill
@end iftex
 (@code{basic_props:struct/1})

@code{NewArg} is any term.
@iftex
@hfill
@end iftex
 (@code{basic_props:term/1})
@item @emph{The following properties hold upon exit:}


@code{Index} is currently instantiated to an integer.
@iftex
@hfill
@end iftex
 (@code{term_typing:integer/1})

@code{Term} is a compound term.
@iftex
@hfill
@end iftex
 (@code{basic_props:struct/1})

@code{NewArg} is any term.
@iftex
@hfill
@end iftex
 (@code{basic_props:term/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{undo/1 (pred)}}}
@temp
@end iftex
@pdindex undo/1 
@glindex undo/1 
@deffn PREDICATE undo/1:






@strong{Usage:} @code{undo(Goal)}
@itemize @minus
@item @emph{Description:}  @code{call(@code{Goal})} is executed on backtracking. This is a major change to the normal 
@glindex control
control of CIAO Prolog execution. 
@item @emph{The following properties should hold at call time:}


@code{Goal} is a term which represents a goal, i.e., an atom or a structure.
@iftex
@hfill
@end iftex
 (@code{basic_props:callable/1})
@item @emph{The following properties hold upon exit:}


@code{Goal} is a term which represents a goal, i.e., an atom or a structure.
@iftex
@hfill
@end iftex
 (@code{basic_props:callable/1})
@end itemize
@end deffn
@sp 1


@c (component)


@node actmods (library), Breadth-first execution, Miscellaneous predicates, Top
@comment node-name, next,  previous,  up
@chapter actmods (library)
@liindex actmods
@c -------------------------------------------------
@c WARNING: Do not edit this file (actmods.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/actmods/actmods.pl
@c -------------------------------------------------






@menu
* Usage and interface (actmods)::  
@end menu

@node Usage and interface (actmods),  , actmods (library), actmods (library)
@comment node-name, next,  previous,  up
@section Usage and interface (@code{actmods})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_package(actmods).}

or

@code{:- module(...,...,[actmods]).}

@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex actmods/actmodrt
@code{actmods/actmodrt}, 
@glindex aggregates
@code{aggregates}, 
@glindex dynamic
@code{dynamic}, 
@glindex iso_misc
@code{iso_misc}, 
@glindex iso_byte_char
@code{iso_byte_char}, 
@glindex iso_incomplete
@code{iso_incomplete}, 
@glindex operators
@code{operators}, 
@glindex read
@code{read}, 
@glindex streams
@code{streams}, 
@glindex write
@code{write}.


@end itemize

@end itemize
@end cartouche

@c (component)


@node Breadth-first execution, Constraint programming over rationals, actmods (library), Top
@comment node-name, next,  previous,  up
@chapter Breadth-first execution
@liindex bf
@c -------------------------------------------------
@c WARNING: Do not edit this file (bf_doc.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/bf/bf_doc.pl
@c -------------------------------------------------

@strong{Author(s):} Daniel Cabeza, Manuel Carro.


This package implements breadth-first execution of predicates. Predicates written with operators 
@glindex '<-'/1
@code{'<-'/1} (facts) and 
@glindex '<-'/2
@code{'<-'/2} (clauses) are executed using breadth-first search. An example of code would be: 
@smallexample 
:- module(bf_example, _, [bf]).

test(bf) :- bfchain(a,d).
test(df) :- chain(a,d).   % loops!

bfchain(X,X) <- .
bfchain(X,Y) <- arc(X,Z), bfchain(Z,Y).

chain(X,X).
chain(X,Y) :- arc(X,Z), chain(Z,Y).

arc(a,b).
arc(a,d).
arc(b,c).
arc(c,a).

@end smallexample  




@menu
* Usage and interface (bf)::	
* Known bugs and planned improvements (bf)::  
@end menu

@node Usage and interface (bf), Known bugs and planned improvements (bf), Breadth-first execution, Breadth-first execution
@comment node-name, next,  previous,  up
@section Usage and interface (@code{bf})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_package(bf).}

or

@code{:- module(...,...,[bf]).}

@item @strong{New operators defined:}

@glindex <-/2
@code{<-/2} [1200,xfx], 
@glindex <-/1
@code{<-/1} [1200,xf].
@end itemize
@end cartouche


@node Known bugs and planned improvements (bf),  , Usage and interface (bf), Breadth-first execution
@comment node-name, next,  previous,  up
@section Known bugs and planned improvements (@code{bf})

@itemize @bullet{}

@item
Does not correctly work in user files.
@end itemize

@c (component)


@node Constraint programming over rationals, Constraint programming over reals, Breadth-first execution, Top
@comment node-name, next,  previous,  up
@chapter Constraint programming over rationals
@liindex clpq
@c -------------------------------------------------
@c WARNING: Do not edit this file (clpq_doc.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/clpqr_src/clpq_doc.pl
@c -------------------------------------------------

@strong{Author(s):} Christian Holzbaur, Daniel Cabeza.


This package is currently under development.



@menu
* Usage and interface (clpq)::	
@end menu

@node Usage and interface (clpq),  , Constraint programming over rationals, Constraint programming over rationals
@comment node-name, next,  previous,  up
@section Usage and interface (@code{clpq})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_package(clpq).}

or

@code{:- module(...,...,[clpq]).}
@end itemize
@end cartouche

@c (component)


@node Constraint programming over reals, Object oriented programming, Constraint programming over rationals, Top
@comment node-name, next,  previous,  up
@chapter Constraint programming over reals
@liindex clpr
@c -------------------------------------------------
@c WARNING: Do not edit this file (clpr_doc.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/clpqr_src/clpr_doc.pl
@c -------------------------------------------------

@strong{Author(s):} Christian Holzbaur, Daniel Cabeza.


This package is currently under development.



@menu
* Usage and interface (clpr)::	
@end menu

@node Usage and interface (clpr),  , Constraint programming over reals, Constraint programming over reals
@comment node-name, next,  previous,  up
@section Usage and interface (@code{clpr})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_package(clpr).}

or

@code{:- module(...,...,[clpr]).}
@end itemize
@end cartouche

@c (component)


@node Object oriented programming, Declaring classes and interfaces, Constraint programming over reals, Top
@comment node-name, next,  previous,  up
@chapter Object oriented programming
@c -------------------------------------------------
@c WARNING: Do not edit this file (ociao_doc.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/objects/ociao_doc.pl
@c -------------------------------------------------

@strong{Author(s):} Angel Fernandez Pineda.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 1.3#63 (1999/9/29, 19:54:17 MEST)

O'CIAO is a set of libraries which allows object-oriented programming in CIAO Prolog. It extends the CIAO Prolog module system by introducing two new concepts: 


@itemize @bullet{} 
@item Inheritance. 
@item Instantiation. 
@end itemize  


@coindex Polymorphism
@glindex Polymorphism
@emph{Polymorphism} is the third fundamental concept provided by object oriented programming. This concept is not mentioned here since @strong{traditional PROLOG systems are polymorphic by nature}. 

Classes are declared in the same way as modules. However, they may be enriched with inheritance declarations and other object-oriented constructs. For an overview of the fundamentals of O'CIAO, see @uref{http://www.clip.dia.fi.upm.es/~clip/papers/ociao-tr.ps.gz}. However, we will introduce the concepts in a tutorial way via examples. 



@menu
* Early examples:::		
* Recommendations on when to use objects:::  
* Limitations on object usage:::  
@end menu

@node Early examples:, Recommendations on when to use objects:, Object oriented programming, Object oriented programming
@comment node-name, next,  previous,  up
@section Early examples: 

The following one is a very simple example which declares a class -- a simple stack. Note that if you replace @emph{class/1} declaration with a @emph{module/1} declaration, it will compile correctly, and can be used as a normal Prolog module. 




@smallexample 
%%--------------------------------------------%%
%% class/1, at the beginning of the file,     %%
%% will declare current source to be a class. %%
%%--------------------------------------------%%
:- class(stack,[],[]).

% State declaration: storage/1 will be an attribute.
:- dynamic storage/1.

% Interface declaration: the following predicates will
% be available at run-time.

:- export(push/1).
:- export(pop/1).
:- export(top/1).
:- export(is_empty/0).

% Code 

push(Item) :-
        nonvar(Item),
        asserta_fact(storage(Item)).

pop(Item) :-
        var(Item),
        retract_fact(storage(Item)).

top(Top) :-
        storage(Top),
        !.

is_empty :-
        storage(_),
        !,
        fail.

is_empty.

@end smallexample  

If we load this code at the CIAO toplevel shell: 


@smallexample 
        ?- use_package(objects).

        yes
        ?- use_class(library('class/examples/stack')).

        yes
        ?-
@end smallexample  

we can create two stack @emph{instances} : 


@smallexample 
        ?- St1 new stack,St2 new stack.

        St1 = '9254074093385163',
        St2 = '9254074091' ? ,
@end smallexample  

and then, we can operate on them separately: 


@smallexample 
        1 ?- St1:push(8),St2:push(9).

        St1 = '9254074093385163',
        St2 = '9254074091' ? 

        yes
        1 ?- St1:top(I),St2:top(K).

        I = 8,
        K = 9,
        St1 = '9254074093385163',
        St2 = '9254074091' ? 

        yes
        1 ?-
@end smallexample  

The interesting point is that there are two stacks. If the previous example had been a normal module, we would have a stack , but @strong{only one} stack. 

The next example introduces the concepts of @emph{inheritable} predicate, @emph{constructor}, @emph{destructor} and @emph{virtual method}. Refer to the following sections for further explanation. 


@smallexample 
%%----------------------------------%%
%% A generic class to perform       %%
%% item storage.                    %%
%%----------------------------------%%
:- class(generic).

% Public interface declaration:
:- export([set/1,get/1,callme/0]).

% An attribute
:- data datum/1.

% inheritable/1 is used for datum/1
% to become available to descendant
% classes (if any).
:- inheritable(datum/1).

% Attribute initialization. Attributes
% are easily initialized by writing clauses
% for them.

datum(none).

% Code

set(X) :-
        type_check(X),
        set_fact(datum(X)).

get(X) :-
        datum(X).

:- virtual type_check/1.

type_check(X) :-
        nonvar(X).

callme :-
        a_virtual(IMPL),
        display(IMPL),
        display(' implementation of a_virtual/0 '),
        nl.

% virtual/1 will tell the compiler to use the most
% descendant implementation of a_virtual/1 when calling
% it from inside this code (for example,see callme/0).
% If there is no descendant implementation for it, 
% the one defined bellow will be used.

:- virtual a_virtual/1.
a_virtual(generic).

% Constructor: in this case, every time an instance
% of this class is created, it will display a message.

generic :-
        display(' generic class constructor '),
        nl.

% Destructor: analogous to the previous constructor,
% it will display a message every time an instance
% of this class is eliminated.

destructor :-
        display(' generic class destructor '),
        nl.

@end smallexample  

And the following example, is an extension of previous class. This is performed by establishing an inheritance relationship: 


@smallexample 
%%----------------------------------%%
%% This class provides additional   %%
%% functionality to the generic     %%
%% class.                           %%
%%----------------------------------%%

:- class(specific).

% establish an inheritance relationship with "generic" class.
:- inherit_class(library('class/examples/generic')).

% override inherited datum/1.
% datum/1 is said to be overriden because there are both
% an inherited definition (from "generic" class) and a local one.

:- data datum/1. 
:- inheritable datum/1.

% Extend the public interface inherited from "generic".
% note that set/1 and a_virtual/0 has been also overriden. 
% undo/0 is a new added functionality.

:- export([set/1,undo/0]).

% Code

set(Value) :-
        inherited datum(OldValue),
        !,
        inherited set(Value),
        asserta_fact(datum(OldValue)).


set(Value) :-
        inherited set(Value).

undo :-
        retract_fact(datum(Last)),
        !,
        asserta_fact(inherited(datum(Last))).

undo :-
        retractall_fact(inherited(datum(_))).

% new implementation of a_virtual. This
% implementation will be used from inherited callme/0
% instead of that version defined at "generic".

a_virtual(specific).

% constructor

specific :-
        generic,
        retractall_fact(inherited(datum(_))),
        display(' specific class constructor '),
        nl.

% destructor

destructor :-
        display(' specific class destructor '),
        nl.

@end smallexample  

@strong{Additional examples} may be found on the @emph{library/class/examples} directory relative to your CIAO Prolog instalation. 



@node Recommendations on when to use objects:, Limitations on object usage:, Early examples:, Object oriented programming
@comment node-name, next,  previous,  up
@section Recommendations on when to use objects: 



We would like to give some advice in the use of object oriented programming, in conjunction with the declarative paradigm. 

You should reconsider using O'CIAO in the following cases: 


@itemize @bullet{} 


@item The pretended "objects" have no state,i.e., no data or dynamic predicates. In this case, a normal module will suffice. 


@item There is state, but there will be only one instance of a pretended class. Again, a module suffices. 


@item The "objects" are data structures (list,trees,etc) already supported by Prolog. However, it does make sense to model, using objects, data structures whose change implies a side-effect such as drawing a particular window on the screen. 


@end itemize  

We recommend the usage of O'CIAO in the following cases: 


@itemize @bullet{} 


@item You feel you will need to have several copies of a "module". 
@item Local copies of a module are needed instead of a global module beeing modified by several ones. 
@item The "classes" are a representation of external entities to Prolog. For example: the X-Window system. 
@item There is state or code outside the Prolog system which needs to be manipulated. For example: interfaces to Java or Tcl/Tk code. 
@item You are not familiar with Prolog, but you know about object oriented programming. O'CIAO may be used as a learning tool to introduce yourself on the declarative programming paradigm. 


@end itemize  



@node Limitations on object usage:,  , Recommendations on when to use objects:, Object oriented programming
@comment node-name, next,  previous,  up
@section Limitations on object usage: 

O'CIAO run-time speed is limited by the usage of meta-programming structures, for instance: @code{X = (Object:mymethod(25)), call(X)}. O'CIAO will optimize static manipulation of objects (those that can be determined at compile time). 


@c (component)


@node Declaring classes and interfaces, Error reporting when compiling classes and interfaces, Object oriented programming, Top
@comment node-name, next,  previous,  up
@chapter Declaring classes and interfaces
@liindex class
@c -------------------------------------------------
@c WARNING: Do not edit this file (class_doc.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/class/class_doc.pl
@c -------------------------------------------------

@strong{Author(s):} Angel Fernandez Pineda.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 1.3#76 (1999/10/13, 18:29:1 MEST)

O'CIAO classes are declared in the same way as traditional prolog modules. The general mechanism of @emph{source expansion} will translate object-oriented declarations to normal prolog code. This is done transparently to the user. 

Abstract 
@coindex interfaces
@glindex interfaces
@emph{interfaces} are restricted classes which declare exported predicates with no implementation. The implementation itselt will be provided by some class using an 
@glindex implements/1
@code{implements/1} declaration. Only 
@glindex export/1
@code{export/1} and 
@glindex data/1
@code{data/1} declarations are allowed when declaring an interface. Normal classes may treated as interfaces just ignoring all exported predicate implementations. 



@menu
* Usage and interface (class)::	 
* Documentation on new declarations (class)::  
* Documentation on exports (class)::  
* Known bugs and planned improvements (class)::	 
@end menu

@node Usage and interface (class), Documentation on new declarations (class), Declaring classes and interfaces, Declaring classes and interfaces
@comment node-name, next,  previous,  up
@section Usage and interface (@code{class})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

To declare a class the compiler must be told to use the @code{class} @emph{source expansion}. To do so, source code must start with a module declaration which loads the class package: 
@smallexample  
           :- class(ClassName).
@end smallexample  
@noindent
or a 
@glindex module/3
@code{module/3} declaration, as follows: 
@smallexample  
           :- module(ClassName,[],[class]).
@end smallexample  


@noindent

@glindex interfaces
interfaces are declared in a similar way: 
@smallexample  
           :- interface(InterfaceName).
@end smallexample  

Please, do not use SICStus-like module declaration, with a non-empty export list. In other case, some non-sense errors will be reported by normal CIAO module system. 

Most of the regular CIAO declarations may be used when defining a class, such as 
@glindex concurrent/1
@code{concurrent/1},
@glindex dynamic/1
@code{dynamic/1}, 
@glindex discontiguous/1
@code{discontiguous/1},
@glindex multifile/1
@code{multifile/1}, and so on. 

However, there are some restrictions wich apply to those declarations: 
@itemize @bullet{} 
@item 
@glindex meta_predicate/1
@code{meta_predicate/1} declaration is not allowed to hold 
@coindex addmodule and pred(N) meta-arguments
@glindex addmodule and pred(N) meta-arguments
@emph{addmodule and pred(N) meta-arguments}, except for previously declared multifiles. 
@item Attribute and multifile predicates must be declared before any clause of the related predicate. 
@item There is no sense in declaring an attribute as meta_predicate. 
@end itemize  

It is a good practique to put all your declarations at the very begining of the file, just before the code itself. 

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex inherited/1
@code{inherited/1}, 
@glindex self/1
@code{self/1}, 
@glindex constructor/0
@code{constructor/0}, 
@glindex destructor/0
@code{destructor/0}.


@end itemize


@item @strong{New declarations defined:}

@glindex export/1
@code{export/1}, 
@glindex public/1
@code{public/1}, 
@glindex inheritable/1
@code{inheritable/1}, 
@glindex data/1
@code{data/1}, 
@glindex dynamic/1
@code{dynamic/1}, 
@glindex concurrent/1
@code{concurrent/1}, 
@glindex inherit_class/1
@code{inherit_class/1}, 
@glindex implements/1
@code{implements/1}, 
@glindex virtual/1
@code{virtual/1}.


@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex objects/objects_rt
@code{objects/objects_rt}.


@end itemize

@end itemize
@end cartouche


@node Documentation on new declarations (class), Documentation on exports (class), Usage and interface (class), Declaring classes and interfaces
@comment node-name, next,  previous,  up
@section Documentation on new declarations (@code{class})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{export/1 (decl)}}}
@temp
@end iftex
@deindex export/1 
@glindex export/1 
@deffn DECLARATION export/1:



Declares a method or attribute to be part of the 
@coindex public interface
@glindex public interface
@emph{public interface}. 

The public interface is the set of predicates wich will be accesible from any code establishing an usage relationship with this class (see 
@glindex use_class/1
@code{use_class/1} for further information). 

Publishing an attribute or method is very similar to @emph{exporting} a predicate in a Prolog module. 

Whether an inherited and exported predicate is 
@glindex overriden
overriden, it must be explicitly exported again. 

An inherited (but not exported) predicate may become exported, without overriding it by the usage of this declaration. 


@strong{Usage:} :- @code{export(Spec)}.
@itemize @minus
@item @emph{Description:} @code{Spec} will be part of the public (exported) interface. 
@item @emph{The following properties should hold at call time:}


@code{Spec} is a method or attribute specification.
@iftex
@hfill
@end iftex
 (@code{objects_rt:method_spec/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{public/1 (decl)}}}
@temp
@end iftex
@deindex public/1 
@glindex public/1 
@deffn DECLARATION public/1:



Just an alias for 
@glindex export/1
@code{export/1}.


@strong{Usage:} :- @code{public(Spec)}.
@itemize @minus
@item @emph{Description:} This declaration may be used instead of 
@glindex export/1
@code{export/1}. 
@item @emph{The following properties should hold at call time:}


@code{Spec} is a method or attribute specification.
@iftex
@hfill
@end iftex
 (@code{objects_rt:method_spec/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{inheritable/1 (decl)}}}
@temp
@end iftex
@deindex inheritable/1 
@glindex inheritable/1 
@deffn DECLARATION inheritable/1:



Declares a method or attribute to be inherited by descendant classes. Notice that all @strong{public predicates are inheritable by default}. There is no need to mark them as inheritable. 

Traditionaly, object oriented languages makes use of the 
@coindex protected
@glindex protected
@emph{protected} concept. Inheritable/1 may be used as the same concept. 

The set of inheritable predicates is called the 
@coindex inheritable interface
@glindex inheritable interface
@emph{inheritable interface}. 


@strong{Usage:} :- @code{inheritable(MethodSpec)}.
@itemize @minus
@item @emph{Description:} @code{MethodSpec} is accessible to descendant classes. 
@item @emph{The following properties should hold at call time:}


@code{MethodSpec} is a method or attribute specification.
@iftex
@hfill
@end iftex
 (@code{objects_rt:method_spec/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{(data)/1 (decl)}}}
@temp
@end iftex
@deindex data/1 
@glindex data/1 
@deffn DECLARATION data/1:



Declares an 
@coindex attribute
@glindex attribute
@emph{attribute} at current class. Attributes are used to build the internal state of instances. So, each instance will own a particular copy of those attribute definitions. In this way, one instance may have different state from another. 

O'CIAO attributes are restricted to hold simple facts. It is not possible to hold a Head :- Body clause at an instance attribute. 

Notice that attributes are 
@coindex multi-evaluated
@glindex multi-evaluated
@emph{multi-evaluated} by nature, and may be manipulated by the habitual @strong{assert/retract} family of predicates. 

Attributes may also be initialized. In order to do so, simply put some clauses after the attribute definition. Each time an instance is created, its initial state will be built from those 
@coindex initialization clauses
@glindex initialization clauses
@emph{initialization clauses}. 

Note: whether a data/1 declaration appears inside an interface, it will be automatically exported. 


@strong{Usage:} :- @code{data Spec}.
@itemize @minus
@item @emph{Description:} @code{Spec} is an attribute. 
@item @emph{The following properties should hold at call time:}


@code{Spec} is a method or attribute specification.
@iftex
@hfill
@end iftex
 (@code{objects_rt:method_spec/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{(dynamic)/1 (decl)}}}
@temp
@end iftex
@deindex dynamic/1 
@glindex dynamic/1 
@deffn DECLARATION dynamic/1:



Just an alias for 
@glindex data/1
@code{data/1}. 


@strong{Usage:} :- @code{dynamic Spec}.
@itemize @minus
@item @emph{Description:} You may use this declaration instead of 
@glindex data/1
@code{data/1}. 
@item @emph{The following properties should hold at call time:}


@code{Spec} is a method or attribute specification.
@iftex
@hfill
@end iftex
 (@code{objects_rt:method_spec/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{(concurrent)/1 (decl)}}}
@temp
@end iftex
@deindex concurrent/1 
@glindex concurrent/1 
@deffn DECLARATION concurrent/1:



Declares a 
@coindex concurrent attribute
@glindex concurrent attribute
@emph{concurrent attribute} at current class. Concurrent attributes are just the same as normal attributes, those declared using 
@glindex data/1
@code{data/1}, except for they may freeze the calling thread instead of failing when no more choice points are remaining on the concurrent attribute. 

In order to get more information about concurrent behavior take a look to the concurrent/1 built-in declaration on CIAO Prolog module system. 


@strong{Usage:} :- @code{concurrent Spec}.
@itemize @minus
@item @emph{Description:} Declares @code{Spec} to be a concurrent attribute. 
@item @emph{The following properties should hold at call time:}


@code{Spec} is a method or attribute specification.
@iftex
@hfill
@end iftex
 (@code{objects_rt:method_spec/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{inherit_class/1 (decl)}}}
@temp
@end iftex
@deindex inherit_class/1 
@glindex inherit_class/1 
@deffn DECLARATION inherit_class/1:



Makes any public and/or inheritable predicate at inherited class to become accesible by any instance derived from current class. 

Inherited class is also called the 
@coindex super class
@glindex super class
@emph{super class}. 

Only one inherit_class/1 declaration is allowed to be present at current source. 

Notice that inheritance is 
@glindex public
public by default. Any public and/or inheritable declaration will remain the same to descendant classes. However, any inherited predicate may be @emph{overriden} (redefined). 

A predicate is said to be 
@coindex overriden
@glindex overriden
@emph{overriden} when it has been inherited from super class, but there are clauses (or a 
@glindex data/1
@code{data/1} declaration) present at current class for such a predicate. 

Whether a @strong{public} predicate is overriden, the local definition must also be exported, otherwise an error is reported. 

Whether an @strong{inheritable} predicate (not public) is overriden, the local definition must also be marked as inheritable or exported, otherwise an error is also reported. 

Note: whether inherit_class/1 appears inside an interface, it will be used as an 
@glindex implements/1
@code{implements/1} declaration. 


@strong{Usage:} :- @code{inherit_class(Source)}.
@itemize @minus
@item @emph{Description:} Establish an 
@coindex inheritance relationship
@glindex inheritance relationship
@emph{inheritance relationship} between current class and the class defined at @code{Source} file. 
@item @emph{The following properties should hold at call time:}


@code{Source} is a valid path to a prolog file containing a class declaration (without .pl extension).
@iftex
@hfill
@end iftex
 (@code{objects_rt:class_source/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{implements/1 (decl)}}}
@temp
@end iftex
@deindex implements/1 
@glindex implements/1 
@deffn DECLARATION implements/1:



Forces current source to provide an implementation for the given interface file. Such interface file may declare another class or a specific interface. Interface files are described at 
@glindex interface_doc
@code{interface_doc} library. 

Every public predicate present at given interface file will be automatically declared as public at current source, so you @strong{must} provide an implementation for such predicates. 

The effect of this declaration is called 
@coindex interface inheritance
@glindex interface inheritance
@emph{interface inheritance},and there is no restriction on the number of implements/1 declarations present at current code. 


@strong{Usage:} :- @code{implements(Interface)}.
@itemize @minus
@item @emph{Description:} Current source is supposed to provide an implementation for @code{Interface}. 
@item @emph{The following properties should hold at call time:}


@code{Interface} is a valid path to a prolog file containing a class declaration or an interface declaration (without .pl extension).
@iftex
@hfill
@end iftex
 (@code{objects_rt:interface_source/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{virtual/1 (decl)}}}
@temp
@end iftex
@deindex virtual/1 
@glindex virtual/1 
@deffn DECLARATION virtual/1:



This declaration may be used whenever descendant classes are to implement different versions of a given predicate. 


@coindex virtual
@glindex virtual
@emph{virtual} predicates give a chance to handle, in an uniform way, different implementations of the same functionality. 

Whether a virtual predicate is declared as a method, there must be at least one clause of it present at current source. Whenever no special implementation is needed at current class, a never-fail/allways-fail clause may be defined (depending on your needs). For example: 


@smallexample 
   :- virtual([ test1/1 , test2/2 ]).
   test1(_).
   test2(_,_) :- fail.
@end smallexample  

This kind of virtual methods are also known as 
@coindex abstract methods
@glindex abstract methods
@emph{abstract methods}, since implementation is fully delegated to descendant classes. 

An attribute may be also declared as a virtual one, but there is no need to write clauses for it. 


@strong{Usage:} :- @code{virtual(VirtualMethodSpec)}.
@itemize @minus
@item @emph{Description:} All calls to @code{VirtualMethodSpec} predicate in current source will use the most descendant implementation of it. 
@item @emph{The following properties should hold at call time:}


@code{VirtualMethodSpec} is a method specification.
@iftex
@hfill
@end iftex
 (@code{objects_rt:virtual_method_spec/1})
@end itemize
@end deffn
@sp 1



@node Documentation on exports (class), Known bugs and planned improvements (class), Documentation on new declarations (class), Declaring classes and interfaces
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{class})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{inherited/1 (pred)}}}
@temp
@end iftex
@pdindex inherited/1 
@glindex inherited/1 
@deffn PREDICATE inherited/1:



This predicate qualificator may be used whenever you need to reference an attribute or method on the super class. 

Since methods and attributes may be 
@glindex redefined
redefined, this qualificator is need to distinguish between a locally declared predicate and the inherited one, which has the same name. 

There is no need to use inherited/1 if a particular inherited predicate has not been redefined at current class. 


@strong{Usage:} @code{inherited(Goal)}
@itemize @minus
@item @emph{Description:} References a given @code{Goal} at the super class 
@item @emph{The following properties should hold at call time:}


@code{Goal} is a term which represents a goal, i.e., an atom or a structure.
@iftex
@hfill
@end iftex
 (@code{basic_props:callable/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{self/1 (pred)}}}
@temp
@end iftex
@pdindex self/1 
@glindex self/1 
@deffn PREDICATE self/1:



Determines which instance is currently executing self/1 goal. 

Predicate will fail if argument is not a free variable. Otherwise, it will allways succeed, retrieving the instance identifier which is executing current code. 

This functionality is very usefull since an object must have knowledge of other object's identifier in order to send messages to it.For example: 

:- concurrent ack/0. 

send_data_to_object(Data,Obj) :- self(X), Obj:take_this(Data,X), current_fact(ack). 

acknowledge :- asserta_fact(ack). 

take_this(Data,Sender) :- validate_data(Data), Sender:acknowledge. 


@strong{Usage:} @code{self(Variable)}
@itemize @minus
@item @emph{Description:} Retrieves current instance identifier in @code{Variable} 
@item @emph{The following properties should hold at call time:}


@code{Variable} is a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:var/1})
@item @emph{The following properties should hold upon exit:}


@code{Variable} is an unique term which identifies an object.
@iftex
@hfill
@end iftex
 (@code{objects_rt:instance_id/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{constructor/0 (pred)}}}
@temp
@end iftex
@pdindex constructor/0 
@glindex constructor/0 
@deffn PREDICATE constructor/0:



A 
@coindex constructor
@glindex constructor
@emph{constructor} is a special case of method which complains the following conditions: 


@itemize @bullet{} 
@item The constructor functor matches the current class name. 
@item A constructor may hold any number of arguments. 
@item If an inheritance relationship was defined, an inherited constructor must be manually called (see below). 
@item When instance creation takes place, any of the declared constructors are implicitly called. The actual constructor called depends on the 
@glindex new/2
@code{new/2} goal specified by the user. 
@end itemize  

This is a simple example of constructor declaration for the foo class: 


@smallexample 
           foo :- 
               display('an instance was born').
@end smallexample  

Constructor declaration is not mandatory, and there may be more than one constructor declarations (with different arity) at the source code. 

This functionality is usefull when some computation is needed at instance creation. For example: opening a socket, clearing the screen, etc. 

Whenever an inheritance relationship is established, and there is any constructor defined at the super class, you must call manually an inherited constructor. Here is an example: 


@smallexample 
           :- class(foo).
           :- inherit_class(myclass).

           foo :-
               myclass(0),
               display('an instance was born').

           foo(N) :- myclass(N).
@end smallexample  

Consequences may be unpredictable, if you forget to call an inherited constructor. You should also take care not to call an inherited constructor twice. 

All defined constructors are inheritable by default. A constructor may also be declared as public (by the user), but it is not mandatory. 


@strong{Usage:} 
@itemize @minus
@item @emph{Description:} Constructors are implicitly declared 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{destructor/0 (pred)}}}
@temp
@end iftex
@pdindex destructor/0 
@glindex destructor/0 
@deffn PREDICATE destructor/0:



A 
@coindex destructor
@glindex destructor
@emph{destructor} is a special case of method which will be automatically called when instance destruction takes place. 

A destructor will never be wanted to be part of the public interface, and there is no need to mark them as inheritable, since all inherited destructors are called by O'CIAO just before yours. 

This is a simple example of destructor declaration: 


@smallexample 
           destructor :- 
               display('goodbye, cruel world!!!').
@end smallexample  

Destructor declaration is not mandatory. Failure or sucess of destructors will be ignored by O'CIAO, and they will be called only once. 

This functionality is usefull when some computation is need at instance destruction. For example: closing an open file. 


@strong{Usage:} 
@itemize @minus
@item @emph{Description:} Destructors are implicitly declared 
@end itemize
@end deffn
@sp 1



@node Known bugs and planned improvements (class),  , Documentation on exports (class), Declaring classes and interfaces
@comment node-name, next,  previous,  up
@section Known bugs and planned improvements (@code{class})

@itemize @bullet{}

@item
addmodule and pred(N) meta-arguments are not allowed on meta-predicates. 
@end itemize

@c (component)


@node Error reporting when compiling classes and interfaces, Using OCIAO objects, Declaring classes and interfaces, Top
@comment node-name, next,  previous,  up
@chapter Error reporting when compiling classes and interfaces
@liindex class_error
@c -------------------------------------------------
@c WARNING: Do not edit this file (class_error_doc.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/class/class_error_doc.pl
@c -------------------------------------------------

@strong{Author(s):} Angel Fernandez Pineda.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 1.3#66 (1999/9/30, 13:19:4 MEST)

 This chapter will explain error reporting when declaring a class. The first section will explain compile-time errors, this is, any semantic error which may be determined at compile time. The second section will explain run-time errors, this is, any exception that may be raisen by the incorrect usage of O'CIAO. Some of those errors may be not reported at compile time, due to the use of meta-programational structures. For example: 

@code{functor(X,my_method,0),call(X).} 

O'CIAO is not able to check whether my_method/0 is a valid method or not. So, this kind of checking is left to run time. 



@menu
* Error reporting at compile time::  
* Error reporting at run time::	 
* Normal Prolog module system interaction::  
* Usage and interface (class_error)::  
@end menu

@node Error reporting at compile time, Error reporting at run time, Error reporting when compiling classes and interfaces, Error reporting when compiling classes and interfaces
@comment node-name, next,  previous,  up
@section Error reporting at compile time 
 
@itemize @bullet{} 


@item @strong{ERROR : multiple inheritance not allowed.} 

There are two or more inherit_class/1 declarations found at your code. Only one declaration is allowed, since there is no multiple code inheritance support. 


@item @strong{ERROR : invalid inheritance declaration.} 

The given parameter to inherit_class/1 declaration is not a valid path to a Prolog source. 


@item @strong{ERROR : sorry, addmodule meta-arg is not allowed at @emph{F/A}. } 

You are trying to declare @emph{F/A} as meta-predicate, and one of the meta-arguments is @emph{addmodule}. This is not allowed in O'CIAO due to implementation restrictions. For example: 

@code{:- meta_predicate example(addmodule).} 

@code{example(X,FromModule) :- call(FromModule:X).} 


@item @strong{ERROR : invalid attribute declaration for @emph{Arg}. } 

Argument to data/1 or dynamic/1 declaration is not a valid predicate specification of the form @emph{Functor/Arity}. For example: 

@code{:- data attr.} 

@code{:- dynamic attr(_).} 

@code{:- data attr/m.} 

etc,etc... 


@item @strong{ERROR : pretended attribute @emph{F/A} was assumed to be a method.} 

You put some clauses of @emph{F/A} before the corresponding data/1 or dynamic/1 declaration. For example: 

@code{attr(initial_value).} 

@code{:- data attr/1.} 

It is a must to declare attributes before any clause of the given predicate. 


@item @strong{ERROR : destructor/0 is not allowed to be an attribute.} 

There is a :- data(destructor/0) or :- dynamic(destructor/0). declaration in your code. This is not allowed since destructor/0 is a reserved predicate, and must be allways a method. 


@item @strong{ERROR : @emph{Constructor} is not allowed to be an attribute.} 

As the previos error, you are trying to declare a constructor as an attribute. A constructor must be allways a method. 


@item @strong{ERROR : invalid multifile: destructor/0 is a reserved predicate.} 

There is a :- multifile(destructor/0). declaration in your code. This is not allowed since destructor/0 is a reserved predicate, and must be allways a method. 


@item @strong{ERROR : invalid multifile: @emph{Constructor} is a reserved predicate.} 

As the previos error, you are trying to declare a constructor as a multifile. Any constructor must allways be a method. 


@item @strong{ERROR : multifile declaration of @emph{F/A} ignored: it was assumed to be a method.} 

You put some clauses of @emph{F/A} before the corresponding multifile/1 declaration. For example: 

example(a,b). 

@code{:- multifile example/2.} 

Multifile predicates must be declared before any clause of the given predicate. 


@item @strong{ERROR : invalid multifile declaration: multifile(@emph{Arg}). } 

Given argument to multifile/1 declaration is not a valid predicate specification, of the form @emph{Functor/Arity}. 


@item @strong{ERROR : invalid public declaration: @emph{Arg}. } 

Given argument @emph{Arg} to public/1 or export/1 declaration is not a valid predicate specification, of the form @emph{Functor/Arity}. 


@item @strong{ERROR : invalid inheritable declaration: inheritable(@emph{Arg}). } 

Given argument @emph{Arg} to inheritable/1 declaration is not a valid predicate specification, of the form @emph{Functor/Arity}. 


@item @strong{ERROR : destructor/0 is not allowed to be virtual.} 

There is a :- virtual(destructor/0) declaration present at your code. Destructors and/or constructors are not allowed to be virtual. 


@item @strong{ERROR : @emph{Constructor} is not allowed to be virtual.} 

As the previous error, you are trying to declare a constructor as virtual. This is not allowed. 


@item @strong{ERROR : invalid virtual declaration: virtual(@emph{Arg}). } 

Given argument to virtual/1 declaration is not a valid predicate specification, of the form @emph{Functor/Arity}. 


@item @strong{ERROR : clause of @emph{F/A} ignored : only facts are allowed as initial state.} 

You declared @emph{F/A} as an attribute, then you put some clauses of that predicate in the form @emph{Head :- Body}. For example: 

@code{:- data my_attribute/1.} 

@code{my_attribute(X) :- X>=0 , X<=2.} 

This is not allowed since attributes are assumed to hold simple facts. The correct usage for those @emph{initialization clauses} is: 

@code{:- data my_attribute/1.} 

@code{my_attribute(0).} 

@code{my_attribute(1).} 

@code{my_attribute(2).} 


@item @strong{ERROR : multifile @emph{F/A} is not allowed to be public.} 

The given @emph{F/A} predicate is both present at multifile/1 and public/1 declarations. For example: 

@code{:- public(p/1).} 

@code{:- multifile(p/1).} 

This is not allowed since multifile predicates are not related to Object Oriented Programming. 


@item @strong{ERROR : multifile @emph{F/A} is not allowed to be inheritable.} 

Analogous to previous error. 


@item @strong{ERROR : multifile @emph{F/A} is not allowed to be virtual.} 

Analogous to previous error. 


@item @strong{ERROR : virtual @emph{F/A} must be a method or attribute defined at this class.} 

There is a virtual/1 declaration for @emph{F/A}, but there is not any clause of that predicate nor a 
@glindex data/1
@code{data/1} declaration. You must declare at least one clause for every virtual method. Virtual attributes does not require any clause but a 
@glindex data/1
@code{data/1} declaration must be present. 


@item @strong{ERROR : implemented interface @emph{Module} is not a valid interface.} 

There is an 
@glindex implements/1
@code{implements/1} declaration present at your code where given @emph{Module} is not declared as class nor interface. 


@item @strong{ERROR : predicate @emph{F/A} is required both as method (at @emph{Itf1} interface) and attribute (at @emph{Itf2} interface).} 

There is no chance to give a correct implementation for @emph{F/A} predicate since @emph{Itf1} and @emph{Itf2} interfaces require different definitions. To avoid this error, you must remove one of the related 
@glindex implements/1
@code{implements/1} declaration. 


@item @strong{ERROR : inherited @emph{Source} must be a class.} 

There is an :- inherit_class(@emph{Source}) declaration, but that source was not declared as a class. 


@item @strong{ERROR : circular inheritance: @emph{Source} is not a valid super-class.} 

Establishing an inheritance relationship with @emph{Source} will cause current class to be present twice in the inheritance line. This is not allowed. The cause of this is error is simple : There is some inherited class from @emph{Source} which also establishes an inheritance relationship with current source. 


@item @strong{ERROR : method/attribute @emph{F/A} must be implemented.} 

Some of the implemented interfaces requires @emph{F/A} to be defined, but there is no definition for such predicate, even an inherited one. 


@item @strong{ERROR : local implementation of @emph{F/A} hides inheritable/public definition.} 

There is an inherited definition for @emph{F/A} which is been redefined at current class, but there is no valid inheritable/public declaration for the last one. Overriden public predicates must be also declared as public. Overriden inheritable predicates must be declared either as public or inheritable. 


@item @strong{ERROR : public predicate @emph{F/A} was not defined nor inherited.} 

There is a 
@glindex public/1
@code{public/1} declaration for @emph{F/A}, but there is no definition for it at current class nor an inherited one. 


@item @strong{ERROR : argument to self/1 must be a free variable.} 

Argument to self/1 is not a variable, for example: @code{self(abc)}. 


@item @strong{ERROR : unknown inherited attribute in @emph{Goal}.} 

@emph{Goal} belongs to assert/retract family of predicates, and given argument is not a valid inherited attribute. The most probable causes of this error are: 


@itemize @bullet{} 


@item The given predicate is defined at super-class, but you forgot to mark it as inheritable (or public), at such class. 
@item The given predicate was not defined (at super-class) as an attribute, just as a method. 
@end itemize  


@item @strong{ERROR : unknown inherited goal: @emph{Goal}.} 

The given @emph{Goal} was not found at super-class, or it is not accessible. Check whether @emph{Goal} was marked as inheritable (or public) at super-class. 


@item @strong{ERROR : invalid argument: @emph{F/A} is not an attribute.} 

You are trying to pass a method as an argument to any predicate which expect a @emph{fact} predicate. 


@item @strong{ERROR : unknown inherited fact: @emph{Fact}.} 

There is a call to any predicate which expects a @emph{fact} argument (those declared as data or dynamic),but the actual argument is not an inherited attribute.For example: 

@code{asserta_fact(inherited(not_an_attribute(8)))} 

where not_an_attribute/1 was not declared as data or dynamic by the super-class (or corresponding ascendant). 


@item @strong{ERROR : unknown inherited spec: @emph{F/A}.} 

There is a reference to an inherited predicate specification, but the involved predicate has not been inherited. 


@item @strong{WARNING : meta-predicate specification of @emph{F/A} ignored since this is an attribute.} 

You declared @emph{F/A} both as an attribute and a meta-predicate. For example: 

@code{:- meta_predicate attr(goal).} 

@code{:- data attr/1.} 

There is no sense in declaring an attribute as meta-predicate. 


@item @strong{WARNING : class destructor is public} 

There is a :- public(destructor/0) declaration present at your code. Marking a destructor as public is a very bad idea since anybody may destroy or corrupt an instance before the proper time. 


@item @strong{WARNING : class destructor is inheritable} 

Analogous to previous error. 


@item @strong{WARNING : There is no call to inherited constructor/s} 

You have not declared any constructor at your class, but there is any inherited constructor that should be called. Whenever you do not need constructors, but there is an inheritance relationship (where super-class declares a constructor), you should write a simple constructor as the following example: 
@smallexample 
   :- class(myclass).
   :- inherit_class(other_class).

   myclass :-
           other_class.
@end smallexample  


@item @strong{WARNING : multifile @emph{F/A} hides inherited predicate.} 

You declared as multifle a predicate which matches an inherited predicate name. Any reference to the inherited predicate must be done by the ways of the inherited/1 qualificator. 


@end itemize  
 



@node Error reporting at run time, Normal Prolog module system interaction, Error reporting at compile time, Error reporting when compiling classes and interfaces
@comment node-name, next,  previous,  up
@section Error reporting at run time 
 


@itemize @bullet{} 
 
@item @strong{EXCEPTION : error(existence_error(object_goal,@emph{Goal}),@emph{Mod}).} 

Called @emph{Goal} from module (or class) @emph{Mod} is unknown or has not been published. 



@node Normal Prolog module system interaction, Usage and interface (class_error), Error reporting at run time, Error reporting when compiling classes and interfaces
@comment node-name, next,  previous,  up
@section Normal Prolog module system interaction 

O'CIAO works in conjunction with the habitual CIAO Prolog module system, which also reports its own error messages. This will cause CIAO to report a little criptic error messages due to the general mechanism of source-to-source expansion. Those are some tips you must consider when compiling a class: 


@itemize @bullet{} 


@item Any error relative to method 'm' with arity A will be reported for predicate 'obj$m'/A+1. For example : 
 
@code{WARNING: (lns 28-30) [Item,Itema] - singleton variables in obj$remove/2} 
 
This error is relative to method remove/1. 


@item 
@glindex set_prolog_flag/1
@code{set_prolog_flag/1} declaration will be usefull when declaring multiple constructors. It will avoid some awful warnings. Example: 


@smallexample 
   :- class(myclass).

   %% Use this declaration whenever several constructors are needed.

   :- set_prolog_flag(multi_arity_warnings,off).

   myclass(_).

   myclass(_,_).

   :- set_prolog_flag(multi_arity_warnings,on).
@end smallexample  
@end itemize  




@node Usage and interface (class_error),  , Normal Prolog module system interaction, Error reporting when compiling classes and interfaces
@comment node-name, next,  previous,  up
@section Usage and interface (@code{class_error})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(class_error)).}
@end itemize
@end cartouche

@c (component)


@node Using OCIAO objects, Error reporting when using objects, Error reporting when compiling classes and interfaces, Top
@comment node-name, next,  previous,  up
@chapter Using OCIAO objects
@liindex objects
@c -------------------------------------------------
@c WARNING: Do not edit this file (objects_doc.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/objects/objects_doc.pl
@c -------------------------------------------------

@strong{Author(s):} Angel Fernandez Pineda.

@strong{Version:} 1.3#124 (1999/11/27, 4:4:5 MET)

@strong{Version of last change:} 1.3#78 (1999/10/13, 18:31:8 MEST)

This package is required to enable user code to create objects and manipulate them, as well as loading any needed class. 



@menu
* Usage and interface (objects)::  
* Documentation on new declarations (objects)::	 
* Documentation on exports (objects)::	
@end menu

@node Usage and interface (objects), Documentation on new declarations (objects), Using OCIAO objects, Using OCIAO objects
@comment node-name, next,  previous,  up
@section Usage and interface (@code{objects})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

Any code which needs to use objects must include the objects package: 
@smallexample 
    :- module(@emph{ModuleName},@emph{Exports},[objects]).
@end smallexample  
You can use objects even if your code is a class. Note that declaring a class does not automatically enables the code to create instances. 
@smallexample 
    :- class(@emph{ModuleName},[],[objects]).
@end smallexample  

This package enables both static and dynamic usage of objects. 

@item @strong{Exports:}
@itemize @minus


@item @emph{Properties:}

@glindex class_source/1
@code{class_source/1}, 
@glindex constructor/1
@code{constructor/1}, 
@glindex instance_id/1
@code{instance_id/1}, 
@glindex class_name/1
@code{class_name/1}.


@end itemize


@item @strong{New declarations defined:}

@glindex use_class/1
@code{use_class/1}, 
@glindex instance_of/2
@code{instance_of/2}, 
@glindex new/2
@code{new/2}.

@end itemize
@end cartouche


@node Documentation on new declarations (objects), Documentation on exports (objects), Usage and interface (objects), Using OCIAO objects
@comment node-name, next,  previous,  up
@section Documentation on new declarations (@code{objects})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{use_class/1 (decl)}}}
@temp
@end iftex
@deindex use_class/1 
@glindex use_class/1 
@deffn DECLARATION use_class/1:



It establishes an 
@glindex usage relationship
usage relationship between the given file (which is supposed to declare a class) and current source. Usage relationships are needed in order to enable code to create instances of the given class, and to make calls to instances derived from such class. 

Since an interface is some kind of class, they may be used within this declaration but only for semantic checking porpouses. Instances will not be derived from interfaces. 

use_class/1 is used in the same way as 
@glindex use_module/1
@code{use_module/1}. 


@strong{Usage:} :- @code{use_class(ClassSource)}.
@itemize @minus
@item @emph{Description:} Establish usage relationship with @code{ClassSource}. 
@item @emph{The following properties should hold at call time:}


@code{ClassSource} is path to a file declaring a class.
@iftex
@hfill
@end iftex
 (@code{user(... /objects_doc):class_source/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{instance_of/2 (decl)}}}
@temp
@end iftex
@deindex instance_of/2 
@glindex instance_of/2 
@deffn DECLARATION instance_of/2:



Statically declares an identifier to be an instance of a given class. 

It may be used as 
@glindex new/2
@code{new/2} predicate except for: 
@itemize @bullet{} 


@item The instance identifier will not be a variable, it must be provided by the user, and must be unique. 


@item Instance creation will never fail, even if the constructor fails. 
@end itemize  

For every statically declared object the given constructor will be called at program startup. Those instances may be destroyed manually, but it is not recommended. 

When reloading the involved class from the CIAO toplevel shell. It may destroy statically declared instances, and create them again. 

Statically declared instances must be called using a specifically designed module-qualification: @code{ClassName(Object):Goal}. For example: 
@smallexample 
    :- module(example,[main/0],[objects]).
    :- use_class(library(counter)).
    :- cnt instance_of counter(10).

    main :-
         counter(cnt):decrease(1),
         counter(cnt):current_value(X),
         display(X).
@end smallexample  
But @strong{statically written code} (only) is allowed to use module-style qualifications as a macro: 
@smallexample 
    main :-
         cnt:decrease(1),
         cnt:current_value(X),
         display(X).
@end smallexample  
Notice that dynamically expanded goals such as @code{X=cnt,X:decrease(1)} will not work, use @code{X=counter(cnt),X:decrease(1)} instead. 


@strong{Usage:} :- @code{instance_of(Object,Constructor)}.
@itemize @minus
@item @emph{Description:} Declares @code{Object} to be an instance of the class denoted by @code{Constructor}. 
@item @emph{The following properties should hold at call time:}


@code{Object} is an unique atom which identifies an object.
@iftex
@hfill
@end iftex
 (@code{user(... /objects_doc):instance_id/1})

@code{Constructor} is a term whose functor matches a class name.
@iftex
@hfill
@end iftex
 (@code{user(... /objects_doc):constructor/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{new/2 (decl)}}}
@temp
@end iftex
@deindex new/2 
@glindex new/2 
@deffn DECLARATION new/2:



This declaration has the same effect as 
@glindex instance_of/2
@code{instance_of/2}.


@strong{Usage:} :- @code{new(Object,Constructor)}.
@itemize @minus
@item @emph{Description:} Just an alias for 
@glindex instance_of/2
@code{instance_of/2}. 
@item @emph{The following properties should hold at call time:}


@code{Object} is an unique atom which identifies an object.
@iftex
@hfill
@end iftex
 (@code{user(... /objects_doc):instance_id/1})

@code{Constructor} is a term whose functor matches a class name.
@iftex
@hfill
@end iftex
 (@code{user(... /objects_doc):constructor/1})
@end itemize
@end deffn
@sp 1



@node Documentation on exports (objects),  , Documentation on new declarations (objects), Using OCIAO objects
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{objects})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{class_source/1 (prop)}}}
@temp
@end iftex
@prindex class_source/1 
@glindex class_source/1 
@deffn PROPERTY class_source/1:






@strong{Usage:} @code{class_source(Source)}
@itemize @minus
@item @emph{Description:} @code{Source} is path to a file declaring a class. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{constructor/1 (prop)}}}
@temp
@end iftex
@prindex constructor/1 
@glindex constructor/1 
@deffn PROPERTY constructor/1:






@strong{Usage:} @code{constructor(Cons)}
@itemize @minus
@item @emph{Description:} @code{Cons} is a term whose functor matches a class name. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{instance_id/1 (prop)}}}
@temp
@end iftex
@prindex instance_id/1 
@glindex instance_id/1 
@deffn PROPERTY instance_id/1:






@strong{Usage:} @code{instance_id(ID)}
@itemize @minus
@item @emph{Description:} @code{ID} is an unique atom which identifies an object. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{class_name/1 (prop)}}}
@temp
@end iftex
@prindex class_name/1 
@glindex class_name/1 
@deffn PROPERTY class_name/1:






@strong{Usage:} @code{class_name(ClassName)}
@itemize @minus
@item @emph{Description:} @code{ClassName} is an atom denoting a class. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{use_class/1 (pred)}}}
@temp
@end iftex
@pdindex use_class/1 
@glindex use_class/1 
@deffn PREDICATE use_class/1:



It establishes an 
@glindex usage relationship
usage relationship between the given file (which is supposed to declare a class) and current source. Usage relationships are needed in order to enable code to create instances of the given class, and to make calls to instances derived from such class. 

Since an interface is some kind of class, they may be used within this declaration but only for semantic checking porpouses. Instances will not be derived from interfaces. 

use_class/1 is used in the same way as 
@glindex use_module/1
@code{use_module/1}. 

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{instance_of/2 (pred)}}}
@temp
@end iftex
@pdindex instance_of/2 
@glindex instance_of/2 
@deffn PREDICATE instance_of/2:



Statically declares an identifier to be an instance of a given class. 

It may be used as 
@glindex new/2
@code{new/2} predicate except for: 
@itemize @bullet{} 


@item The instance identifier will not be a variable, it must be provided by the user, and must be unique. 


@item Instance creation will never fail, even if the constructor fails. 
@end itemize  

For every statically declared object the given constructor will be called at program startup. Those instances may be destroyed manually, but it is not recommended. 

When reloading the involved class from the CIAO toplevel shell. It may destroy statically declared instances, and create them again. 

Statically declared instances must be called using a specifically designed module-qualification: @code{ClassName(Object):Goal}. For example: 
@smallexample 
    :- module(example,[main/0],[objects]).
    :- use_class(library(counter)).
    :- cnt instance_of counter(10).

    main :-
         counter(cnt):decrease(1),
         counter(cnt):current_value(X),
         display(X).
@end smallexample  
But @strong{statically written code} (only) is allowed to use module-style qualifications as a macro: 
@smallexample 
    main :-
         cnt:decrease(1),
         cnt:current_value(X),
         display(X).
@end smallexample  
Notice that dynamically expanded goals such as @code{X=cnt,X:decrease(1)} will not work, use @code{X=counter(cnt),X:decrease(1)} instead. 

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{new/2 (pred)}}}
@temp
@end iftex
@pdindex new/2 
@glindex new/2 
@deffn PREDICATE new/2:



This declaration has the same effect as 
@glindex instance_of/2
@code{instance_of/2}.

@end deffn
@sp 1


@c (component)


@node Error reporting when using objects, Run time usage of objects, Using OCIAO objects, Top
@comment node-name, next,  previous,  up
@chapter Error reporting when using objects
@liindex objects_error
@c -------------------------------------------------
@c WARNING: Do not edit this file (objects_error_doc.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/objects/objects_error_doc.pl
@c -------------------------------------------------

@strong{Author(s):} Angel Fernandez Pineda.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 1.3#79 (1999/10/13, 18:48:0 MEST)

 Compile-time errors are restricted to some local analysis. Since there is no type declaration in the Prolog language, there is no posibility to determine whenever a given variable will hold an instance of any class. 

However, little semantic analysis is performed. User may aid to perform such an analysis by the usage of run time checks (which are also detected at compile time), or static declarations. For example: 

@code{clause(Obj) :- Obj:a_method(334).} 

O'CIAO may be not able to determine whenever a_method/1 is a valid method for instance Obj, unless some help is provided: 

@code{clause(Obj) :- Obj instance_of myclass,Obj:a_method(334).} 

In such case, O'CIAO will report any semantic error at compile-time. 
 
Most of the run-time errors are related to normal CIAO Prolog module system. Since objects are treated as normal Prolog modules at run time, there is no further documentation here about that stuff. 
 

@menu
* Error reporting at compile time (objects)::  
* Error reporting at run time (objects)::  
* Usage and interface (objects_error)::	 
@end menu

@node Error reporting at compile time (objects), Error reporting at run time (objects), Error reporting when using objects, Error reporting when using objects
@comment node-name, next,  previous,  up
@section Error reporting at compile time (objects) 
 


@itemize @bullet{} 


@item @strong{ERROR : invalid instance identifier @emph{ID}: must be an atom} 

There is a 
@glindex instance_of/2
@code{instance_of/2} or 
@glindex new/2
@code{new/2} declaration where first argument @emph{ID} must be an unique atom, but currently it is not. Statically declared instances needs an identifier to be provided by the user. 


@item @strong{ERROR : instance identifier @emph{ID} already in use} 

There are two or more 
@glindex instance_of/2
@code{instance_of/2} declarations with the same first argument @emph{ID}. Instance identifiers must be unique. 


@item @strong{ERROR : invalid use_class/1 declaration: @emph{SourceFile} is not a class} 

Those are the causes for this error: 


@itemize @bullet{} 


@item The given @emph{SourceFile} does not exist, or is not accesible. 


@item The given @emph{SourceFile} is not a Prolog source. 


@item The given @emph{SourceFile} is a valid Prolog source, but it does not declare a class. 


@end itemize  


@item @strong{ERROR : unknown class on @emph{ID} instance declaration} 

The class defined on the 
@glindex instance_of/2
@code{instance_of/2} declaration for @emph{ID} instance has not been loaded by a 
@glindex use_class/1
@code{use_class/1} declaration. 


@item @strong{ERROR : instance identifier @emph{ID} is an exisisting Prolog module} 

There is an statically declared instance whose identifier may cause interference with the CIAO Prolog module system. Use another instance identifier. 


@item @strong{ERROR : unknown constructor on @emph{ID} instance declaration} 

The given constructor on the 
@glindex instance_of/2
@code{instance_of/2} declaration for @emph{ID} has not been defined at the corresponding class. 


@item @strong{ERROR : constructor is needed on @emph{ID} instance declaration} 

No constructor was defined on the 
@glindex instance_of/2
@code{instance_of/2} declaration for @emph{ID} and default constructor is not allowed. You must provide a constructor. 


@item @strong{ERROR : static instance @emph{ID} was derived from a different constructor at @emph{AnotherModule}} 

@emph{ID} has been declared to be an static instance both on @emph{AnotherModule} and current source, but different constructors were used. The most probable causes for this error are: 


@itemize @bullet{} 


@item Occasionally, there is another module using the same instance identifier and it was not noticed by you. Another different identifier may be used instead. 


@item It was you intention to use the same object as declared by the other module. In this case, the same constructor must be used. 


@end itemize  


@item @strong{ERROR : invalid first argument in call to new(@emph{Arg},_)} 

There is a new/1 goal in your code where first argument is not a free variable. For example: 

@code{myobj new myclass} 

First argument must be a variable in order to receive a run-time generated object identifier. 


@item @strong{ERROR : unknown class in call to new(?,@emph{Constructor}) } 

The given @emph{Constructor} in call to new/2 does not correspond to any used class at current code. The most probable cause of this may be: 


@itemize @bullet{} 


@item You forgot to include a 
@glindex use_class/1
@code{use_class/1} declaration in your code. 


@item There is a spelling mistake in the constructor.For example: 

:- use_class(myclass). 

foo(X) :- X new mclass. 


@end itemize  


@item @strong{ERROR : can not create an instance from an interface: new(?,@emph{Constructor}) } 

Given @emph{Constructor} references an interface rather than a class. Instances can not be derived from interface-expanded code. 


@item @strong{ERROR : unknown constructor in call to new(?,@emph{Constructor}) } 

As the previous error, there is a mistake in the given @emph{Constructor}. This error is reported when you are trying to call a constructor which was not defined at the corresponding class. Check the class definition to find what is going on. 

Another cause for this error is the incorrect usage of the 
@glindex default constructor
default constructor. Whenever there are one or more constructors defined at the involved class, you are restricted to chose one of them. This seems that default constructor will be available, if and only if, there are no constructors defined at the involved class. 


@item @strong{ERROR : call to non-public @emph{ID:Goal}} 

You are trying to call a method which was not declared as public by the class specified in 
@glindex instance_of/2
@code{instance_of/2} declaration for @emph{ID}. 


@item @strong{ERROR : call to inaccessible predicate at instance @emph{ID:Goal}} 

There is a call to @emph{Goal} at statically declared instance @emph{ID} which is unknown or was not declared as public. 


@item @strong{ERROR : unknown instance @emph{ID} of class @emph{Class} at @emph{Goal}} 

There is a call to @emph{Goal} where involved statically declared instance @emph{ID} is unknown or is not derived from @emph{Class}. Check whether it was declared by a 
@glindex instance_of/2
@code{instance_of/2} declaration. 


@item @strong{ERROR : inaccessible attribute @emph{Fact} at instance @emph{ID}} 

There is an attempt to use @emph{ID:Fact} but it was not declared as public. 


@item @strong{ERROR : unknown attribute @emph{Fact} at instance @emph{ID}} 

There is an attempt to use @emph{ID:Fact} but it is unknown or it is not an attribute (may be a method). 


@item @strong{WARNING : invalid call to new(?,_)} 

There is a call to new/2 in you code where first argument variable has been determined to hold any other instance. For example: 

@code{foo :- X new myclass,X new otherclass.} 

or 

@code{foo(X) :- X instance_of myclass, X new myclass.} 

The related call to new/2 will allways fail. 


@item @strong{WARNING : called @emph{Goal} is not public at any used class} 

There is a call to @emph{Var}:@emph{Goal} where @emph{Var} has not been determined to be compatible with any class. However, @emph{Goal} is not public at any class specified by the 
@glindex use_class/1
@code{use_class/1} declaration. 

This is a warning (not an error) since @emph{Var}:@emph{Goal} may be not related to Object Oriented Programing. 
 



@node Error reporting at run time (objects), Usage and interface (objects_error), Error reporting at compile time (objects), Error reporting when using objects
@comment node-name, next,  previous,  up
@section Error reporting at run time (objects) 
 
@itemize @bullet{} 


@item @strong{EXCEPTION : instantiation_error( '1st argument must be free variable')} 

Calling to new/1 requieres first argument to be a free variable. For example: 

@code{X = this_will_raise_an_exception,X new myclass.} 


@item @strong{EXCEPTION : instantiation_error('class not given')} 

You called new/2 using a free variable as second argument. 


@item @strong{EXCEPTION : instantiation_error(inaccesible_class(@emph{Class}), from(@emph{Module})) } 

@emph{Module} tried to create an instance of @emph{Class} by the ways of new/2, but there is no usage relationship between @emph{Module} and @emph{Class}. 


@item @strong{EXCEPTION : instantiation_error(invalid_constructor( @emph{Constructor})) } 

@emph{Constructor} was not defined by the corresponding class. 


@end itemize  




@node Usage and interface (objects_error),  , Error reporting at run time (objects), Error reporting when using objects
@comment node-name, next,  previous,  up
@section Usage and interface (@code{objects_error})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(objects_error)).}
@end itemize
@end cartouche

@c (component)


@node Run time usage of objects, Using classes from the CIAO toplevel shell, Error reporting when using objects, Top
@comment node-name, next,  previous,  up
@chapter Run time usage of objects
@liindex objects_rt
@c -------------------------------------------------
@c WARNING: Do not edit this file (objects_rt.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/objects/objects_rt.pl
@c -------------------------------------------------

@strong{Author(s):} Angel Fernandez Pineda, Angel Fernandez Pineda.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 1.3#96 (1999/11/10, 17:38:35 MET)

This library provides run-time support for 
@glindex object
object creation and manipulation. Objects are also called 
@glindex class instances
class instances, or simply 
@glindex instances
instances. 

Objects in CIAO are treated as normal modules. This is, an object is a run-time generated Prolog module, which may be identified by an unique term across the whole application. 

This is a very simple example of how to create an instance, and how to make calls to it: 


@smallexample 
            AnObj new myclass,
            AnObj:mymethod.
         @end smallexample  

In order to make any object accessible from code, an usage relationship must be established between the class (from which instances are derived) and the code itself. Refer to 
@glindex use_class/1
@code{use_class/1} predicate or 
@glindex use_class/1
@code{use_class/1} declaration in order to do so. 



@menu
* Usage and interface (objects_rt)::  
* Documentation on exports (objects_rt)::  
* Known bugs and planned improvements (objects_rt)::  
@end menu

@node Usage and interface (objects_rt), Documentation on exports (objects_rt), Run time usage of objects, Run time usage of objects
@comment node-name, next,  previous,  up
@section Usage and interface (@code{objects_rt})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

This library is automatically loaded when using the @emph{objects} package: 
@smallexample 
    :- module(@emph{ModuleName},@emph{Exports},[objects]).
@end smallexample  
Nothing special needs to be done. 

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex new/2
@code{new/2}, 
@glindex instance_of/2
@code{instance_of/2}, 
@glindex derived_from/2
@code{derived_from/2}, 
@glindex interface/2
@code{interface/2}, 
@glindex instance_codes/2
@code{instance_codes/2}, 
@glindex destroy/1
@code{destroy/1}.


@item @emph{Properties:}

@glindex constructor/1
@code{constructor/1}, 
@glindex class_name/1
@code{class_name/1}, 
@glindex interface_name/1
@code{interface_name/1}, 
@glindex instance_id/1
@code{instance_id/1}, 
@glindex class_source/1
@code{class_source/1}, 
@glindex interface_source/1
@code{interface_source/1}, 
@glindex method_spec/1
@code{method_spec/1}, 
@glindex virtual_method_spec/1
@code{virtual_method_spec/1}.


@end itemize


@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex prolog_sys
@code{prolog_sys}, 
@glindex system
@code{system}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (objects_rt), Known bugs and planned improvements (objects_rt), Usage and interface (objects_rt), Run time usage of objects
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{objects_rt})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{new/2 (pred)}}}
@temp
@end iftex
@pdindex new/2 
@glindex new/2 
@deffn PREDICATE new/2:



Dynamic instance creation takes place by the ways of this predicate. 

It takes a free variable as first argument which will be instantiated to an internal object identifier. 

Second argument must be instantiated to a 
@glindex class constructor
class constructor. Class constructors are designed to perform an initialization on the new created instance. Notice that instance initialization may involve some kind of computation, not only @emph{state initialization}. 

A class constructor is made by a functor, which must match the intended class name, and any number of parameters. For example: 


@smallexample 
            Obj new myclass(1500,'hello, world!!!')
         @end smallexample  

Those parameters depends (obviously) on the constructors defined at the class source. If no constructors where defined, no parameters are needed. This is called the 
@glindex default constructor
default constructor. An example: 


@smallexample 
            Obj new myclass
         @end smallexample  

The default constructor can not be called if there is any constructor available at the class source. 

Instantiation will raise an exception and fail whenever any of this conditions occur: 
@itemize @bullet{} 
@item First argument is not a free variable. 
@item Second argument functor is a class, but there is no usage relationship with it. 
@item Second argument functor is not a class. 
@item The given constructor is unknown. 
@item The given constructor fails (notice that default constructor never fails). 
@end itemize  

Objects may also be statically declared, refer to 
@glindex instance_of/2
@code{instance_of/2} declaration. 


@strong{Usage:} @code{new(InstanceVar,Constructor)}
@itemize @minus
@item @emph{Description:} Creates a new instance of the class specified by @code{Constructor} returning its identifier in @code{InstanceVar} 
@item @emph{The following properties should hold at call time:}


@code{InstanceVar} is a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:var/1})

@code{Constructor} is a term whose functor matches a class name.
@iftex
@hfill
@end iftex
 (@code{objects_rt:constructor/1})
@item @emph{The following properties should hold upon exit:}


@code{InstanceVar} is an unique term which identifies an object.
@iftex
@hfill
@end iftex
 (@code{objects_rt:instance_id/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{instance_of/2 (pred)}}}
@temp
@end iftex
@pdindex instance_of/2 
@glindex instance_of/2 
@deffn PREDICATE instance_of/2:



This predicate is used to perform dynamic type checking. You may check whether a particular instance belongs to a particular class or related descendants. 

instance_of/2 is used to perform static 
@glindex semantic analisys
semantic analisys over object oriented code constructions. 

By the use of instance_of/2 you may help to perform such analisys. 


@strong{Usage 1:} @code{instance_of(Instance,Class)}
@itemize @minus
@item @emph{Description:} Test whether @code{Instance} was derived from any descendant of @code{Class}, or that class itself 
@item @emph{The following properties should hold at call time:}


@code{Instance} is an unique term which identifies an object.
@iftex
@hfill
@end iftex
 (@code{objects_rt:instance_id/1})

@code{Class} is an atom denoting a class.
@iftex
@hfill
@end iftex
 (@code{objects_rt:class_name/1})
@end itemize

@strong{Usage 2:} @code{instance_of(Instance,Class)}
@itemize @minus
@item @emph{Description:} Retrieves, on backtracking, the inheritance line of @code{Instance} commencing on the creation class (that specified on call to 
@glindex new/2
@code{new/2}) and continuing on the rest of ascendant classes, if any. 
@item @emph{The following properties should hold at call time:}


@code{Instance} is an unique term which identifies an object.
@iftex
@hfill
@end iftex
 (@code{objects_rt:instance_id/1})

@code{Class} is a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:var/1})
@item @emph{The following properties should hold upon exit:}


@code{Class} is an atom denoting a class.
@iftex
@hfill
@end iftex
 (@code{objects_rt:class_name/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{derived_from/2 (pred)}}}
@temp
@end iftex
@pdindex derived_from/2 
@glindex derived_from/2 
@deffn PREDICATE derived_from/2:



Test whether an object identifier was derived directly from a class, by the usage of 
@glindex new/2
@code{new/2} or a static instance declaration (
@glindex instance_of/2
@code{instance_of/2}). 


@strong{Usage 1:} @code{derived_from(Instance,Class)}
@itemize @minus
@item @emph{Description:} Test derivation of @code{Instance} from @code{Class} 
@item @emph{The following properties should hold at call time:}


@code{Instance} is an unique term which identifies an object.
@iftex
@hfill
@end iftex
 (@code{objects_rt:instance_id/1})

@code{Class} is an atom denoting a class.
@iftex
@hfill
@end iftex
 (@code{objects_rt:class_name/1})
@end itemize

@strong{Usage 2:} @code{derived_from(Instance,Class)}
@itemize @minus
@item @emph{Description:} Retrieves the @code{Class} responsable of the derivation of @code{Instance}. 
@item @emph{The following properties should hold at call time:}


@code{Instance} is an unique term which identifies an object.
@iftex
@hfill
@end iftex
 (@code{objects_rt:instance_id/1})

@code{Class} is a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:var/1})
@item @emph{The following properties should hold upon exit:}


@code{Class} is an atom denoting a class.
@iftex
@hfill
@end iftex
 (@code{objects_rt:class_name/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{interface/2 (pred)}}}
@temp
@end iftex
@pdindex interface/2 
@glindex interface/2 
@deffn PREDICATE interface/2:



This predicate is used to ensure a given interface to be implemented by a given instance. 


@strong{Usage 1:} @code{interface(Instance,Interface)}
@itemize @minus
@item @emph{Description:} Check whether @code{Instance} implements the given @code{Interface}. 
@item @emph{The following properties should hold at call time:}


@code{Instance} is an unique term which identifies an object.
@iftex
@hfill
@end iftex
 (@code{objects_rt:instance_id/1})

@code{Interface} is an unique atom which identifies a public interface.
@iftex
@hfill
@end iftex
 (@code{objects_rt:interface_name/1})
@end itemize

@strong{Usage 2:} @code{interface(Instance,Interfaces)}
@itemize @minus
@item @emph{Description:} Retrieves on backtracking all the implemented @code{Interfaces} of @code{Instance}. 
@item @emph{The following properties should hold at call time:}


@code{Instance} is an unique term which identifies an object.
@iftex
@hfill
@end iftex
 (@code{objects_rt:instance_id/1})

@code{Interfaces} is a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:var/1})
@item @emph{The following properties should hold upon exit:}


@code{Interfaces} is an unique atom which identifies a public interface.
@iftex
@hfill
@end iftex
 (@code{objects_rt:interface_name/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{instance_codes/2 (pred)}}}
@temp
@end iftex
@pdindex instance_codes/2 
@glindex instance_codes/2 
@deffn PREDICATE instance_codes/2:



Retrieves a character string representation from an object identifier and vice-versa. 


@strong{Usage 1:} @code{instance_codes(Instance,String)}
@itemize @minus
@item @emph{Description:} Retrieves a @code{String} representation of given @code{Instance}. 
@item @emph{The following properties should hold at call time:}


@code{Instance} is an unique term which identifies an object.
@iftex
@hfill
@end iftex
 (@code{objects_rt:instance_id/1})

@code{String} is a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:var/1})
@item @emph{The following properties should hold upon exit:}


@code{String} is a string (a list of character codes).
@iftex
@hfill
@end iftex
 (@code{basic_props:string/1})
@end itemize

@strong{Usage 2:} @code{instance_codes(Instance,String)}
@itemize @minus
@item @emph{Description:} Reproduces an @code{Instance} from its @code{String} representation. Such an instance must be alive across the application: this predicate will fail whether the involved instance has been destroyed.  
@item @emph{The following properties should hold at call time:}


@code{Instance} is a free variable.
@iftex
@hfill
@end iftex
 (@code{term_typing:var/1})

@code{String} is a string (a list of character codes).
@iftex
@hfill
@end iftex
 (@code{basic_props:string/1})
@item @emph{The following properties should hold upon exit:}


@code{Instance} is an unique term which identifies an object.
@iftex
@hfill
@end iftex
 (@code{objects_rt:instance_id/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{destroy/1 (pred)}}}
@temp
@end iftex
@pdindex destroy/1 
@glindex destroy/1 
@deffn PREDICATE destroy/1:



As well as instances are created, they must be destroyed when no longer needed in order to release system resources. 

Unfortunately, current O'CIAO implementation does not support automatic instance destruction, so user must manually call @emph{destroy/1} in order to do so. 

The programmer @strong{must ensure} that no other references to the involved object are left in memory when destroy/1 is called. If not, unexpected results may be obtained. 


@strong{Usage:} @code{destroy(Instance)}
@itemize @minus
@item @emph{Description:} Destroys the object identified by @code{Instance}. 
@item @emph{The following properties should hold at call time:}


@code{Instance} is an unique term which identifies an object.
@iftex
@hfill
@end iftex
 (@code{objects_rt:instance_id/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{constructor/1 (prop)}}}
@temp
@end iftex
@prindex constructor/1 
@glindex constructor/1 
@deffn PROPERTY constructor/1:






@strong{Usage:} @code{constructor(Cons)}
@itemize @minus
@item @emph{Description:} @code{Cons} is a term whose functor matches a class name. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{class_name/1 (prop)}}}
@temp
@end iftex
@prindex class_name/1 
@glindex class_name/1 
@deffn PROPERTY class_name/1:






@strong{Usage:} @code{class_name(ClassName)}
@itemize @minus
@item @emph{Description:} @code{ClassName} is an atom denoting a class. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{interface_name/1 (prop)}}}
@temp
@end iftex
@prindex interface_name/1 
@glindex interface_name/1 
@deffn PROPERTY interface_name/1:






@strong{Usage:} @code{interface_name(Interface)}
@itemize @minus
@item @emph{Description:} @code{Interface} is an unique atom which identifies a public interface. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{instance_id/1 (prop)}}}
@temp
@end iftex
@prindex instance_id/1 
@glindex instance_id/1 
@deffn PROPERTY instance_id/1:






@strong{Usage:} @code{instance_id(ID)}
@itemize @minus
@item @emph{Description:} @code{ID} is an unique term which identifies an object. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{class_source/1 (prop)}}}
@temp
@end iftex
@prindex class_source/1 
@glindex class_source/1 
@deffn PROPERTY class_source/1:






@strong{Usage:} @code{class_source(Source)}
@itemize @minus
@item @emph{Description:} @code{Source} is a valid path to a prolog file containing a class declaration (without .pl extension). 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{interface_source/1 (prop)}}}
@temp
@end iftex
@prindex interface_source/1 
@glindex interface_source/1 
@deffn PROPERTY interface_source/1:






@strong{Usage:} @code{interface_source(Source)}
@itemize @minus
@item @emph{Description:} @code{Source} is a valid path to a prolog file containing a class declaration or an interface declaration (without .pl extension). 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{method_spec/1 (prop)}}}
@temp
@end iftex
@prindex method_spec/1 
@glindex method_spec/1 
@deffn PROPERTY method_spec/1:



There is no difference between method or attribute specifications, and habitual predicate specifications. It is just a Functor/Arity term. 


@strong{Usage:} @code{method_spec(Spec)}
@itemize @minus
@item @emph{Description:} @code{Spec} is a method or attribute specification. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{virtual_method_spec/1 (prop)}}}
@temp
@end iftex
@prindex virtual_method_spec/1 
@glindex virtual_method_spec/1 
@deffn PROPERTY virtual_method_spec/1:






@strong{Usage:} @code{virtual_method_spec(Spec)}
@itemize @minus
@item @emph{Description:} @code{Spec} is a method specification. 
@end itemize
@end deffn
@sp 1



@node Known bugs and planned improvements (objects_rt),  , Documentation on exports (objects_rt), Run time usage of objects
@comment node-name, next,  previous,  up
@section Known bugs and planned improvements (@code{objects_rt})

@itemize @bullet{}

@item
Rock-and-roll Star ate my hamster :-(
@end itemize

@c (component)


@node Using classes from the CIAO toplevel shell, *** PART VIII - Interfaces to other languages and systems, Run time usage of objects, Top
@comment node-name, next,  previous,  up
@chapter Using classes from the CIAO toplevel shell
@liindex dynclasses
@c -------------------------------------------------
@c WARNING: Do not edit this file (dynclasses.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/dynclasses.pl
@c -------------------------------------------------

@strong{Author(s):} Angel Fernandez Pineda.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 1.3#21 (1999/7/7, 10:27:51 MEST)

The CIAO toplevel shell will be a usefull tool in order to compile and test O'CIAO classes. Those classes may be dynamically loaded, so some instances of them may be created to perform any needed test.



@menu
* Usage and interface (dynclasses)::  
* Documentation on exports (dynclasses)::  
* Known bugs and planned improvements (dynclasses)::  
@end menu

@node Usage and interface (dynclasses), Documentation on exports (dynclasses), Using classes from the CIAO toplevel shell, Using classes from the CIAO toplevel shell
@comment node-name, next,  previous,  up
@section Usage and interface (@code{dynclasses})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

This library will be automatically loaded when using the @emph{objects} package from the toplevel shell: 
@smallexample 
	?- use_package(objects).
@end smallexample  

It may be usefull for you to put a @code{:- use_package(objects)} declaration on your @emph{.cshrc} initialization file. In such case, absolutely nothing is needed to load this library. 

The Emacs ciao-mode will also automatically load this library when a @emph{Load buffer} command is issued (@code{C-c l}). 

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex use_class/1
@code{use_class/1}.


@end itemize


@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex dynmods
@code{dynmods}, 
@glindex filenames
@code{filenames}, 
@glindex objects/objects_rt
@code{objects/objects_rt}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (dynclasses), Known bugs and planned improvements (dynclasses), Usage and interface (dynclasses), Using classes from the CIAO toplevel shell
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{dynclasses})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{use_class/1 (pred)}}}
@temp
@end iftex
@pdindex use_class/1 
@glindex use_class/1 
@deffn PREDICATE use_class/1:



This predicate is something very similar to 
@glindex use_module/1
@code{use_module/1}. 

It will (re)compile and/or (re)load a class source file from the CIAO shell so instances of that class can be now created. 

There is an implicit usage relationship between the CIAO shell and @strong{any and all loaded} classes. This seems that user is allowed to create (
@glindex new/1
@code{new/1}) and call any public predicate even when the involved class was not specifically loaded using the use_class/1 predicate.For example: 
@smallexample 
   :- module(test,[example/1],[objects]).

   :- use_class(test_class).

    example(Obj) :-
        Obj new test_class,
        Obj:do_something.
@end smallexample  

Whenever this code is loaded: 


@smallexample 
	?- use_module(test).
@end smallexample  

user is allowed to handle instances of @emph{test_class} (and ascendants): 


@smallexample 
	?- test:example(SomeObj), SomeObj:test_something.
@end smallexample  

Note that @emph{test_class} was not loaded using use_class/1 predicate, but public predicate @emph{test_something/0} may be called. 

Some other usefull notes: 


@itemize @bullet{} 


@item Every time a class is reloaded using use_class/1, all previously created instances of that class will be automatically destroyed. 


@item Predicate use_class/1 will fail if called from user programs. 


@item use_class/1 will have no effect whether given source is not a class. 


@end itemize  



@strong{Usage:} @code{use_class(Source)}
@itemize @minus
@item @emph{Description:} Compile and load @code{Source} class 
@end itemize
@end deffn
@sp 1



@node Known bugs and planned improvements (dynclasses),  , Documentation on exports (dynclasses), Using classes from the CIAO toplevel shell
@comment node-name, next,  previous,  up
@section Known bugs and planned improvements (@code{dynclasses})

@itemize @bullet{}

@item
Not really a bug: when loading code which declares static instances (
@glindex use_module/1
@code{use_module/1}), those instances may be not correctly created, and predicates will fail whenever they are not supposed to do. This may be avoided by reloading again the involved module, but make sure it is modified and saved to disk before doing so. 
@end itemize

@c (component)


@node *** PART VIII - Interfaces to other languages and systems, Foreign interface, Using classes from the CIAO toplevel shell, Top
@comment node-name, next,  previous,  up
@unnumbered PART VIII - Interfaces to other languages and systems
@iftex
@vfill
@cartouche
@sp
@ 
@end iftex
@c -------------------------------------------------
@c WARNING: Do not edit this file (Interfaces.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/doc/common/Interfaces.pl
@c -------------------------------------------------


The following interfaces to/from Ciao Prolog are documented in this part: 
@itemize @bullet{} 
@item external interface (e.g., to C); 
@item socket interface; 
@item tcl/tk interface; 
@item Web http-like interface; 
@item persistent predicate databases (interface between the Prolog internal database and the external file system); 
@item SQL-like database interface; 
@item Java interface. 
@end itemize  


@iftex
@sp 
@end cartouche
@vfill
@end iftex

@c (component)


@node Foreign interface, Utilities for on-demand compilation of foreign files, *** PART VIII - Interfaces to other languages and systems, Top
@comment node-name, next,  previous,  up
@chapter Foreign interface
@liindex foreign_interface
@c -------------------------------------------------
@c WARNING: Do not edit this file (foreign_interface.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/foreign_interface/foreign_interface.pl
@c -------------------------------------------------

@strong{Author(s):} Jose Morales, Manuel Carro.

@strong{Version:} 1.4 (1999/11/27, 19:0:0 MEST)

@strong{Version of last change:} 1.3#123 (1999/11/27, 3:3:55 MET)

This module exports two predicates, 
@glindex build_foreign_interface/1
@code{build_foreign_interface/1} and 
@glindex rebuild_foreign_interface/1
@code{rebuild_foreign_interface/1}. These predicates know about the correspondence between C types and Ciao Prolog types through the assertions documenting them. 

Each predicate implemented as a foreign C function must appear in the module as: 


@smallexample  
     :- true pred prolog_predicate(m1(Arg1), ... mN(ArgN)) :: type1 *
          ... * typeN + (foreign(foreign_function_name), returns(ArgR)).

     :- impl_defined([..., prolog_predicate/N, ...]).
   @end smallexample  

where @code{m1}, ..., @code{mN} and @code{type1}, ..., @code{typeN} are respectively the modes and types of the arguments. 


@glindex prolog_predicate/N
@code{prolog_predicate/N} is implemented by @code{foreign_function_name}, whose result is unified with @code{ArgR}. 

This notation can be simplified if the name of the foreign function is the same as the name of the Ciao Prolog predicate, replacing @code{foreign(foreign_function)} with just @code{foreign}. @code{returns(ArgR)} specifies that the result of the function corresponds to the @code{ArgR} argument of the Ciao Prolog predicate. If the foreign function does not return anything, then @code{returns(ArgR)} must be removed. Note that @code{returns} cannot be used without @code{foreign}. 


@smallexample  
     :- true pred prolog_predicate(m1(Arg1), ... mN(ArgN)) :: type1 *
          ... * typeN + foreign.
   @end smallexample  



@menu
* Equivalence between Ciao Prolog and C modes::	 
* Equivalence between Ciao Prolog and C types::	 
* Examples::			
* Usage and interface (foreign_interface)::  
* Documentation on exports (foreign_interface)::  
@end menu

@node Equivalence between Ciao Prolog and C modes, Equivalence between Ciao Prolog and C types, Foreign interface, Foreign interface
@comment node-name, next,  previous,  up
@section Equivalence between Ciao Prolog and C modes 

(This section has not been written yet) 



@node Equivalence between Ciao Prolog and C types, Examples, Equivalence between Ciao Prolog and C modes, Foreign interface
@comment node-name, next,  previous,  up
@section Equivalence between Ciao Prolog and C types 

The translation between Ciao Prolog and C types is defined only for some simple types. The translation to be performed is solely defined by types of the arguments in the Ciao Prolog predicate, obeying the table below: 


@itemize @bullet{} 
@item num <-> double 
@item int <-> int 
@item atm <-> char * 
@item string <-> char * (with trailing zero) 
@item byte_list <-> char * (a buffer, with associated length) 
@item address <-> void * 
@end itemize  

Strings, atoms, and lists of bytes are passed to (and from) C as dynamically (malloc) created arrays of characters (bytes). Those arrays are freed by Ciao Prolog upon return of the foreign function unless 
@glindex do_not_free/2
@code{do_not_free/2} is specified (see examples below). 

Empty lists of bytes are converted into @code{NULL}, and strings @code{[]} or atoms '' are converted into @emph{""} (a zero ended C string). @emph{NULL} is converted into an empty list or the @emph{''} atom. 

@code{NULL} strings and empty buffers are converted into the empty list or the null atom (@code{''}). Empty Ciao Prolog strings (@code{"} or @code{[]}) and null atoms are converted into zero-terminated strings of zero length. Empty Ciao Prolog lists are converted into @code{NULL}. 

The type 
@glindex byte_list/1
@code{byte_list/1} requires an additional property, 
@glindex size_of/3
@code{size_of/3}, to indicate which argument represents its size. 



@node Examples, Usage and interface (foreign_interface), Equivalence between Ciao Prolog and C types, Foreign interface
@comment node-name, next,  previous,  up
@section Examples 



@menu
* Mathematical functions::	
* Addresses and C pointers::	
* Lists of bytes and buffers::	
* Strings and atoms::		
@end menu

@node Mathematical functions, Addresses and C pointers, Examples, Examples
@comment node-name, next,  previous,  up
@subsection Mathematical functions 

@emph{math.pl} 


@smallexample  
:- module(math,
	[sin/2,
	 cos/2,
	 fabs/2
	],
	[assertions,
	 basicmodes,
	 regtypes,
	 'foreign_interface/syntax'
	]).

:- true pred sin(in(X),go(Y)) :: num * num + (foreign,returns(Y)).
:- true pred cos(in(X),go(Y)) :: num * num + (foreign,returns(Y)).
:- true pred fabs(in(X),go(Y)) :: num * num + (foreign,returns(Y)).

:- extra_compiler_opts(['-O2']).
:- extra_compiler_opts('LINUXi86',['-ffast-math']).
:- use_foreign_library([m]).

:- impl_defined([sin/2,cos/2,fabs/2]).
@end smallexample  



@node Addresses and C pointers, Lists of bytes and buffers, Mathematical functions, Examples
@comment node-name, next,  previous,  up
@subsection Addresses and C pointers 

@emph{objects.pl} 


@smallexample  
:- module(objects,
	[object/2,
	 show_object/1
	],
	[assertions,
	 basicmodes,
	 regtypes,
	 'foreign_interface/syntax'
	]).
	 
:- true pred object(in(N),go(Object)) :: int * address +
	(foreign,returns(Object)).

:- true pred show_object(in(Object)) :: address + foreign.

:- use_foreign_source(objects_c).
:- extra_compiler_opts('-O2').

:- impl_defined([object/2,show_object/1]).
@end smallexample  

@emph{objects_c.c} 
 
@smallexample  
#include <stdio.h>

struct object @{
  char *name;
  char *colour;
@};

#define OBJECTS 3

struct object objects[OBJECTS] =
@{ @{"ring","golden"@},
  @{"table","brown"@},
  @{"bottle","green"@} @};

struct object *object(int n) @{
  return &objects[n % OBJECTS];
@}

void show_object(struct object *o) @{
  printf("I show you a %s %s\n", o->colour, o->name);
@}
@end smallexample  



@node Lists of bytes and buffers, Strings and atoms, Addresses and C pointers, Examples
@comment node-name, next,  previous,  up
@subsection Lists of bytes and buffers 

@emph{byte_lists.pl} 


@smallexample  
:- module(byte_lists,
	[obtain_list/3,
	 show_list/2
	],
	[assertions,
	 basicmodes,
	 regtypes,
	 'foreign_interface/syntax'
	]).
	 
:- true pred obtain_list(in(N),go(Length),go(List)) :: int * int * byte_list
	+ (foreign,size_of(List,Length)).
:- true pred show_list(in(Length),in(List)) :: int * byte_list
	+ (foreign,size_of(List,Length)).

:- use_foreign_source(bytes_op).

:- impl_defined([obtain_list/3,show_list/2]).
@end smallexample  

@emph{bytes_op.c} 


@smallexample  
#include <malloc.h>
#include <stdio.h>

void obtain_list(int n, int *l, char **s) @{
  int i;
  int c;
  if (n < 0) n = 0;
  *l = n;
  *s = (char *)malloc(*l);
  for (i = 0; i < *l; i++) @{
    (*s)[i] = i;
  @}
@}

void show_list(int l, char *s) @{
  if (s) @{
    int n;
    printf("From C: [");
    for (n = 0; n < l; n++) @{
      printf(" %d", s[n]);
    @}
    printf("]\n");
  @} else @{
    printf("From C: []\n");
  @}
@}
@end smallexample  



@node Strings and atoms,  , Lists of bytes and buffers, Examples
@comment node-name, next,  previous,  up
@subsection Strings and atoms 

@emph{strings_and_atoms.pl} 


@smallexample  
:- module(strings_and_atoms,
	[lookup_string/2,
	 lookup_atom/2,
	 a_string/1,
	 show_string/1,
	 show_atom/1
	],
	[assertions,
	 basicmodes,
	 regtypes,
	 'foreign_interface/syntax'
	]).


:- true pred a_string(go(S)) ::
	string + (foreign(get_static_str),returns(S),do_not_free(S)).
	 
:- true pred lookup_string(in(N),go(S)) ::
	int * string + (foreign(get_str),returns(S)).
:- true pred lookup_atom(in(N),go(S)) ::
	int * atm + (foreign(get_str),returns(S)).

:- true pred show_string(in(S)) :: string + foreign(put_str).
:- true pred show_atom(in(S)) :: atm + foreign(put_str).

:- use_foreign_source(str_op).

:- impl_defined([lookup_string/2,lookup_atom/2,show_string/1,show_atom/1,
                 a_string/1]).
@end smallexample  

@emph{str_op.c} 


@smallexample  
#include <malloc.h>
#include <stdio.h>

char *get_static_str() @{
  return "this is a string Ciao Prolog should not free";
@}

char *get_str(int n) @{
  char *s;
  int size;
  int i;
  int c;
  if (n < 0) n = -n;
  size = (n%4) + 5;
  s = (char *)malloc(size+1);
  for (i = 0, c = ((i + n) % ('z' - 'a' + 1)) + 'a'; i < size; i++,c++) @{
    if (c > 'z') c = 'a'; 
    s[i] = c;
  @}
  s[i] = 0;
  return s;
@}

void put_str(char *s) @{
  if (s) @{
    printf("From C: \"%s\"\n", s);
  @} else @{
    printf("From C: null\n");
  @}
@}
@end smallexample 




@node Usage and interface (foreign_interface), Documentation on exports (foreign_interface), Examples, Foreign interface
@comment node-name, next,  previous,  up
@section Usage and interface (@code{foreign_interface})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(foreign_interface)).}

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex build_foreign_interface/1
@code{build_foreign_interface/1}, 
@glindex rebuild_foreign_interface/1
@code{rebuild_foreign_interface/1}, 
@glindex build_foreign_interface_explicit_decls/2
@code{build_foreign_interface_explicit_decls/2}, 
@glindex build_foreign_interface_object/1
@code{build_foreign_interface_object/1}, 
@glindex rebuild_foreign_interface_object/1
@code{rebuild_foreign_interface_object/1}, 
@glindex do_interface/1
@code{do_interface/1}.


@end itemize


@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex terms
@code{terms}, 
@glindex lists
@code{lists}, 
@glindex llists
@code{llists}, 
@glindex aggregates
@code{aggregates}, 
@glindex system
@code{system}, 
@glindex format
@code{format}, 
@glindex messages
@code{messages}, 
@glindex assertions/assrt_lib
@code{assertions/assrt_lib}, 
@glindex foreign_compilation
@code{foreign_compilation}, 
@glindex compiler/c_itf
@code{compiler/c_itf}, 
@glindex ctrlcclean
@code{ctrlcclean}, 
@glindex errhandle
@code{errhandle}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (foreign_interface),  , Usage and interface (foreign_interface), Foreign interface
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{foreign_interface})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{build_foreign_interface/1 (pred)}}}
@temp
@end iftex
@pdindex build_foreign_interface/1 
@glindex build_foreign_interface/1 
@deffn PREDICATE build_foreign_interface/1:






@strong{Usage:} @code{build_foreign_interface(in(File))}
@itemize @minus
@item @emph{Description:} Reads assertions from @code{File}, generates the gluecode for the Ciao Prolog interface, compiles the foreign files and the gluecode file, and links everything in a shared object. Checks modification times to determine automatically which files must be generated/compiled/linked. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{in(File)} is a source name.
@iftex
@hfill
@end iftex
 (@code{streams_basic:sourcename/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{rebuild_foreign_interface/1 (pred)}}}
@temp
@end iftex
@pdindex rebuild_foreign_interface/1 
@glindex rebuild_foreign_interface/1 
@deffn PREDICATE rebuild_foreign_interface/1:






@strong{Usage:} @code{rebuild_foreign_interface(in(File))}
@itemize @minus
@item @emph{Description:} Like 
@glindex build_foreign_interface/1
@code{build_foreign_interface/1}, but it does not check the modification time of any file. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{in(File)} is a source name.
@iftex
@hfill
@end iftex
 (@code{streams_basic:sourcename/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{build_foreign_interface_explicit_decls/2 (pred)}}}
@temp
@end iftex
@pdindex build_foreign_interface_explicit_decls/2 
@glindex build_foreign_interface_explicit_decls/2 
@deffn PREDICATE build_foreign_interface_explicit_decls/2:






@strong{Usage:} @code{build_foreign_interface_explicit_decls(in(File),in(Decls))}
@itemize @minus
@item @emph{Description:} Like 
@glindex build_foreign_interface/1
@code{build_foreign_interface/1}, but use declarations in @code{Decls} instead of reading the declarations from @code{File}. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{in(File)} is a source name.
@iftex
@hfill
@end iftex
 (@code{streams_basic:sourcename/1})

@code{in(Decls)} is a list of @code{term}s.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{build_foreign_interface_object/1 (pred)}}}
@temp
@end iftex
@pdindex build_foreign_interface_object/1 
@glindex build_foreign_interface_object/1 
@deffn PREDICATE build_foreign_interface_object/1:






@strong{Usage:} @code{build_foreign_interface_object(in(File))}
@itemize @minus
@item @emph{Description:} Compiles the gluecode file with the foreign source files producing an unique object file. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{in(File)} is a source name.
@iftex
@hfill
@end iftex
 (@code{streams_basic:sourcename/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{rebuild_foreign_interface_object/1 (pred)}}}
@temp
@end iftex
@pdindex rebuild_foreign_interface_object/1 
@glindex rebuild_foreign_interface_object/1 
@deffn PREDICATE rebuild_foreign_interface_object/1:






@strong{Usage:} @code{rebuild_foreign_interface_object(in(File))}
@itemize @minus
@item @emph{Description:} Compiles (again) the gluecode file with the foreign source files producing an unique object file. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{in(File)} is a source name.
@iftex
@hfill
@end iftex
 (@code{streams_basic:sourcename/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{do_interface/1 (pred)}}}
@temp
@end iftex
@pdindex do_interface/1 
@glindex do_interface/1 
@deffn PREDICATE do_interface/1:






@strong{Usage:} @code{do_interface(in(Decls))}
@itemize @minus
@item @emph{Description:} Given the declarations in @code{Decls}, this predicate succeeds if these declarations involve the creation of the foreign interface 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{in(Decls)} is a list of @code{term}s.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/2})
@end itemize
@end deffn
@sp 1


@c (component)


@node Utilities for on-demand compilation of foreign files, The socket interface, Foreign interface, Top
@comment node-name, next,  previous,  up
@chapter Utilities for on-demand compilation of foreign files
@liindex foreign_compilation
@c -------------------------------------------------
@c WARNING: Do not edit this file (foreign_compilation.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/lib/foreign_compilation.pl
@c -------------------------------------------------

@strong{Author(s):} Manuel Carro, Jose Morales.

@strong{Version:} 1.3#121 (1999/11/26, 20:23:11 MET)

@strong{Version of last change:} 1.3#36 (1999/7/20, 10:37:31 MEST)

This module provides two predicates which give the user information regarding how to compile external (C) files in order to link them with the CIAO Prolog engine at runtime. 

These predicates are not intended to be called directly by the end-user. Instead, a tool or module whose aim is generating dynamically loadable files from source files should use the predicates in this file in order to find out what are the proper compiler and linker to use, and which options must be passed to them in the current architecture.



@menu
* Usage and interface (foreign_compilation)::  
* Documentation on exports (foreign_compilation)::  
@end menu

@node Usage and interface (foreign_compilation), Documentation on exports (foreign_compilation), Utilities for on-demand compilation of foreign files, Utilities for on-demand compilation of foreign files
@comment node-name, next,  previous,  up
@section Usage and interface (@code{foreign_compilation})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(foreign_compilation)).}

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex compiler_and_opts/2
@code{compiler_and_opts/2}, 
@glindex linker_and_opts/2
@code{linker_and_opts/2}.


@end itemize


@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex system
@code{system}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (foreign_compilation),  , Usage and interface (foreign_compilation), Utilities for on-demand compilation of foreign files
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{foreign_compilation})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{compiler_and_opts/2 (pred)}}}
@temp
@end iftex
@pdindex compiler_and_opts/2 
@glindex compiler_and_opts/2 
@deffn PREDICATE compiler_and_opts/2:






@strong{Usage:} @code{compiler_and_opts(?(Compiler),?(Opts))}
@itemize @minus
@item @emph{Description:} If you want to compile a foreign language file for dynamic linking in the current operating system and architecture, you have to use the compiler @code{Compiler} and gite it the options @code{Opts}. A variable in @code{Opts} means that no special option is needed. 
@item @emph{The following properties should hold at call time:}


@code{?(Compiler)} is currently instantiated to an atom.
@iftex
@hfill
@end iftex
 (@code{term_typing:atom/1})

@code{?(Opts)} is a list of @code{atom}s.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{linker_and_opts/2 (pred)}}}
@temp
@end iftex
@pdindex linker_and_opts/2 
@glindex linker_and_opts/2 
@deffn PREDICATE linker_and_opts/2:






@strong{Usage:} @code{linker_and_opts(?(Linker),?(Options))}
@itemize @minus
@item @emph{Description:} If you want to link a foreign language file for dynamic linking in the current operating system and architecture, you have to use the linker @code{Compiler} and gite it the options @code{Opts}. A variable in @code{Opts} means that no special option is needed. 
@item @emph{The following properties should hold at call time:}


@code{?(Linker)} is currently instantiated to an atom.
@iftex
@hfill
@end iftex
 (@code{term_typing:atom/1})

@code{?(Options)} is a list of @code{atom}s.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/2})
@end itemize
@end deffn
@sp 1


@c (component)


@node The socket interface, The tcl/tk interface, Utilities for on-demand compilation of foreign files, Top
@comment node-name, next,  previous,  up
@chapter The socket interface
@liindex sockets
@c -------------------------------------------------
@c WARNING: Do not edit this file (sockets.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/sockets/sockets.pl
@c -------------------------------------------------

@strong{Author(s):} Manuel Carro, Daniel Cabeza.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 1.3#5 (1999/6/21, 14:22:42 MEST)

This module defines primitives to open sockets, send, and receive data from them. This allows communicating with other processes, on the same machine or across the Internet. The reader should also consult standard bibliography on the topic for a proper use of these primitives.



@menu
* Usage and interface (sockets)::  
* Documentation on exports (sockets)::	
@end menu

@node Usage and interface (sockets), Documentation on exports (sockets), The socket interface, The socket interface
@comment node-name, next,  previous,  up
@section Usage and interface (@code{sockets})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(sockets)).}

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex connect_to_socket/3
@code{connect_to_socket/3}, 
@glindex socket_recv/2
@code{socket_recv/2}, 
@glindex socket_recv_code/3
@code{socket_recv_code/3}, 
@glindex socket_send/2
@code{socket_send/2}, 
@glindex select_socket/5
@code{select_socket/5}, 
@glindex socket_accept/2
@code{socket_accept/2}, 
@glindex bind_socket/3
@code{bind_socket/3}, 
@glindex connect_to_socket_type/4
@code{connect_to_socket_type/4}.


@item @emph{Regular Types:}

@glindex socket_type/1
@code{socket_type/1}.


@end itemize


@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex sockets/sockets_c
@code{sockets/sockets_c}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (sockets),  , Usage and interface (sockets), The socket interface
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{sockets})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{connect_to_socket/3 (pred)}}}
@temp
@end iftex
@pdindex connect_to_socket/3 
@glindex connect_to_socket/3 
@deffn PREDICATE connect_to_socket/3:






@strong{Usage:} @code{connect_to_socket(+Host,+Port,-(Stream))}
@itemize @minus
@item @emph{Description:} Calls 
@glindex connect_to_socket_type/4
@code{connect_to_socket_type/4} with SOCK_STREAM connection type. This is the connection type you want in order to use the 
@glindex write/2
@code{write/2} and 
@glindex read/2
@code{read/2} predicates (and other stream IO related predicates). 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+Host} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})

@code{+Port} is an integer.
@iftex
@hfill
@end iftex
 (@code{basic_props:int/1})

@code{-(Stream)} is an open stream.
@iftex
@hfill
@end iftex
 (@code{streams_basic:stream/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{socket_recv/2 (pred)}}}
@temp
@end iftex
@pdindex socket_recv/2 
@glindex socket_recv/2 
@deffn PREDICATE socket_recv/2:






@strong{Usage:} @code{socket_recv(+Stream,?(String))}
@itemize @minus
@item @emph{Description:} As 
@glindex socket_recv_code/3
@code{socket_recv_code/3}, but the return code is ignored. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+Stream} is an open stream.
@iftex
@hfill
@end iftex
 (@code{streams_basic:stream/1})

@code{?(String)} is a string (a list of character codes).
@iftex
@hfill
@end iftex
 (@code{basic_props:string/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{socket_type/1 (regtype)}}}
@temp
@end iftex
@teindex socket_type/1 
@glindex socket_type/1 
@deffn REGTYPE socket_type/1:



Defines the atoms which can be used to specify the socket type recognized by 
@glindex connect_to_socket_type/4
@code{connect_to_socket_type/4}. Defined as follows: 
@smallexample 
socket_type(stream).
socket_type(dgram).
socket_type(raw).
socket_type(seqpacket).
socket_type(rdm).
@end smallexample 



@strong{Usage:} @code{socket_type(T)}
@itemize @minus
@item @emph{Description:} @code{T} is a valid socket type. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{socket_recv_code/3 (pred)}}}
@temp
@end iftex
@pdindex socket_recv_code/3 
@glindex socket_recv_code/3 
@deffn PREDICATE socket_recv_code/3:






@strong{Usage:} @code{socket_recv_code(+Stream,?(String),?(Length))}
@itemize @minus
@item @emph{Description:} Receives a @code{String} from the socket associated to @code{Stream}, and returns its @code{Length}. If @code{Length} is -1, no more data is available. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+Stream} is an open stream.
@iftex
@hfill
@end iftex
 (@code{streams_basic:stream/1})

@code{?(String)} is a string (a list of character codes).
@iftex
@hfill
@end iftex
 (@code{basic_props:string/1})

@code{?(Length)} is an integer.
@iftex
@hfill
@end iftex
 (@code{basic_props:int/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{socket_send/2 (pred)}}}
@temp
@end iftex
@pdindex socket_send/2 
@glindex socket_send/2 
@deffn PREDICATE socket_send/2:






@strong{Usage:} @code{socket_send(+Stream,+String)}
@itemize @minus
@item @emph{Description:} Sends @code{String} to the socket associated to @code{Stream}. The socket has to be in connected state. @code{String} is not supposed to be NULL terminated, since it is a Prolog string. If a NULL terminated string is needed at the other side, it has to be explicitly created in Prolog. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+Stream} is an open stream.
@iftex
@hfill
@end iftex
 (@code{streams_basic:stream/1})

@code{+String} is a string (a list of character codes).
@iftex
@hfill
@end iftex
 (@code{basic_props:string/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{select_socket/5 (pred)}}}
@temp
@end iftex
@pdindex select_socket/5 
@glindex select_socket/5 
@deffn PREDICATE select_socket/5:






@strong{Usage:} @code{select_socket(+Socket,-(NewStream),+TO_ms,+Streams,-(ReadStreams))}
@itemize @minus
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+Socket} is an integer.
@iftex
@hfill
@end iftex
 (@code{basic_props:int/1})

@code{-(NewStream)} is an open stream.
@iftex
@hfill
@end iftex
 (@code{streams_basic:stream/1})

@code{+TO_ms} is an integer.
@iftex
@hfill
@end iftex
 (@code{basic_props:int/1})

@code{+Streams} is a list of @code{stream}s.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/2})

@code{-(ReadStreams)} is a list of @code{stream}s.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{socket_accept/2 (pred)}}}
@temp
@end iftex
@pdindex socket_accept/2 
@glindex socket_accept/2 
@deffn PREDICATE socket_accept/2:






@strong{Usage:} @code{socket_accept(+Sock,-(Stream))}
@itemize @minus
@item @emph{Description:} Creates a new @code{Stream} connected to @code{Sock}. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+Sock} is an integer.
@iftex
@hfill
@end iftex
 (@code{basic_props:int/1})

@code{-(Stream)} is an open stream.
@iftex
@hfill
@end iftex
 (@code{streams_basic:stream/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{bind_socket/3 (pred)}}}
@temp
@end iftex
@pdindex bind_socket/3 
@glindex bind_socket/3 
@deffn PREDICATE bind_socket/3:






@strong{Usage:} @code{bind_socket(?(Port),+Length,-(Socket))}
@itemize @minus
@item @emph{Description:} Returs an AF_INET @code{Socket} bound to @code{Port} (which may be assigned by the OS or defined by the caller), and listens to it (hence no listen call in this set of primitives). @code{Length} specifies the maximum number of pending connections. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{?(Port)} is an integer.
@iftex
@hfill
@end iftex
 (@code{basic_props:int/1})

@code{+Length} is an integer.
@iftex
@hfill
@end iftex
 (@code{basic_props:int/1})

@code{-(Socket)} is an integer.
@iftex
@hfill
@end iftex
 (@code{basic_props:int/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{connect_to_socket_type/4 (pred)}}}
@temp
@end iftex
@pdindex connect_to_socket_type/4 
@glindex connect_to_socket_type/4 
@deffn PREDICATE connect_to_socket_type/4:






@strong{Usage:} @code{connect_to_socket_type(+Host,+Port,+Type,-(Stream))}
@itemize @minus
@item @emph{Description:} Returns a @code{Stream} which connects to @code{Host}. The @code{Type} of connection can be defined. A @code{Stream} is returned, which can be used to 
@glindex write/2
@code{write/2} to, to 
@glindex read/2
@code{read/2}, to 
@glindex socket_send/2
@code{socket_send/2} to, or to 
@glindex socket_recv/2
@code{socket_recv/2} from the socket. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+Host} is currently instantiated to an atom.
@iftex
@hfill
@end iftex
 (@code{term_typing:atom/1})

@code{+Port} is an integer.
@iftex
@hfill
@end iftex
 (@code{basic_props:int/1})

@code{+Type} is a valid socket type.
@iftex
@hfill
@end iftex
 (@code{sockets:socket_type/1})

@code{-(Stream)} is an open stream.
@iftex
@hfill
@end iftex
 (@code{streams_basic:stream/1})
@end itemize
@end deffn
@sp 1


@c (component)


@node The tcl/tk interface, Connecting with the Web, The socket interface, Top
@comment node-name, next,  previous,  up
@chapter The tcl/tk interface
@liindex tcltk
@c -------------------------------------------------
@c WARNING: Do not edit this file (tcltk.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/tcltk/tcltk.pl
@c -------------------------------------------------

@strong{Author(s):} Montse Iglesias.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 0.9#85 (1999/5/7, 19:55:11 MEST)

The 
@glindex tcltk
@code{tcltk} library package is a bidirectional to the @emph{Tcl} (pronounced Tickle) language and @emph{Tk} toolkit. Tcl is an interpreter scripting language with many extensions packages, in particular the graphical interface toolkit Tk



@menu
* Usage and interface (tcltk)::	 
* Documentation on exports (tcltk)::  
@end menu

@node Usage and interface (tcltk), Documentation on exports (tcltk), The tcl/tk interface, The tcl/tk interface
@comment node-name, next,  previous,  up
@section Usage and interface (@code{tcltk})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(tcltk)).}

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex tcl_new/1
@code{tcl_new/1}, 
@glindex tcl_eval/3
@code{tcl_eval/3}, 
@glindex tcl_delete/1
@code{tcl_delete/1}, 
@glindex tcl_event/3
@code{tcl_event/3}, 
@glindex tk_new/2
@code{tk_new/2}.


@item @emph{Regular Types:}

@glindex tclInterpreter/1
@code{tclInterpreter/1}, 
@glindex tclCommand/1
@code{tclCommand/1}.


@end itemize


@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex tcltk/tcltk_low_level
@code{tcltk/tcltk_low_level}, 
@glindex write
@code{write}, 
@glindex strings
@code{strings}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (tcltk),  , Usage and interface (tcltk), The tcl/tk interface
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{tcltk})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{tclInterpreter/1 (regtype)}}}
@temp
@end iftex
@teindex tclInterpreter/1 
@glindex tclInterpreter/1 
@deffn REGTYPE tclInterpreter/1:






@strong{Usage:} @code{tclInterpreter(I)}
@itemize @minus
@item @emph{Description:} @code{I} is a reference to a @emph{Tcl} interpreter. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{tclCommand/1 (regtype)}}}
@temp
@end iftex
@teindex tclCommand/1 
@glindex tclCommand/1 
@deffn REGTYPE tclCommand/1:



 A @emph{Tcl} command is specified as follows: 
@smallexample 
      Command         --> Atom  @{ other than [] @}
                        | Number
                        | chars(PrologString)
                        | write(Term)
                        | format(Fmt,Args)
                        | dq(Command)
                        | br(Command)
                        | sqb(Command)
                        | min(Command)
                        | ListOfCommands
      ListOfCommands  --> []
                        |[Command|ListOfCommands]
@end smallexample  

where: 


@table @asis 


@item Atom 


@item Number 
denote their printed representations. 


@item chars(PrologString) 
denotes the string represented by @emph{PrologString} (a list of character codes). 


@item write(Term) 
denotes the string that is printed by the corresponding built-in pridicate. 


@item format(Term) 
denotes the string that is printed by the corresponding built-in pridicate. 


@item dq(Command) 
denotes the string specified by @emph{Command}, enclosed in double quotes. 


@item br(Command) 
denotes the string specified by @emph{Command}, enclosed in braces. 


@item sqb(Command) 
denotes the string specified by @emph{Command}, enclosed in square brackets. 


@item min(Command) 
denotes the string specified by @emph{Command}, immediately preceded by a hyphen. 


@item ListOfCommands 
denotes the strings denoted by each element, separated by spaces. 


@end table  




@strong{Usage:} @code{tclCommand(C)}
@itemize @minus
@item @emph{Description:} @code{C} is a @emph{Tcl} command. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{tcl_new/1 (pred)}}}
@temp
@end iftex
@pdindex tcl_new/1 
@glindex tcl_new/1 
@deffn PREDICATE tcl_new/1:






@strong{Usage:} @code{tcl_new(-(TclInterpreter))}
@itemize @minus
@item @emph{Description:} Creates a new interpreter, initializes it, and returns a reference to it in @code{TclInterpreter}. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{-(TclInterpreter)} is a reference to a @emph{Tcl} interpreter.
@iftex
@hfill
@end iftex
 (@code{tcltk:tclInterpreter/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{tcl_eval/3 (pred)}}}
@temp
@end iftex
@pdindex tcl_eval/3 
@glindex tcl_eval/3 
@deffn PREDICATE tcl_eval/3:






@strong{Usage:} @code{tcl_eval(+TclInterpreter,+Command,-(Result))}
@itemize @minus
@item @emph{Description:} Evaluates the commands and the result will be stored as a string in @emph{Result} 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+TclInterpreter} is a reference to a @emph{Tcl} interpreter.
@iftex
@hfill
@end iftex
 (@code{tcltk:tclInterpreter/1})

@code{+Command} is a @emph{Tcl} command.
@iftex
@hfill
@end iftex
 (@code{tcltk:tclCommand/1})

@code{-(Result)} is a string (a list of character codes).
@iftex
@hfill
@end iftex
 (@code{basic_props:string/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{tcl_delete/1 (pred)}}}
@temp
@end iftex
@pdindex tcl_delete/1 
@glindex tcl_delete/1 
@deffn PREDICATE tcl_delete/1:






@strong{Usage:} @code{tcl_delete(+TclInterpreter)}
@itemize @minus
@item @emph{Description:} Deletes the interpreter in @code{TclInterpreter} and the memory used by it 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+TclInterpreter} is a reference to a @emph{Tcl} interpreter.
@iftex
@hfill
@end iftex
 (@code{tcltk:tclInterpreter/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{tcl_event/3 (pred)}}}
@temp
@end iftex
@pdindex tcl_event/3 
@glindex tcl_event/3 
@deffn PREDICATE tcl_event/3:






@strong{Usage:} @code{tcl_event(+TclInterpreter,+Command,-(Events))}
@itemize @minus
@item @emph{Description:} Do the receive non blocking of the event and terms will be stored from Tcl by the @emph{prolog_event} command as a list of terms in @emph{Events}. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+TclInterpreter} is a reference to a @emph{Tcl} interpreter.
@iftex
@hfill
@end iftex
 (@code{tcltk:tclInterpreter/1})

@code{+Command} is a @emph{Tcl} command.
@iftex
@hfill
@end iftex
 (@code{tcltk:tclCommand/1})

@code{-(Events)} is a list.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{tk_event_loop/1 (pred)}}}
@temp
@end iftex
@pdindex tk_event_loop/1 
@glindex tk_event_loop/1 
@deffn PREDICATE tk_event_loop/1:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{tk_new/2 (pred)}}}
@temp
@end iftex
@pdindex tk_new/2 
@glindex tk_new/2 
@deffn PREDICATE tk_new/2:






@strong{Usage:} @code{tk_new(+Options,-(TclInterpreter))}
@itemize @minus
@item @emph{Description:} Performs basic Tcl and Tk initialization and creates the main window of a Tk application.@emph{Options} is a list of optional elements according to : 


@table @asis 


@item name 
Sets the Tk application name. The application name will be displayed in the main window and is also used for communicating between applications in Tk. Default name is an empty string. 


@item display 
Gives the name of the screen on which to create the main window. Default is normally determined by the DISPLAY environment variable. 


@item file 
Open the sript file, commands will not be read from standard input and the execution returns back to Prolog only after all windows (and the interpreter) have been deleted. 

 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+Options} is a list.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/1})

@code{-(TclInterpreter)} is a reference to a @emph{Tcl} interpreter.
@iftex
@hfill
@end iftex
 (@code{tcltk:tclInterpreter/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{tk_new/4 (pred)}}}
@temp
@end iftex
@pdindex tk_new/4 
@glindex tk_new/4 
@deffn PREDICATE tk_new/4:



No further documentation available for this predicate.

@end deffn
@sp 1


@c (component)


@node Connecting with the Web, html (library), The tcl/tk interface, Top
@comment node-name, next,  previous,  up
@chapter Connecting with the Web
@liindex pillow
@c -------------------------------------------------
@c WARNING: Do not edit this file (pillow_doc.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/pillow/pillow_doc.pl
@c -------------------------------------------------



@coindex WWW, interfacing with
@glindex WWW, interfacing with 
This package implements the PiLLoW library [CHV96a] in Ciao. It is not yet documented here, but you can access @uref{http://clip.dia.fi.upm.es/Software/pillow/pillow.html} to see documentation on previous versions. However, note that this version is newer and has some bug fixes and added functionality (templates, XML processing, and others, which you can try to guess the rest by looking at the source).



@menu
* Usage and interface (pillow)::  
@end menu

@node Usage and interface (pillow),  , Connecting with the Web, Connecting with the Web
@comment node-name, next,  previous,  up
@section Usage and interface (@code{pillow})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_package(pillow).}

or

@code{:- module(...,...,[pillow]).}

@item @strong{New operators defined:}

@glindex $/2
@code{$/2} [150,xfx], 
@glindex $/1
@code{$/1} [150,fx].

@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex pillow/http
@code{pillow/http}, 
@glindex pillow/html
@code{pillow/html}.


@end itemize

@end itemize
@end cartouche

@c (component)


@node html (library), http (library), Connecting with the Web, Top
@comment node-name, next,  previous,  up
@chapter html (library)
@liindex html
@c -------------------------------------------------
@c WARNING: Do not edit this file (html.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/pillow/html.pl
@c -------------------------------------------------

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 1.3#115 (1999/11/24, 0:58:36 MET)





@menu
* Usage and interface (html)::	
* Documentation on exports (html)::  
@end menu

@node Usage and interface (html), Documentation on exports (html), html (library), html (library)
@comment node-name, next,  previous,  up
@section Usage and interface (@code{html})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(html)).}

@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex strings
@code{strings}, 
@glindex lists
@code{lists}, 
@glindex system
@code{system}, 
@glindex pillow/common
@code{pillow/common}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (html),  , Usage and interface (html), html (library)
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{html})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{url_info/2 (pred)}}}
@temp
@end iftex
@pdindex url_info/2 
@glindex url_info/2 
@deffn PREDICATE url_info/2:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{url_info_relative/3 (pred)}}}
@temp
@end iftex
@pdindex url_info_relative/3 
@glindex url_info_relative/3 
@deffn PREDICATE url_info_relative/3:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{url_query/2 (pred)}}}
@temp
@end iftex
@pdindex url_query/2 
@glindex url_query/2 
@deffn PREDICATE url_query/2:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{output_html/1 (pred)}}}
@temp
@end iftex
@pdindex output_html/1 
@glindex output_html/1 
@deffn PREDICATE output_html/1:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{html2terms/2 (pred)}}}
@temp
@end iftex
@pdindex html2terms/2 
@glindex html2terms/2 
@deffn PREDICATE html2terms/2:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{xml2terms/2 (pred)}}}
@temp
@end iftex
@pdindex xml2terms/2 
@glindex xml2terms/2 
@deffn PREDICATE xml2terms/2:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{html_template/3 (pred)}}}
@temp
@end iftex
@pdindex html_template/3 
@glindex html_template/3 
@deffn PREDICATE html_template/3:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{http_lines/3 (pred)}}}
@temp
@end iftex
@pdindex http_lines/3 
@glindex http_lines/3 
@deffn PREDICATE http_lines/3:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{html_report_error/1 (pred)}}}
@temp
@end iftex
@pdindex html_report_error/1 
@glindex html_report_error/1 
@deffn PREDICATE html_report_error/1:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{get_form_input/1 (pred)}}}
@temp
@end iftex
@pdindex get_form_input/1 
@glindex get_form_input/1 
@deffn PREDICATE get_form_input/1:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{get_form_value/3 (pred)}}}
@temp
@end iftex
@pdindex get_form_value/3 
@glindex get_form_value/3 
@deffn PREDICATE get_form_value/3:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{form_empty_value/1 (pred)}}}
@temp
@end iftex
@pdindex form_empty_value/1 
@glindex form_empty_value/1 
@deffn PREDICATE form_empty_value/1:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{text_lines/2 (pred)}}}
@temp
@end iftex
@pdindex text_lines/2 
@glindex text_lines/2 
@deffn PREDICATE text_lines/2:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{form_default/3 (pred)}}}
@temp
@end iftex
@pdindex form_default/3 
@glindex form_default/3 
@deffn PREDICATE form_default/3:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{my_url/1 (pred)}}}
@temp
@end iftex
@pdindex my_url/1 
@glindex my_url/1 
@deffn PREDICATE my_url/1:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{form_request_method/1 (pred)}}}
@temp
@end iftex
@pdindex form_request_method/1 
@glindex form_request_method/1 
@deffn PREDICATE form_request_method/1:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{icon_address/2 (pred)}}}
@temp
@end iftex
@pdindex icon_address/2 
@glindex icon_address/2 
@deffn PREDICATE icon_address/2:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{html_protect/1 (pred)}}}
@temp
@end iftex
@pdindex html_protect/1 
@glindex html_protect/1 
@deffn PREDICATE html_protect/1:



No further documentation available for this predicate.


@emph{Meta-predicate} with arguments: @code{html_protect(goal)}.

@end deffn
@sp 1


@c (component)


@node http (library), Persistent predicate database, html (library), Top
@comment node-name, next,  previous,  up
@chapter http (library)
@liindex http
@c -------------------------------------------------
@c WARNING: Do not edit this file (http.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/pillow/http.pl
@c -------------------------------------------------

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 1.3#114 (1999/11/24, 0:57:16 MET)





@menu
* Usage and interface (http)::	
* Documentation on exports (http)::  
@end menu

@node Usage and interface (http), Documentation on exports (http), http (library), http (library)
@comment node-name, next,  previous,  up
@section Usage and interface (@code{http})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(http)).}

@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex sockets/sockets
@code{sockets/sockets}, 
@glindex strings
@code{strings}, 
@glindex lists
@code{lists}, 
@glindex pillow/common
@code{pillow/common}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (http),  , Usage and interface (http), http (library)
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{http})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{fetch_url/3 (pred)}}}
@temp
@end iftex
@pdindex fetch_url/3 
@glindex fetch_url/3 
@deffn PREDICATE fetch_url/3:



No further documentation available for this predicate.

@end deffn
@sp 1


@c (component)


@node Persistent predicate database, Using the persdb library, http (library), Top
@comment node-name, next,  previous,  up
@chapter Persistent predicate database
@liindex persdbrt
@c -------------------------------------------------
@c WARNING: Do not edit this file (persdbrt.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/persdb/persdbrt.pl
@c -------------------------------------------------

@strong{Author(s):} J.M. Gomez, D. Cabeza, and M. Hermenegildo, @code{clip@@dia.fi.upm.es}, @code{http://www.clip.dia.fi.upm.es/}, The CLIP Group, Facultad de Inform@'atica, Universidad Polit@'ecnica de Madrid.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 0.8#31 (1998/12/27, 19:17:20 MET)

 



@menu
* Introduction to persistent predicates::  
* Persistent predicates::	
* Using file-based persistent predicates::  
* Implementation Issues::	
* Using persistent predicates from the top level::  
* Usage and interface (persdbrt)::  
* Documentation on exports (persdbrt)::	 
* Documentation on multifiles (persdbrt)::  
* Documentation on internals (persdbrt)::  
* Known bugs and planned improvements (persdbrt)::  
@end menu

@node Introduction to persistent predicates, Persistent predicates, Persistent predicate database, Persistent predicate database
@comment node-name, next,  previous,  up
@section Introduction to persistent predicates 

This library implements a @emph{generic persistent predicate database}. The basic notion implemented by the library is that of a 
@glindex persistent predicate
persistent predicate. The persistent predicate concept provides a simple, yet powerful generic persistent data access method [CHGT98,Par97]. A persistent predicate is a special kind of dynamic, data predicate that ``resides'' in some persistent medium (such as a set of files, a database, etc.) that is typically external to the program using such predicates. The main effect is that any changes made to to a persistent predicate from a program ``survive'' across executions. I.e., if the program is halted and restarted the predicate that the new process sees is in precisely the same state as it was when the old process was halted (provided no change was made in the meantime to the storage by other processes or the user). 

Persistent predicates appear to a program as ordinary predicates, and calls to these predicates can appear in clause bodies in the usual way. However, the definitions of these predicates do not appear in the program. Instead, the library maintains automatically the definitions of predicates which have been declared as persistent in the persistent storage. 


@glindex Updates to persistent predicates
Updates to persistent predicates can be made by calling predicates similar to 
@glindex assertz_fact/1
@code{assertz_fact/1} and 
@glindex retract_fact/1
@code{retract_fact/1}. The library makes sure that each update is a 
@glindex transactional update
transactional update, in the sense that if the update terminates, then the permanent storage has definitely been modified. For example, if the program making the updates is halted just after the update and then restarted, then the updated state of the predicate will be seen. This provides security against possible data loss due to, for example, a system crash. Also, due to the atomicity of the transactions, persistent predicates allow 
@glindex concurrent updates
concurrent updates from several programs. 



@node Persistent predicates, Using file-based persistent predicates, Introduction to persistent predicates, Persistent predicate database
@comment node-name, next,  previous,  up
@section Persistent predicates, files, and relational databases 

The concept of persistent predicates provided by this library essentially implements a light-weight, simple, and at the same time powerful form of relational database (a 
@glindex deductive database
deductive database), and which is standalone, in the sense that it does not require external support, other than the file management capabilities provided by the operating system. This is due to the fact that the persistent predicates are in fact stored in one or more auxiliary files in a given directory. 

This type of database is specially useful when building small to medium-sized standalone applications in Prolog which require persistent storage. In many cases it provides a much easier way of implementing such storage than using files under direct program control. For example, interactive applications can use persistent predicates to represent their internal state in a way that is close to the application. The persistence of such predicates then allows automatically restoring the state to that at the end of a previous session. Using persistent predicates amounts to simply declaring some predicates as such and eliminates having to worry about opening files, closing them, recovering from system crashes, etc. 

In other cases, however, it may be convenient to use a relational database as persistent storage. This may be the case, for example, when the data already resides in such a database (where it is perhaps accessed also by other applications) or the volume of data is very large. 
@glindex persdb_sql
@code{persdb_sql} [CCG98] is a companion library which implements the same notion of persistent predicates used herein, but keeping the storage in a relational database. This provides a very natural and transparent way to access SQL database relations from a Prolog program. In that library, facilities are also provided for reflecting more complex @emph{views} of the database relations as predicates. Such views can be constructed as conjunctions, disjunctions, projections, etc. of database relations, and may include SQL-like aggregation operations. 

A nice characteristic of the notion of persistent predicates used in both of these libraries is that it abstracts away how the predicate is actually stored. Thus, a program can use persistent predicates stored in files or in external relational databases interchangeably, and the type of storage used for a given predicate can be changed without having to modify the program (except for replacing the corresponding 
@glindex persistent/2
@code{persistent/2} declarations). 

An example application of the 
@glindex persdb
@code{persdb} and 
@glindex persdb_sql
@code{persdb_sql} libraries (and also the 
@glindex pillow
@code{pillow} library [CH97]), is 
@glindex WebDB
@code{WebDB} [GCH98]. 
@glindex WebDB
@code{WebDB} is a generic, highly customizable @emph{deductive database engine} with an @emph{html interface}. 
@glindex WebDB
@code{WebDB} allows creating and maintaining Prolog-based databases as well as relational databases (residing in conventional relational database engines) using any standard WWW browser. 



@node Using file-based persistent predicates, Implementation Issues, Persistent predicates, Persistent predicate database
@comment node-name, next,  previous,  up
@section Using file-based persistent predicates 

Persistent predicates can be declared statically, using 
@glindex persistent/2
@code{persistent/2} declarations (which is the preferred method, when possible), or dynamically via calls to 
@glindex make_persistent/2
@code{make_persistent/2}. Currently, persistent predicates may only contain facts, i.e., they are @emph{dynamic} predicates of type 
@glindex data/1
@code{data/1}, and @emph{should be declared as such}. 

Predicates declared as persistent are linked to a directory, and the persistent state of the predicate will be kept in several files in that directory. The files in which the persistent predicates are stored are in readable, plain ASCII format, and in Prolog syntax. One advantage of this approach is that such files can also be created or edited by hand, in a text editor, or even by other applications. 

An example definition of a persistent predicate implemented by files follows: 


@smallexample 
:- persistent(p/3,dbdir).

:- multifile persistent_dir/2.
:- data persistent_dir/2.

persistent_dir(dbdir, '/home/clip/public_html/db').
@end smallexample  

The first line declares the predicate @code{p/3} persistent. The argument @code{dbdir} is a key used to index into a fact of the relation 
@glindex persistent_dir/2
@code{persistent_dir/2}, which specifies the directory where the corresponding files will be kept. The effect of the declaration, together with the 
@glindex persistent_dir/2
@code{persistent_dir/2} fact, is that, although the predicate is handled in the same way as a normal data predicate, in addition the system will create and maintain efficiently a persistent version of @code{p/3} via files in the directory @code{/home/clip/public_html/db}. 

The level of indirection provided by the @code{dbdir} argument makes it easy to place the storage of several persistent predicates in a common directory, by specifying the same key for all of them. It also allows changing the directory for several such persistent predicates by modifying only one fact in the program. Furthermore, the 
@glindex persistent_dir/2
@code{persistent_dir/2} predicate can even be dynamic and specified at run-time. 



@node Implementation Issues, Using persistent predicates from the top level, Using file-based persistent predicates, Persistent predicate database
@comment node-name, next,  previous,  up
@section Implementation Issues 

We outline the current implementation approach. This implementation attempts to provide at the same time efficiency and security. To this end, up to three files are used for each predicate (the 
@glindex persistence set
persistence set): the 
@glindex data file
data file, the 
@glindex operations file
operations file, and the 
@glindex backup file
backup file. In the 
@glindex updated state
updated state the facts (tuples) that define the predicate are stored in the data file and the operations file is empty (the backup file, which contains a security copy of the data file, may or may not exist). 

While a program using a persistent predicate is running, any insertion (assert) or deletion (retract) operations on the predicate are performed on both the program memory and on the persistence set. However, in order to incurr only a small overhead in the execution, rather than changing the data file directly, a record of each of the insertion and deletion operations is @emph{appended} to the operations file. The predicate is then in a 
@glindex transient state
transient state, in that the contents of the data file do not reflect exactly the current state of the corresponding predicate. However, the complete persistence set does. 

When a program starts, when it is halted, or, periodically, when it is idle for some time, all pending operations in the operations file are performed on the data file. A backup of the data file is created first to prevent data loss if the system crashes during this operation. The order in which this updating of files is done ensures that, if at any point the process dies, on restart data will be completely recovered. This process of updating the persistence set can also be triggered at any point in the execution of a program by calling 
@glindex update_files/2
@code{update_files/2}. 



@node Using persistent predicates from the top level, Usage and interface (persdbrt), Implementation Issues, Persistent predicate database
@comment node-name, next,  previous,  up
@section Using persistent predicates from the top level 

Special care must be taken when using persistent predicates from the top level. This includes not only defining persistent predicates on the fly from de top level (which is not really very useful in practice) but also the more frequent case of loading into the top level modules or user files which use persistent predicates. As mentioned before, the persistence set is updated automatically each time a program using the corresponding persistent predicates is run or halted. However, since the top level itself is also a standard program, persistent predicates would only be updated whenever the top level is started, when they are typically still not loaded. 

If a program launched from a top level needs to update the persistence sets of any persistent predicate it must be done by calling the 
@glindex update_files/2
@code{update_files/2} method explicitly. 







@node Usage and interface (persdbrt), Documentation on exports (persdbrt), Using persistent predicates from the top level, Persistent predicate database
@comment node-name, next,  previous,  up
@section Usage and interface (@code{persdbrt})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

Typically, this library is used including the 'persdb' package into the syntax list of the module, or using the 
@glindex syntax/1
@code{syntax/1} declaration: 
@table @asis 
@item In a module: 
@smallexample 
        :- module(bar, [main/1], [persdb]).
@end smallexample  
or 
@smallexample 
        :- module(bar, [main/1]).
        :- include(library(persdb)).
@end smallexample  
@item In a @emph{user} file: 
@smallexample 
        :- syntax([persdb]).
@end smallexample  
or 
@smallexample 
        :- include(library(persdb)).
@end smallexample  
@end table  
This syntax file loads the run-time and compile-time versions of the library (@code{persdbtr.pl} and @code{persdbrt.pl}) and includes some needed declarations.

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex passertz_fact/1
@code{passertz_fact/1}, 
@glindex pretract_fact/1
@code{pretract_fact/1}, 
@glindex pcurrent_fact/1
@code{pcurrent_fact/1}, 
@glindex init_persdb/0
@code{init_persdb/0}, 
@glindex initialize_db/0
@code{initialize_db/0}, 
@glindex make_persistent/2
@code{make_persistent/2}, 
@glindex update_files/2
@code{update_files/2}.


@item @emph{Multifiles:}

@glindex persistent_dir/2
@code{persistent_dir/2}, 
@glindex $is_persistent/2
@code{$is_persistent/2}.


@end itemize


@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex lists
@code{lists}, 
@glindex streams
@code{streams}, 
@glindex read
@code{read}, 
@glindex system
@code{system}, 
@glindex file_locks/file_locks
@code{file_locks/file_locks}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (persdbrt), Documentation on multifiles (persdbrt), Usage and interface (persdbrt), Persistent predicate database
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{persdbrt})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{passertz_fact/1 (pred)}}}
@temp
@end iftex
@pdindex passertz_fact/1 
@glindex passertz_fact/1 
@deffn PREDICATE passertz_fact/1:






@emph{Meta-predicate} with arguments: @code{passertz_fact(fact)}.


@strong{Usage:} @code{passertz_fact(Fact)}
@itemize @minus
@item @emph{Description:} Persistent version of 
@glindex assertz_fact/1
@code{assertz_fact/1}: the current instance of @code{Fact} is interpreted as a fact (i.e., a relation tuple) and is added at the end of the definition of the corresponding predicate. The predicate concerned must be declared 
@glindex persistent
@code{persistent}. Any uninstantiated variables in the @code{Fact} will be replaced by new, private variables. 
@item @emph{The following properties should hold at call time:}


@code{Fact} is a term which represents a goal, i.e., an atom or a structure.
@iftex
@hfill
@end iftex
 (@code{basic_props:callable/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{pretract_fact/1 (pred)}}}
@temp
@end iftex
@pdindex pretract_fact/1 
@glindex pretract_fact/1 
@deffn PREDICATE pretract_fact/1:






@emph{Meta-predicate} with arguments: @code{pretract_fact(fact)}.


@strong{Usage:} @code{pretract_fact(Fact)}
@itemize @minus
@item @emph{Description:} Persistent version of 
@glindex retract_fact/1
@code{retract_fact/1}: deletes on backtracking all the facts which unify with @code{Fact}. The predicate concerned must be declared 
@glindex persistent
@code{persistent}. 
@item @emph{The following properties should hold at call time:}


@code{Fact} is a term which represents a goal, i.e., an atom or a structure.
@iftex
@hfill
@end iftex
 (@code{basic_props:callable/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{pcurrent_fact/1 (pred)}}}
@temp
@end iftex
@pdindex pcurrent_fact/1 
@glindex pcurrent_fact/1 
@deffn PREDICATE pcurrent_fact/1:






@emph{Meta-predicate} with arguments: @code{pcurrent_fact(fact)}.


@strong{Usage:} @code{pcurrent_fact(Fact)}
@itemize @minus
@item @emph{Description:} Persistent version of 
@glindex current_fact/1
@code{current_fact/1}: the fact @code{Fact} exists in the current database. The predicate concerned must be declared 
@glindex persistent
@code{persistent}. Provides on backtracking all the facts (tuples) which unify with @code{Fact}. 
@item @emph{The following properties should hold at call time:}


@code{Fact} is a term which represents a goal, i.e., an atom or a structure.
@iftex
@hfill
@end iftex
 (@code{basic_props:callable/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{init_persdb/0 (pred)}}}
@temp
@end iftex
@pdindex init_persdb/0 
@glindex init_persdb/0 
@deffn PREDICATE init_persdb/0:






@strong{Usage:} 
@itemize @minus
@item @emph{Description:} Executes 
@glindex initialize_db/0
@code{initialize_db/0} if no initialization has been done yet. Needed when accesing persistent predicates before doing any of 
@glindex passertz_fact/1
@code{passertz_fact/1}, 
@glindex pretract_fact/1
@code{pretract_fact/1}, or 
@glindex pcurrent_fact/1
@code{pcurrent_fact/1}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{initialize_db/0 (pred)}}}
@temp
@end iftex
@pdindex initialize_db/0 
@glindex initialize_db/0 
@deffn PREDICATE initialize_db/0:






@strong{Usage:} 
@itemize @minus
@item @emph{Description:} 
@coindex database initialization
@glindex database initialization 
Initializes the whole database, updating the state of the declared persistent predicates. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{make_persistent/2 (pred)}}}
@temp
@end iftex
@pdindex make_persistent/2 
@glindex make_persistent/2 
@deffn PREDICATE make_persistent/2:






@emph{Meta-predicate} with arguments: @code{make_persistent(spec,?)}.


@strong{Usage:} @code{make_persistent(PredDesc,Keyword)}
@itemize @minus
@item @emph{Description:} Dynamic version of the 
@glindex persistent
@code{persistent} declaration. 
@item @emph{The following properties should hold at call time:}


@code{PredDesc} is a Name/Arity structure denoting a predicate name: 
@smallexample 
predname(P/A) :-
        atm(P),
        int(A).
@end smallexample 

@iftex
@hfill
@end iftex
 (@code{basic_props:predname/1})

@code{Keyword} is an atom corresponding to a directory identifier.
@iftex
@hfill
@end iftex
 (@code{persdbrt:keyword/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{update_files/2 (pred)}}}
@temp
@end iftex
@pdindex update_files/2 
@glindex update_files/2 
@deffn PREDICATE update_files/2:






@strong{Usage:} @code{update_files(PredDesc,Arity)}
@itemize @minus
@item @emph{Description:} Updates the state of the given persistent predicate and its corresponding persistence set. 
@item @emph{The following properties should hold upon exit:}


@code{PredDesc} is a Name/Arity structure denoting a predicate name: 
@smallexample 
predname(P/A) :-
        atm(P),
        int(A).
@end smallexample 

@iftex
@hfill
@end iftex
 (@code{basic_props:predname/1})

@code{Arity} is an integer.
@iftex
@hfill
@end iftex
 (@code{basic_props:int/1})
@end itemize
@end deffn
@sp 1



@node Documentation on multifiles (persdbrt), Documentation on internals (persdbrt), Documentation on exports (persdbrt), Persistent predicate database
@comment node-name, next,  previous,  up
@section Documentation on multifiles (@code{persdbrt})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{persistent_dir/2 (pred)}}}
@temp
@end iftex
@pdindex persistent_dir/2 
@glindex persistent_dir/2 
@deffn PREDICATE persistent_dir/2:






The predicate is @emph{multifile} and of type @emph{data}.


@strong{Usage:} @code{persistent_dir(Keyword,Location_Path)}
@itemize @minus
@item @emph{Description:} Relates identifiers of locations (the @code{Keyword}s) with descriptions of such locations (@code{Location_Path}s). @code{Location_Path} is @strong{a directory} and it means that the definition for the persistent predicates associated with @code{Keyword} is kept in files in that directory. These files, in the updated state, contain the actual definition of the predicate in Prolog syntax (but with module names resolved). 
@item @emph{The following properties should hold at call time:}


@code{Keyword} is an atom corresponding to a directory identifier.
@iftex
@hfill
@end iftex
 (@code{persdbrt:keyword/1})

@code{Location_Path} is an atom which is the name of a directory.
@iftex
@hfill
@end iftex
 (@code{persdbrt:directoryname/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{$is_persistent/2 (pred)}}}
@temp
@end iftex
@pdindex $is_persistent/2 
@glindex $is_persistent/2 
@deffn PREDICATE $is_persistent/2:



No further documentation available for this predicate.


The predicate is @emph{multifile}.

@end deffn
@sp 1



@node Documentation on internals (persdbrt), Known bugs and planned improvements (persdbrt), Documentation on multifiles (persdbrt), Persistent predicate database
@comment node-name, next,  previous,  up
@section Documentation on internals (@code{persdbrt})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{keyword/1 (regtype)}}}
@temp
@end iftex
@teindex keyword/1 
@glindex keyword/1 
@deffn REGTYPE keyword/1:



An atom which identifies a fact of the 
@glindex persistent_dir/2
@code{persistent_dir/2} relation. This fact relates this atom to a directory in which the persistent storage for one or more persistent predicates is kept.


@strong{Usage:} @code{keyword(X)}
@itemize @minus
@item @emph{Description:} @code{X} is an atom corresponding to a directory identifier. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{directoryname/1 (regtype)}}}
@temp
@end iftex
@teindex directoryname/1 
@glindex directoryname/1 
@deffn REGTYPE directoryname/1:






@strong{Usage:} @code{directoryname(X)}
@itemize @minus
@item @emph{Description:} @code{X} is an atom which is the name of a directory. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1



@node Known bugs and planned improvements (persdbrt),  , Documentation on internals (persdbrt), Persistent predicate database
@comment node-name, next,  previous,  up
@section Known bugs and planned improvements (@code{persdbrt})

@itemize @bullet{}

@item
Shouldn't the declarations for persistent_dir/2 be inside persdb.pl? (would save a lot of writing).

@item
make_persistent/2 should really be persistent/2 (since it doesn't really make a predicate persistent but rather declares it as such, i.e., we do not use make_data/1, we use data/1) ?

@item
having to use pcurrent_fact is not so nice

@item
passert, pretract, etc. should really be overloaded versions of assert, retract etc., i.e., it should be possible to use assertz_fact directly

@item
we need also asserta_fact, right? Otherwise isn't it difficult to do many things?
@end itemize

@c (component)


@node Using the persdb library, SQL persistent database interface, Persistent predicate database, Top
@comment node-name, next,  previous,  up
@chapter Using the persdb library
@c -------------------------------------------------
@c WARNING: Do not edit this file (Examples.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/persdb/Examples.pl
@c -------------------------------------------------


Through the following examples we will try to illustrate the two mains ways of declaring and using persistent predicates: statically (the preferred method) and dynamically (necessary when the new persistent predicates have to be defined at run-time). The final example is a small application implementing a simple persistent queue. 





@menu
* An example of persistent predicates (static version)::  
* An example of persistent predicates (dynamic version)::  
* A simple application: a persistent queue::  
@end menu

@node An example of persistent predicates (static version), An example of persistent predicates (dynamic version), Using the persdb library, Using the persdb library
@comment node-name, next,  previous,  up
@section An example of persistent predicates (static version) 


@smallexample 
:- include(library(persdb)).

%% Required declarations for persistent_dir/2.
:- multifile persistent_dir/2.
:- data persistent_dir/2.

%% Declare the directory associated to the key "db" where the
%% persistence sets of the persistent predicates are stored:
persistent_dir(db,'./').

%% Declare a persistent predicate:
:- persistent(bar/1, db).

%% Read a term, storing it in a new fact of the persistent predicate
%% and list all the current facts of that predicate
main:-
     read(X),
     passertz_fact(bar(X)),
     findall(Y,bar(Y),L),
     write(L).

@end smallexample  



@node An example of persistent predicates (dynamic version), A simple application: a persistent queue, An example of persistent predicates (static version), Using the persdb library
@comment node-name, next,  previous,  up
@section An example of persistent predicates (dynamic version) 


@smallexample 
:- include(library(persdb)).

%% Required declarations for persistent_dir/2.
:- multifile persistent_dir/2.
:- data persistent_dir/2.

main([X]):-
%%   Declare the directory associated to the key "db" 
     asserta_fact(persistent_dir(db,'./')),
%%   Declare the predicate bar/1 as dynamic (and data) at run-time  
     data(bar/1),
%%   Declare the predicate bar/1 as persistent at run-time  
     make_persistent(bar/1, db),
     passertz_fact(bar(X)),
     findall(Y, bar(Y), L),
     write(L).    

@end smallexample  



@node A simple application: a persistent queue,  , An example of persistent predicates (dynamic version), Using the persdb library
@comment node-name, next,  previous,  up
@section A simple application: a persistent queue 
@smallexample 
:- module(queue, [main/0]).

:- include(library(persdb)).

:- multifile persistent_dir/2.
:- data persistent_dir/2.

:- persistent(queue/1, queue_dir).

persistent_dir(queue_dir,'./pers').

main:-
     write('Action ( in(Term). | out. | list. | halt. ): '),
     read(A),
     (  handle_action(A)
     -> true
     ;  write('Unknown command.'), nl ),
     main.

handle_action(halt) :-
     halt.
handle_action(in(Term)) :-
     passertz_fact(queue(Term)),
     main.
handle_action(out) :-
     (  pretract_fact(queue(Term))
     -> write('Out '), write(Term)
     ;  write('FIFO empty.') ),
     nl,
     main.
handle_action(list) :-
     findall(Term,pcurrent_fact(queue(Term)),Terms),
     write('Contents: '), write(Terms), nl,
     main.
     


@end smallexample  




@c (component)


@node SQL persistent database interface, Prolog to SQL translator, Using the persdb library, Top
@comment node-name, next,  previous,  up
@chapter SQL persistent database interface
@liindex persdbrtsql
@c -------------------------------------------------
@c WARNING: Do not edit this file (persdbrtsql.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/persdb_sql/persdbrtsql.pl
@c -------------------------------------------------

@strong{Author(s):} I. Caballero, D. Cabeza, J.M. G@'omez, and M. Hermenegildo, @code{clip@@dia.fi.upm.es}, @code{http://www.clip.dia.fi.upm.es/}, The CLIP Group, Facultad de Inform@'atica, Universidad Polit@'ecnica de Madrid.

@strong{Version:} 1.3#121 (1999/11/26, 20:23:11 MET)

@strong{Version of last change:} 0.9#35 (1999/4/6, 13:52:16 MEST)

The purpose of this library is to implement an instance of the generic concept of 
@glindex persistent predicates
persistent predicates, where external 
@glindex relational databases
relational databases are used for storage (see the documentation of the 
@glindex persdb
@code{persdb} library and [CHGT98,Par97] for details). To this end, this library exports SQL persistent versions of the 
@glindex assertz_fact/1
@code{assertz_fact/1}, 
@glindex retract_fact/1
@code{retract_fact/1} and 
@glindex retractall_fact/1
@code{retractall_fact/1} builtin predicates. Persistent predicates also allow 
@glindex concurrent updates
concurrent updates from several programs, since each update is atomic. 

The notion of persistence provides a very natural and transparent way to access database relations from a Prolog program. Stub definitions are provided for such predicates which access the database when the predicate is called (using the 
@glindex db_client
@code{db_client} library). A 
@glindex Prolog to SQL translator
Prolog to SQL translator is used to generate the required 
@glindex SQL
SQL code dynamically (see library 
@glindex pl2sql
@code{pl2sql}). 

This library also provides facilities for reflecting more complex 
@glindex views
views of the database relations as Prolog predicates. Such views can be constructed as conjunctions, disjunctions, projections, etc. of database relations. Also, 
@glindex SQL
SQL-like 
@glindex aggregation operations
aggregation operations are supported. 



@menu
* Implementation of the Database Interface::  
* Example(s)::			
* Usage and interface (persdbrtsql)::  
* Documentation on exports (persdbrtsql)::  
* Documentation on multifiles (persdbrtsql)::  
* Documentation on internals (persdbrtsql)::  
* Known bugs and planned improvements (persdbrtsql)::  
@end menu

@node Implementation of the Database Interface, Example(s), SQL persistent database interface, SQL persistent database interface
@comment node-name, next,  previous,  up
@section Implementation of the Database Interface 

The architecture of the low-level implementation of the database interface was defined with two goals in mind: 


@itemize @bullet{} 
@item to simplify the communication between the Prolog system and the relational database engines as much as possible, and 


@item to give as much flexibility as possible to the overall system. This includes simultaneous access to several databases, allowing both the databases and clients to reside on the same physical machine or different machines, and allowing the clients to reside in Win95/NT or Unix machines. 
@end itemize  
 
In order to allow the flexibility mentioned above, a client-sever architecture was chosen. The following figure depicts the overall architecture of the system: 

@image{autofigarchitecture} 

At the server side, a ``database mediator server'' connects on one side to the databases using the ODBC interface (this interface is available for the databases of the RadioWeb project, as well as for the majority of the databases running in the Win95/NT operating systems) and on the other it is connected to the network by TCP/IP using a fixed socket number / service (currently fixed to socket number 2020). 

The mediator server must run on the Windows (NT/95) operating system, on the machine where the databases are also running. The (Prolog) clients which connect to it can be run locally at the server machine. In addition, remote clients running on different machines can also connect to the mediator server by connecting to its socket number (service). Such clients can run on either Unix or Windows systems. 

After the connection is established a client can send commands to the mediator server which will pass them to the corresponding database server, and then the data will traverse in the opposite direction. These messages include logging on and off from the database, sending SQL queries, and receiving the responses. 

The low level implementation of the current library is accomplished by providing several abstraction levels over the socket interface library of the Prolog engine. These layers of abstraction implement the persistent predicate view, build the appropriate commands for the database using a translator of Prolog goals to SQL commands, issue such commands using the mediator send/receive procedures, parse the responses, and present such responses to the Prolog engine via backtracking. 



@node Example(s), Usage and interface (persdbrtsql), Implementation of the Database Interface, SQL persistent database interface
@comment node-name, next,  previous,  up
@section Example(s) 


@smallexample 
:- include(library('persdb_sql/persdb_sql')).
:- use_module(library(format)).

%% ------------------------------------------------- %%
%% First sample database : 'SA 6.0 Sample' %%
%% ------------------------------------------------- %%

%% Declare product/4 a persistent predicate, storage in 'radiowebdb':
:- sql_persistent(product( int,    int, string, string ),
              product( quantity,   id,      name,   size   ),
              sampledb).
sql_persistent_location(sampledb, %% The 'sampledb' descriptor:
         db('ASA 6.0 Sample','dba', 'sql','r2d5.dia.fi.upm.es':2020)).

main0 :-
%% Prints the contents of the relation 'product/4' by backtracking over it:
         format("Printing table:\n",[]),
         product(Quantity, Id, Name, Size), 
         format("Tuple: ~w \t ~w \t ~w \t ~w \n",
                [Quantity, Id, Name, Size]),
         fail.
main0 :-
         format("Done.\n",[]).

%% Generalizing table printing:
%% Prints the contents of Pred by backtracking over it
print_predicate(Pred):- 
        format("Printing relation:\n",[]),
        Pred, %% predicate call
        Pred=..[_|Args],
        format("\t Tuple: ~w \n",[Args]),
        fail.
print_predicate(_Pred):-
        format("Done.~n",[]).

main1 :- %% similar to main0:
%% Prints the contents of the relation 'product/4' by backtracking over it:
        print_predicate(product(_Quantity,_Id,_Name,_Size)).

main2 :- %% Issues a complex query inside a db_findall:
         dbfindall(sampledb,
                   foo(Quantity, Id, Name, Size, Bar),
                   ( product(Quantity, Id, Name, Size),
                     I^N^S^(Bar is avg(Q,product(Q, I, N, S)))
                   ),
                   Results),
         format("Results = ~w~n",[Results]).
main21 :- %% Using db_call
         dbcall(sampledb,
             (product(Quantity, Id, Name, Size),
              product(Quantity, Id1, _Name1, _Size1),Id1>Id)),
%%       product(Quantity, Id, Name, Size),
%%          product(Quantity, Id1, Name1, Size1),
%%          Id1>Id,
         format("Tuple: ~w \t ~w \t ~w \t ~w \n",
                [Quantity, Id, Name, Size]).

main22 :-  % get the set of tables from a database
        sql_get_tables(sampledb,TablesList),
        display(TablesList).

main23 :- % get table attributes and its types 
        sql_table_types(sampledb, 'Customer', AttList),
        display(AttList).
        
%% ------------------------------------------------- %%
%% Second sample database : 'Literature'             %%
%% ------------------------------------------------- %%

:- sql_persistent(authors(string,string,int),
               authors(firstName,lastName,id), %% 'id' is the primary key
               literature_db).
sql_persistent_location(literature_db,
        db('Literature','dba','sql','r2d5.dia.fi.upm.es':2020)).

main3:- %% Prints the contents of authors
         print_predicate(authors(_FirstName,_LastName,_Id)) .

main4:- %% assert a persistent fact
         dbassertz_fact(authors('Pedro','Calderon de la Barca',17)).

main6:- %% retract a persistent fact
         dbretract_fact(authors('Pedro','Calderon de la Barca',17)).


main9:- %% checking if a persistent fact is a current fact
        dbcurrent_fact(authors(_X,_Y,_Z)).


@end smallexample  




@node Usage and interface (persdbrtsql), Documentation on exports (persdbrtsql), Example(s), SQL persistent database interface
@comment node-name, next,  previous,  up
@section Usage and interface (@code{persdbrtsql})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

Typically, this library is used including the 'persdb_sql' package into the package list of the module, or using the 
@glindex use_package/1
@code{use_package/1} declaration: 
@table @asis 
@item In a module: 
@smallexample 
	:- module(bar, [main/1], [persdb_sql]).
@end smallexample  
or 
@smallexample 
        :- module(bar, [main/1]).
        :- include(library(persdb_sql)).
@end smallexample  
@item In a @emph{user} file: 
@smallexample 
	:- use_package([persdb_sql]).
@end smallexample  
or 
@smallexample 
        :- include(library(persdb_sql)).
@end smallexample  
@end table  
This loads the run-time and compile-time versions of the library (@code{persdbtr_sql.pl} and @code{persdbrt_sql.pl}) and includes some needed declarations.

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex init_sql_persdb/0
@code{init_sql_persdb/0}, 
@glindex dbassertz_fact/1
@code{dbassertz_fact/1}, 
@glindex dbretract_fact/1
@code{dbretract_fact/1}, 
@glindex dbcurrent_fact/1
@code{dbcurrent_fact/1}, 
@glindex dbretractall_fact/1
@code{dbretractall_fact/1}, 
@glindex make_sql_persistent/3
@code{make_sql_persistent/3}, 
@glindex dbfindall/4
@code{dbfindall/4}, 
@glindex dbcall/2
@code{dbcall/2}, 
@glindex sql_query/3
@code{sql_query/3}, 
@glindex sql_get_tables/2
@code{sql_get_tables/2}, 
@glindex sql_table_types/3
@code{sql_table_types/3}.


@item @emph{Multifiles:}

@glindex sql_persistent_location/2
@code{sql_persistent_location/2}.


@end itemize


@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex persdb_sql/db_client
@code{persdb_sql/db_client}, 
@glindex persdb_sql/pl2sql
@code{persdb_sql/pl2sql}, 
@glindex persdb_sql/sqltypes
@code{persdb_sql/sqltypes}, 
@glindex dynamic
@code{dynamic}, 
@glindex terms
@code{terms}, 
@glindex metaterms
@code{metaterms}, 
@glindex messages
@code{messages}, 
@glindex lists
@code{lists}, 
@glindex aggregates
@code{aggregates}, 
@glindex persdb_sql/insert_compiler/pl2sqlinsert
@code{persdb_sql/insert_compiler/pl2sqlinsert}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (persdbrtsql), Documentation on multifiles (persdbrtsql), Usage and interface (persdbrtsql), SQL persistent database interface
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{persdbrtsql})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{init_sql_persdb/0 (pred)}}}
@temp
@end iftex
@pdindex init_sql_persdb/0 
@glindex init_sql_persdb/0 
@deffn PREDICATE init_sql_persdb/0:






@strong{Usage:} 
@itemize @minus
@item @emph{Description:} Internal predicate, used to transform predicates statically declared as persistent (see 
@glindex sql_persistent/3
@code{sql_persistent/3}) into real persistent predicates.  
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{sql_persistent/3 (pred)}}}
@temp
@end iftex
@pdindex sql_persistent/3 
@glindex sql_persistent/3 
@deffn PREDICATE sql_persistent/3:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{dbassertz_fact/1 (pred)}}}
@temp
@end iftex
@pdindex dbassertz_fact/1 
@glindex dbassertz_fact/1 
@deffn PREDICATE dbassertz_fact/1:






The predicate is of type @emph{implicit}.


@strong{Usage:} @code{dbassertz_fact(+Fact)}
@itemize @minus
@item @emph{Description:} Persistent extension of 
@glindex assertz_fact/1
@code{assertz_fact/1}: the current instance of @code{Fact} is interpreted as a fact (i.e., a relation tuple) and is added to the end of the definition of the corresponding predicate. If any integrity constraint violation is done (database stored predicates), an error will be displayed. The predicate concerned must be statically (
@glindex sql_persistent/3
@code{sql_persistent/3}) or dinamically (
@glindex make_sql_persistent/3
@code{make_sql_persistent/3}) declared. Any uninstantiated variables in the @code{Fact} will be replaced by new, private variables. @strong{Note:} @emph{assertion of facts with uninstantiated variables not implemented at this time.} 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+Fact} is a fact (a term whose main functor is not @code{':-'/2}).
@iftex
@hfill
@end iftex
 (@code{persdbrtsql:fact/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{dbretract_fact/1 (pred)}}}
@temp
@end iftex
@pdindex dbretract_fact/1 
@glindex dbretract_fact/1 
@deffn PREDICATE dbretract_fact/1:






The predicate is of type @emph{implicit}.


@strong{Usage:} @code{dbretract_fact(+Fact)}
@itemize @minus
@item @emph{Description:} Persistent extension of 
@glindex retract_fact/1
@code{retract_fact/1}: deletes on backtracking all the facts which unify with @code{Fact}. The predicate concerned must be statically (
@glindex sql_persistent/3
@code{sql_persistent/3}) or dinamically (
@glindex make_sql_persistent/3
@code{make_sql_persistent/3}) declared. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+Fact} is a fact (a term whose main functor is not @code{':-'/2}).
@iftex
@hfill
@end iftex
 (@code{persdbrtsql:fact/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{dbcurrent_fact/1 (pred)}}}
@temp
@end iftex
@pdindex dbcurrent_fact/1 
@glindex dbcurrent_fact/1 
@deffn PREDICATE dbcurrent_fact/1:






The predicate is of type @emph{implicit}.


@strong{Usage:} @code{dbcurrent_fact(+Fact)}
@itemize @minus
@item @emph{Description:} Persistent extension of 
@glindex current_fact/1
@code{current_fact/1}: the fact @code{Fact} exists in the current database. The predicate concerned must be declared 
@glindex sql_persistent/3
@code{sql_persistent/3}. Provides on backtracking all the facts (tuples) which unify with @code{Fact}. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+Fact} is a fact (a term whose main functor is not @code{':-'/2}).
@iftex
@hfill
@end iftex
 (@code{persdbrtsql:fact/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{dbretractall_fact/1 (pred)}}}
@temp
@end iftex
@pdindex dbretractall_fact/1 
@glindex dbretractall_fact/1 
@deffn PREDICATE dbretractall_fact/1:






The predicate is of type @emph{implicit}.


@strong{Usage:} @code{dbretractall_fact(+Fact)}
@itemize @minus
@item @emph{Description:} Persistent extension of 
@glindex retractall_fact/1
@code{retractall_fact/1}: when called deletes all the facts which unify with @code{Fact}. The predicate concerned must be statically (
@glindex sql_persistent/3
@code{sql_persistent/3}) or dinamically (
@glindex make_sql_persistent/3
@code{make_sql_persistent/3}) declared. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+Fact} is a fact (a term whose main functor is not @code{':-'/2}).
@iftex
@hfill
@end iftex
 (@code{persdbrtsql:fact/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{make_sql_persistent/3 (pred)}}}
@temp
@end iftex
@pdindex make_sql_persistent/3 
@glindex make_sql_persistent/3 
@deffn PREDICATE make_sql_persistent/3:






@emph{Meta-predicate} of type @emph{implicit} with arguments: @code{make_sql_persistent(addmodule,?,?)}.


@strong{Usage:} @code{make_sql_persistent(PrologPredTypes,TableAttributes,Keyword)}
@itemize @minus
@item @emph{Description:} Dynamic version of the 
@glindex sql_persistent/3
@code{sql_persistent/3} declaration. 
@item @emph{The following properties should hold upon exit:}


@code{PrologPredTypes} is a structure describing a Prolog predicate name with its types.
@iftex
@hfill
@end iftex
 (@code{persdbrtsql:prologPredTypes/1})

@code{TableAttributes} is a structure describing a table name and some attributes.
@iftex
@hfill
@end iftex
 (@code{persdbrtsql:tableAttributes/1})

@code{Keyword} is the name of a persistent storage location.
@iftex
@hfill
@end iftex
 (@code{persdbrtsql:persLocId/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{dbfindall/4 (pred)}}}
@temp
@end iftex
@pdindex dbfindall/4 
@glindex dbfindall/4 
@deffn PREDICATE dbfindall/4:






@strong{Usage:} @code{dbfindall(+DBId,+Pattern,+ComplexGoal,-(Results))}
@itemize @minus
@item @emph{Description:} Similar to 
@glindex findall/3
@code{findall/3}, but @code{Goal} is executed in database @code{DBId}. Certain restrictions and extensions apply to both @code{Pattern} and @code{ComplexGoal} stemming from the Prolog to SQL translation involved (see the corresponding type definitions for details). 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+DBId} a unique identifier of a database session connection.
@iftex
@hfill
@end iftex
 (@code{db_client:dbconnection/1})

@code{+Pattern} is a database projection term.
@iftex
@hfill
@end iftex
 (@code{pl2sql:projterm/1})

@code{+ComplexGoal} is a database query goal.
@iftex
@hfill
@end iftex
 (@code{pl2sql:querybody/1})

@code{-(Results)} is a list.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{dbcall/2 (pred)}}}
@temp
@end iftex
@pdindex dbcall/2 
@glindex dbcall/2 
@deffn PREDICATE dbcall/2:






@strong{Usage:} @code{dbcall(+DBId,+ComplexGoal)}
@itemize @minus
@item @emph{Description:} Internal predicate, used by the transformed versions of the persistent predicates. Not meant to be called directly by users. It is exported by the library so that it can be used by the transformed versions of the persistent predicates in the modules in which they reside. Sends @code{ComplexGoal} to database @code{DBId} for evaluation. @code{ComplexGoal} must be a call to a persistent predicate which resides in database @code{DBId}. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+DBId} a unique identifier of a database session connection.
@iftex
@hfill
@end iftex
 (@code{db_client:dbconnection/1})

@code{+ComplexGoal} is a database query goal.
@iftex
@hfill
@end iftex
 (@code{pl2sql:querybody/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{sql_query/3 (pred)}}}
@temp
@end iftex
@pdindex sql_query/3 
@glindex sql_query/3 
@deffn PREDICATE sql_query/3:






@strong{Usage:} @code{sql_query(+DBId,+SQLString,AnswerTableTerm)}
@itemize @minus
@item @emph{Description:} @code{ResultTerm} is the response from database @code{DBId} to the 
@glindex SQL query
SQL query in @code{SQLString} to database @code{DBId}. @code{AnswerTableTerm} can express a set of tuples, an error answer or a 'ok' response (see 
@glindex answertableterm/1
@code{answertableterm/1} for details). At the moment, 
@glindex sql_query/3
@code{sql_query/3} log in and out for each query. This should be changed to log in only the first time and log out on exit and/or via a timer in the standard way. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+DBId} a unique identifier of a database session connection.
@iftex
@hfill
@end iftex
 (@code{db_client:dbconnection/1})

@code{+SQLString} is a string containing SQL code.
@iftex
@hfill
@end iftex
 (@code{pl2sql:sqlstring/1})

@code{AnswerTableTerm} is a response from the ODBC database interface.
@iftex
@hfill
@end iftex
 (@code{db_client:answertableterm/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{sql_get_tables/2 (pred)}}}
@temp
@end iftex
@pdindex sql_get_tables/2 
@glindex sql_get_tables/2 
@deffn PREDICATE sql_get_tables/2:






@strong{Usage 1:} @code{sql_get_tables(+Location,-(Tables))}
@itemize @minus
@item @emph{Description:} @code{Tables} contains the tables available in @code{Location}. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{persdbrtsql:persLocation(+Location)}
@iftex
@hfill
@end iftex
 (@code{persdbrtsql:persLocation/1})

@code{-(Tables)} is a list of @code{atm}s.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/2})
@end itemize

@strong{Usage 2:} @code{sql_get_tables(+DbConnection,-(Tables))}
@itemize @minus
@item @emph{Description:} @code{Tables} contains the tables available in @code{DbConnection}. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+DbConnection} a unique identifier of a database session connection.
@iftex
@hfill
@end iftex
 (@code{db_client:dbconnection/1})

@code{-(Tables)} is a list of @code{atm}s.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{sql_table_types/3 (pred)}}}
@temp
@end iftex
@pdindex sql_table_types/3 
@glindex sql_table_types/3 
@deffn PREDICATE sql_table_types/3:






@strong{Usage 1:} @code{sql_table_types(+Location,+Table,-(AttrTypes))}
@itemize @minus
@item @emph{Description:} @code{AttrTypes} are the attributes and types of @code{Table} in @code{Location}. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{persdbrtsql:persLocation(+Location)}
@iftex
@hfill
@end iftex
 (@code{persdbrtsql:persLocation/1})

@code{+Table} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})

@code{-(AttrTypes)} is a list.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/1})
@end itemize

@strong{Usage 2:} @code{sql_table_types(+DbConnection,+Table,-(AttrTypes))}
@itemize @minus
@item @emph{Description:} @code{AttrTypes} are the attributes and types of @code{Table} in @code{DbConnection}. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+DbConnection} a unique identifier of a database session connection.
@iftex
@hfill
@end iftex
 (@code{db_client:dbconnection/1})

@code{+Table} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})

@code{-(AttrTypes)} is a list.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{socketname/1 (regtype)}}}
@temp
@end iftex
@teindex socketname/1 
@glindex socketname/1 
@deffn REGTYPE socketname/1:






@strong{Usage:} @code{socketname(IPP)}
@itemize @minus
@item @emph{Description:} @code{IPP} is a structure describing a complete TCP/IP port address. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{dbname/1 (regtype)}}}
@temp
@end iftex
@teindex dbname/1 
@glindex dbname/1 
@deffn REGTYPE dbname/1:






@strong{Usage:} @code{dbname(DBId)}
@itemize @minus
@item @emph{Description:} @code{DBId} is the identifier of an ODBC database. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{user/1 (regtype)}}}
@temp
@end iftex
@teindex user/1 
@glindex user/1 
@deffn REGTYPE user/1:






@strong{Usage:} @code{user(User)}
@itemize @minus
@item @emph{Description:} @code{User} is a user name in the ODBC database. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{passwd/1 (regtype)}}}
@temp
@end iftex
@teindex passwd/1 
@glindex passwd/1 
@deffn REGTYPE passwd/1:






@strong{Usage:} @code{passwd(Passwd)}
@itemize @minus
@item @emph{Description:} @code{Passwd} is the password for the user name in the ODBC database. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{projterm/1 (regtype)}}}
@temp
@end iftex
@teindex projterm/1 
@glindex projterm/1 
@deffn REGTYPE projterm/1:






@strong{Usage:} @code{projterm(DBProjTerm)}
@itemize @minus
@item @emph{Description:} @code{DBProjTerm} is a database projection term. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{querybody/1 (regtype)}}}
@temp
@end iftex
@teindex querybody/1 
@glindex querybody/1 
@deffn REGTYPE querybody/1:






@strong{Usage:} @code{querybody(DBGoal)}
@itemize @minus
@item @emph{Description:} @code{DBGoal} is a database query goal. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{sqltype/1 (udreexp)}}}
@temp
@end iftex
@glindex sqltype/1 
@deffn (UNDOC_REEXPORT) sqltype/1:



 Imported from 
@glindex sqltypes
@code{sqltypes} (see the corresponding documentation for details).

@end deffn
@sp 1



@node Documentation on multifiles (persdbrtsql), Documentation on internals (persdbrtsql), Documentation on exports (persdbrtsql), SQL persistent database interface
@comment node-name, next,  previous,  up
@section Documentation on multifiles (@code{persdbrtsql})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{sql_persistent_location/2 (pred)}}}
@temp
@end iftex
@pdindex sql_persistent_location/2 
@glindex sql_persistent_location/2 
@deffn PREDICATE sql_persistent_location/2:



Relates names of locations (the @code{Keyword}s) with descriptions of such locations (@code{Location}s).


The predicate is @emph{multifile} and of type @emph{data}.


@strong{Usage 1:} @code{sql_persistent_location(Keyword,Location)}
@itemize @minus
@item @emph{Description:} @code{Keyword} is an identifier for the persistent data location @code{Location}. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{Keyword} is the name of a persistent storage location.
@iftex
@hfill
@end iftex
 (@code{persdbrtsql:persLocId/1})

@code{persdbrtsql:persLocation(Location)}
@iftex
@hfill
@end iftex
 (@code{persdbrtsql:persLocation/1})
@end itemize

@strong{Usage 2:} @code{sql_persistent_location(Keyword,DBLocation)}
@itemize @minus
@item @emph{Description:} In this usage, @code{DBLocation} is a @emph{relational database}, in which case the predicate is stored as tuples in the database. 
@item @emph{The following properties should hold upon exit:}


@code{Keyword} is the name of a persistent storage location.
@iftex
@hfill
@end iftex
 (@code{persdbrtsql:persLocId/1})

@code{DBLocation} is a structure describing a database.
@iftex
@hfill
@end iftex
 (@code{persdbrtsql:database_desc/1})
@end itemize
@end deffn
@sp 1



@node Documentation on internals (persdbrtsql), Known bugs and planned improvements (persdbrtsql), Documentation on multifiles (persdbrtsql), SQL persistent database interface
@comment node-name, next,  previous,  up
@section Documentation on internals (@code{persdbrtsql})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{db_query/4 (pred)}}}
@temp
@end iftex
@pdindex db_query/4 
@glindex db_query/4 
@deffn PREDICATE db_query/4:






@strong{Usage:} @code{db_query(+DBId,+ProjTerm,+Goal,ResultTerm)}
@itemize @minus
@item @emph{Description:} @code{ResultTerm} contains all the 
@glindex tuples
tuples which are the response from database @code{DBId} to the Prolog query @code{Goal}, projected onto @code{ProjTerm}. Uses 
@glindex pl2sqlstring/3
@code{pl2sqlstring/3} for the 
@glindex Prolog to SQL translation
Prolog to SQL translation and 
@glindex sql_query/3
@code{sql_query/3} for posing the actual query. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+DBId} a unique identifier of a database session connection.
@iftex
@hfill
@end iftex
 (@code{db_client:dbconnection/1})

@code{+ProjTerm} is a database projection term.
@iftex
@hfill
@end iftex
 (@code{pl2sql:projterm/1})

@code{+Goal} is a database query goal.
@iftex
@hfill
@end iftex
 (@code{pl2sql:querybody/1})

@code{ResultTerm} is a tuple of values from the ODBC database interface.
@iftex
@hfill
@end iftex
 (@code{db_client:tuple/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{db_query_one_tuple/4 (pred)}}}
@temp
@end iftex
@pdindex db_query_one_tuple/4 
@glindex db_query_one_tuple/4 
@deffn PREDICATE db_query_one_tuple/4:






@strong{Usage:} @code{db_query_one_tuple(+DBId,+ProjTerm,+Goal,ResultTerm)}
@itemize @minus
@item @emph{Description:} @code{ResultTerm} is one of the 
@glindex tuples
tuples which are the response from database @code{DBId} to the Prolog query @code{Goal}, projected onto @code{ProjTerm}. Uses 
@glindex pl2sqlstring/3
@code{pl2sqlstring/3} for the 
@glindex Prolog to SQL translation
Prolog to SQL translation and 
@glindex sql_query_one_tuple/3
@code{sql_query_one_tuple/3} for posing the actual query. After last tuple has been reached, a null tuple is unified with ResultTerm, and the connection to the database finishes. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+DBId} a unique identifier of a database session connection.
@iftex
@hfill
@end iftex
 (@code{db_client:dbconnection/1})

@code{+ProjTerm} is a database projection term.
@iftex
@hfill
@end iftex
 (@code{pl2sql:projterm/1})

@code{+Goal} is a database query goal.
@iftex
@hfill
@end iftex
 (@code{pl2sql:querybody/1})

@code{ResultTerm} is a predicate containing a tuple.
@iftex
@hfill
@end iftex
 (@code{db_client:answertupleterm/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{sql_query_one_tuple/3 (pred)}}}
@temp
@end iftex
@pdindex sql_query_one_tuple/3 
@glindex sql_query_one_tuple/3 
@deffn PREDICATE sql_query_one_tuple/3:






@strong{Usage:} @code{sql_query_one_tuple(+DBId,+SQLString,ResultTuple)}
@itemize @minus
@item @emph{Description:} @code{ResultTuple} contains an element from the set of tuples which represents the response in @code{DBId} to the 
@glindex SQL query
SQL query @code{SQLString}. If the connection is kept, succesive calls return consecutive tuples, until the last tuple is reached. Then a null tuple is unified with @code{ResultTuple} and the connection is finished (calls to 
@glindex db_logoff/1
@code{db_logoff/1} and 
@glindex odbc_disconnect/1
@code{odbc_disconnect/1}). 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+DBId} a unique identifier of a database session connection.
@iftex
@hfill
@end iftex
 (@code{db_client:dbconnection/1})

@code{+SQLString} is a string containing SQL code.
@iftex
@hfill
@end iftex
 (@code{pl2sql:sqlstring/1})

@code{ResultTuple} is a tuple of values from the ODBC database interface.
@iftex
@hfill
@end iftex
 (@code{db_client:tuple/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{dbconnection/1 (regtype)}}}
@temp
@end iftex
@teindex dbconnection/1 
@glindex dbconnection/1 
@deffn REGTYPE dbconnection/1:






@strong{Usage:} @code{dbconnection(H)}
@itemize @minus
@item @emph{Description:} @code{H} a unique identifier of a database session connection. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{tuple/1 (regtype)}}}
@temp
@end iftex
@teindex tuple/1 
@glindex tuple/1 
@deffn REGTYPE tuple/1:






@strong{Usage:} @code{tuple(T)}
@itemize @minus
@item @emph{Description:} @code{T} is a tuple of values from the ODBC database interface. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1



@node Known bugs and planned improvements (persdbrtsql),  , Documentation on internals (persdbrtsql), SQL persistent database interface
@comment node-name, next,  previous,  up
@section Known bugs and planned improvements (@code{persdbrtsql})

@itemize @bullet{}

@item
At least in the shell, reloading a file after changing the definition of a persistent predicate does not eliminate the old definition...

@item
Functionality missing: some questions need to be debugged.

@item
Warning: still using kludgey string2term and still using some non-uniquified temp files.

@item
Needs to be unified with the file-based library.
@end itemize

@c (component)


@node Prolog to SQL translator, Low-level socket interface to SQL/ODBC databases, SQL persistent database interface, Top
@comment node-name, next,  previous,  up
@chapter Prolog to SQL translator
@liindex pl2sql
@c -------------------------------------------------
@c WARNING: Do not edit this file (pl2sql.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/persdb_sql/pl2sql.pl
@c -------------------------------------------------

@strong{Author(s):} C. Draxler. Adapted by M. Hermenegildo and I. Caballero.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 0.9#96 (1999/5/21, 19:53:48 MEST)

This library performs translation of Prolog queries into 
@glindex SQL
SQL. The code is an adaptation for CIAO of the 
@glindex Prolog to SQL compiler
Prolog to SQL compiler written by Christoph Draxler, CIS Centre for Information and Speech Processing, Ludwig-Maximilians-University Munich, @code{draxler@@cis.uni-muenchen.de}, Version 1.1. Many thanks to Christoph for allowing us to include this adaptation of his code with CIAO. 

The translator needs to know the correspondence between Prolog predicates and the 
@glindex SQL tables
SQL tables in the database. To this end this module exports two multifile predicates, 
@glindex relation/3
@code{relation/3} and 
@glindex attribute/4
@code{attribute/4}. See the description of these predicates for details on how such correspondance is specified. 

The main entry points to the translator are 
@glindex pl2sqlstring/3
@code{pl2sqlstring/3} and 
@glindex pl2sqlterm/3
@code{pl2sqlterm/3}. Details on the types of queries allowed can be found in the description of these predicates. 

@strong{Example:} the following program would print out a term representing the SQL query corresponding to the given Prolog query: 


@smallexample 
:- use_module(library('persdb_sql/pl2sql')).
:- use_module(library(strings)).

:- multifile [relation/3,attribute/4].
:- data [relation/3,attribute/4].

relation(product,3,'PRODUCT').
attribute(1,'PRODUCT','ID',int).
attribute(2,'PRODUCT','QUANTITY',int).
attribute(3,'PRODUCT','NAME',string).

main :- 
     pl2sqlstring( f(L,K), 
          ((product(L,N,a); product(L,N,b)),
           \+ product(2,3,b), 
           L + 2 > avg(Y, Z^product(Z,Y,a)),
           K is N + max(X, product(X,2,b))
           ), T),
     write_string(T).
     
%%     printqueries(T).

@end smallexample  

@strong{Note:} while the translator can be used directly in programs, it is more convenient to use a higher-level abstraction: 
@glindex persistent predicates
persistent predicates (implemented in the 
@glindex persdb
@code{persdb} library). The notion of persistent predicates provides a completely transparent interface between Prolog and relational databases. When using this library, the Prolog to SQL translation is called automatically as needed. 





@menu
* Usage and interface (pl2sql)::  
* Documentation on exports (pl2sql)::  
* Documentation on multifiles (pl2sql)::  
* Documentation on internals (pl2sql)::	 
* Known bugs and planned improvements (pl2sql)::  
@end menu

@node Usage and interface (pl2sql), Documentation on exports (pl2sql), Prolog to SQL translator, Prolog to SQL translator
@comment node-name, next,  previous,  up
@section Usage and interface (@code{pl2sql})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(pl2sql)).}

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex pl2sqlstring/3
@code{pl2sqlstring/3}, 
@glindex pl2sqlterm/3
@code{pl2sqlterm/3}, 
@glindex printqueries/1
@code{printqueries/1}, 
@glindex sqlterm2string/2
@code{sqlterm2string/2}.


@item @emph{Regular Types:}

@glindex querybody/1
@code{querybody/1}, 
@glindex projterm/1
@code{projterm/1}, 
@glindex sqlstring/1
@code{sqlstring/1}.


@item @emph{Multifiles:}

@glindex relation/3
@code{relation/3}, 
@glindex attribute/4
@code{attribute/4}.


@end itemize


@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex persdb_sql/sqltypes
@code{persdb_sql/sqltypes}, 
@glindex write
@code{write}, 
@glindex read
@code{read}, 
@glindex dec10_io
@code{dec10_io}, 
@glindex system
@code{system}, 
@glindex iso_misc
@code{iso_misc}, 
@glindex lists
@code{lists}, 
@glindex aggregates
@code{aggregates}, 
@glindex messages
@code{messages}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (pl2sql), Documentation on multifiles (pl2sql), Usage and interface (pl2sql), Prolog to SQL translator
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{pl2sql})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{pl2sqlstring/3 (pred)}}}
@temp
@end iftex
@pdindex pl2sqlstring/3 
@glindex pl2sqlstring/3 
@deffn PREDICATE pl2sqlstring/3:






@strong{Usage:} @code{pl2sqlstring(+ProjectionTerm,+DatabaseGoal,-(SQLQueryString))}
@itemize @minus
@item @emph{Description:} This is the top level predicate which translates complex Prolog goals into the corresponding SQL code. 

The query code is prepared in such a way that the result is projected onto the term @code{ProjectionTerm} (also in a similar way to the first argument of 
@glindex setof/3
@code{setof/3})). See the predicate 
@glindex translate_projection/3
@code{translate_projection/3} for restrictions on this term. 

@code{SQLQueryString} contains the code of the 
@glindex SQL query
SQL query, ready to be sent to an 
@glindex SQL server
SQL server. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+ProjectionTerm} is a database projection term.
@iftex
@hfill
@end iftex
 (@code{pl2sql:projterm/1})

@code{+DatabaseGoal} is a database query goal.
@iftex
@hfill
@end iftex
 (@code{pl2sql:querybody/1})

@code{-(SQLQueryString)} is a string containing SQL code.
@iftex
@hfill
@end iftex
 (@code{pl2sql:sqlstring/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{querybody/1 (regtype)}}}
@temp
@end iftex
@teindex querybody/1 
@glindex querybody/1 
@deffn REGTYPE querybody/1:



@code{DBGoal} is a goal meant to be executed in the external database. It can be a complex term containing 
@glindex conjunctions
conjunctions, 
@glindex disjunctions
disjunctions, and 
@glindex negations
negations, of: 


@itemize @bullet{} 


@item 
@glindex Atomic goals
Atomic goals, which must have been defined via 
@glindex relation/3
@code{relation/3} and 
@glindex attribute/4
@code{attribute/4} and reside in the (same) database. Their arguments must be either ground or free variables. If they are ground, they must be bound to constants of the type declared for that argument. If an argument is a free variable, it may @emph{share} with (i.e., be the same variable as) other free variables in other goal arguments. 


@item 
@glindex Database comparison goals
Database comparison goals, whose main functor must be a 
@glindex database comparison operator
database comparison operator (see 
@glindex pl2sql
@code{pl2sql}:
@glindex comparison/2
@code{comparison/2}) and whose arguments must be @emph{database arithmetic expressions}. 


@item 
@glindex Database calls to is/2
Database calls to is/2. The left side of such a call may be either unbound, in which case it is bound to the result of evaluating the right side, or bound in which case an equality condition is tested. The right side must be a @emph{database arithmetic expression}. 


@end itemize  

The binding of variables follows Prolog rules: 


@itemize @bullet{} 


@item variables are bound by positive base goals and on the left side of the 
@glindex is/2
@code{is/2} predicate. 


@item Comparison operations, negated goals, and right sides of the 
@glindex is/2
@code{is/2} predicate do not return variable bindings and may even require all arguments to be bound for a safe evaluation. 


@end itemize  


@glindex Database arithmetic expressions
Database arithmetic expressions may contain: 


@itemize @bullet{} 


@item Numeric constants (i.e., integers, reals, etc.). 


@item Bound variables, i.e., variables which will be bound during execution through occurrence within a positive database goal, or by a preceding arithmetic function. 


@item 
@glindex Database arithmetic functions
Database arithmetic functions, which are a subset of those typically accepted within 
@glindex is/2
@code{is/2} (see 
@glindex pl2sql
@code{pl2sql}:
@glindex arithmetic_functor/2
@code{arithmetic_functor/2}). 


@item 
@glindex Database aggregation functions
Database aggregation functions, each of which has two arguments: a variable indicating the argument over which the function is to be computed, and a goal argument which must contain in at least one argument position the variable (e.g. @code{avg(Seats,plane(Type,Seats))}). The goal argument may only be a conjunction of (positive or negative) base goals. See 
@glindex pl2sql
@code{pl2sql}:
@glindex aggregate_functor/2
@code{aggregate_functor/2} for the admissible aggregate functions. 


@end itemize  

In addition, variables 
@coindex existential quantification
@glindex existential quantification 
can be existentially quantified using 
@glindex ^/2
@code{^/2} (in a similar way to how it is done in 
@glindex setof/3
@code{setof/3}). 

Note that it is assumed that the arithmetic operators in Prolog and SQL are the same, i.e., @code{+} is addition in Prolog and in SQL, etc. 




@strong{Usage:} @code{querybody(DBGoal)}
@itemize @minus
@item @emph{Description:} @code{DBGoal} is a database query goal. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{projterm/1 (regtype)}}}
@temp
@end iftex
@teindex projterm/1 
@glindex projterm/1 
@deffn REGTYPE projterm/1:



@code{DBProjTerm} is a term onto which the result of a database query code is (in a similar way to the first argument of 
@glindex setof/3
@code{setof/3})). 

A @code{ProjectionTerm} must meet the following restrictions: 


@itemize @bullet{} 


@item The functor of @code{ProjectionTerm} may not be one of the built-in predicates, i.e. ',', ';', etc. are not allowed. 


@item Only variables and constants are allowed as arguments, i.e., no structured terms may appear. 


@end itemize 



@strong{Usage:} @code{projterm(DBProjTerm)}
@itemize @minus
@item @emph{Description:} @code{DBProjTerm} is a database projection term. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{sqlstring/1 (regtype)}}}
@temp
@end iftex
@teindex sqlstring/1 
@glindex sqlstring/1 
@deffn REGTYPE sqlstring/1:




@smallexample 
sqlstring(S) :-
        string(S).
@end smallexample 



@strong{Usage:} @code{sqlstring(S)}
@itemize @minus
@item @emph{Description:} @code{S} is a string containing SQL code. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{pl2sqlterm/3 (pred)}}}
@temp
@end iftex
@pdindex pl2sqlterm/3 
@glindex pl2sqlterm/3 
@deffn PREDICATE pl2sqlterm/3:






@strong{Usage:} @code{pl2sqlterm(+ProjectionTerm,+DatabaseGoal,-(SQLQueryTerm))}
@itemize @minus
@item @emph{Description:} Similar to 
@glindex pl2sqlstring/3
@code{pl2sqlstring/3} except that @code{SQLQueryTerm} is a representation of the SQL query as a Prolog term. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+ProjectionTerm} is a database projection term.
@iftex
@hfill
@end iftex
 (@code{pl2sql:projterm/1})

@code{+DatabaseGoal} is a database query goal.
@iftex
@hfill
@end iftex
 (@code{pl2sql:querybody/1})

@code{-(SQLQueryTerm)} is a list of @code{sqlterm}s.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{printqueries/1 (pred)}}}
@temp
@end iftex
@pdindex printqueries/1 
@glindex printqueries/1 
@deffn PREDICATE printqueries/1:






@strong{Usage:} @code{printqueries(SQLTermList)}
@itemize @minus
@item @emph{Description:} Print to standard output in SQL the list of SQL term @code{SQLTermList}. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{SQLTermList} is a list of @code{sqlterm}s.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{sqlterm2string/2 (pred)}}}
@temp
@end iftex
@pdindex sqlterm2string/2 
@glindex sqlterm2string/2 
@deffn PREDICATE sqlterm2string/2:






@strong{Usage:} @code{sqlterm2string(+Queries,-(QueryString))}
@itemize @minus
@item @emph{Description:} @code{QueryString} is a string representation of the list of queries in Prolog-term format in @code{Queries}. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+Queries} is a list of @code{sqlterm}s.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/2})

@code{-(QueryString)} is a string containing SQL code.
@iftex
@hfill
@end iftex
 (@code{pl2sql:sqlstring/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{sqltype/1 (udreexp)}}}
@temp
@end iftex
@glindex sqltype/1 
@deffn (UNDOC_REEXPORT) sqltype/1:



 Imported from 
@glindex sqltypes
@code{sqltypes} (see the corresponding documentation for details).

@end deffn
@sp 1



@node Documentation on multifiles (pl2sql), Documentation on internals (pl2sql), Documentation on exports (pl2sql), Prolog to SQL translator
@comment node-name, next,  previous,  up
@section Documentation on multifiles (@code{pl2sql})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{relation/3 (pred)}}}
@temp
@end iftex
@pdindex relation/3 
@glindex relation/3 
@deffn PREDICATE relation/3:






The predicate is @emph{multifile} and of type @emph{data}.


@strong{Usage:} @code{relation(PredName,Arity,TableName)}
@itemize @minus
@item @emph{Description:} This predicate, together with 
@glindex attribute/4
@code{attribute/4}, defines the correspondence between Prolog predicates and the 
@glindex SQL tables
SQL tables in the database. These two relations constitute an extensible meta-database which maps 
@glindex Prolog predicate names
Prolog predicate names to 
@glindex SQL table names
SQL table names, and 
@glindex Prolog predicate argument positions
Prolog predicate argument positions to 
@glindex SQL attributes
SQL attributes. 

@code{PredName} is the chosen Prolog name for an SQL table. @code{Arity} is the number of arguments of the predicate. @code{TableName} is the name of the SQL table in the Database Management System. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{PredName} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})

@code{Arity} is an integer.
@iftex
@hfill
@end iftex
 (@code{basic_props:int/1})

@code{TableName} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{attribute/4 (pred)}}}
@temp
@end iftex
@pdindex attribute/4 
@glindex attribute/4 
@deffn PREDICATE attribute/4:






The predicate is @emph{multifile} and of type @emph{data}.


@strong{Usage:} @code{attribute(ANumber,TblName,AName,AType)}
@itemize @minus
@item @emph{Description:} This predicate maps the argument positions of a Prolog predicate to the SQL attributes of its corresponding table. The types of the arguments need to be specified, and this information is used for consistency checking during the translation and for output formatting. A minimal type system is provided to this end. The allowable types are given by 
@glindex sqltype/1
@code{sqltype/1}. 

@code{ANumber} is the argument number in the Prolog relation. @code{TblName} is the name of the SQL table in the Database Management System. @code{AName} is the name of the corresponding attribute in the table. @code{AType} is the (translator) data type of the attribute. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{ANumber} is an integer.
@iftex
@hfill
@end iftex
 (@code{basic_props:int/1})

@code{TblName} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})

@code{AName} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})

@code{AType} is an SQL data type supported by the translator.
@iftex
@hfill
@end iftex
 (@code{sqltypes:sqltype/1})
@end itemize
@end deffn
@sp 1



@node Documentation on internals (pl2sql), Known bugs and planned improvements (pl2sql), Documentation on multifiles (pl2sql), Prolog to SQL translator
@comment node-name, next,  previous,  up
@section Documentation on internals (@code{pl2sql})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{query_generation/3 (pred)}}}
@temp
@end iftex
@pdindex query_generation/3 
@glindex query_generation/3 
@deffn PREDICATE query_generation/3:






@strong{Usage:} @code{query_generation(+ListOfConjunctions,+ProjectionTerm,-(ListOfQueries))}
@itemize @minus
@item @emph{Description:} For each Conjunction in @code{ListOfConjunctions}, translate the pair @code{(ProjectionTerm,Conjunction)} to an SQL query and connect each such query through a 
@glindex UNION-operator
UNION-operator to result in the @code{ListOfQueries}. 

A Conjunction consists of positive or negative subgoals. Each subgoal is translated as follows: 


@itemize @bullet{} 


@item the 
@glindex functor of a goal
functor of a goal that is not a comparison operation is translated to a 
@glindex relation name
relation name with a 
@glindex range variable
range variable, 


@item 
@glindex negated goals
negated goals are translated to 
@glindex NOT EXISTS-subqueries
NOT EXISTS-subqueries with 
@glindex * projection
* projection, 


@item 
@glindex comparison operations
comparison operations are translated to comparison operations in the 
@glindex WHERE-clause
WHERE-clause, 


@item 
@glindex aggregate function terms
aggregate function terms are translated to 
@glindex aggregate function (sub)queries
aggregate function (sub)queries. 


@end itemize  

The arguments of a goal are translated as follows: 


@itemize @bullet{} 


@item @code{variables of a goal} are translated to 
@glindex qualified attributes
qualified attributes, 


@item 
@glindex variables occurring in several goals
variables occurring in several goals are translated to equality comparisons (equi join) in the WHERE-clause, 
@coindex equi join in the WHERE-clause
@glindex equi join in the WHERE-clause 


@item 
@glindex constant arguments
constant arguments are translated to 
@glindex equality comparisons in the WHERE-clause
equality comparisons in the WHERE-clause. 


@end itemize  

Arithmetic functions are treated specially (
@glindex translate_arithmetic_function/5
@code{translate_arithmetic_function/5}). See also 
@glindex querybody/1
@code{querybody/1} for details on the syntax accepted and restrictions. 

 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{translate_conjunction/5 (pred)}}}
@temp
@end iftex
@pdindex translate_conjunction/5 
@glindex translate_conjunction/5 
@deffn PREDICATE translate_conjunction/5:






@strong{Usage:} @code{translate_conjunction(Conjunction,SQLFrom,SQLWhere,Dict,NewDict)}
@itemize @minus
@item @emph{Description:} Translates a conjunction of goals (represented as a list of goals preceeded by existentially quantified variables) to 
@glindex FROM-clauses
FROM-clauses and 
@glindex WHERE-clauses
WHERE-clauses of an SQL query. A dictionary containing the associated SQL table and attribute names is built up as an accumulator pair (arguments @code{Dict} and @code{NewDict}). 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{translate_goal/5 (pred)}}}
@temp
@end iftex
@pdindex translate_goal/5 
@glindex translate_goal/5 
@deffn PREDICATE translate_goal/5:






@strong{Usage:} @code{translate_goal(Goal,SQLFrom,SQLWhere,Dict,NewDict)}
@itemize @minus
@item @emph{Description:} Translates: 


@itemize @bullet{} 


@item a 
@glindex positive database goal
positive database goal to the associated FROM- and WHERE clause of an SQL query, 


@item a 
@glindex negated database goal
negated database goal to a negated existential subquery, 


@item an 
@glindex arithmetic goal
arithmetic goal to an arithmetic expression or an aggregate function query, 


@item a 
@glindex comparison goal
comparison goal to a comparison expression, and 


@item a 
@glindex negated comparison goal
negated comparison goal to a comparison expression with the opposite comparison operator. 


@end itemize  
 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{translate_arithmetic_function/5 (pred)}}}
@temp
@end iftex
@pdindex translate_arithmetic_function/5 
@glindex translate_arithmetic_function/5 
@deffn PREDICATE translate_arithmetic_function/5:






@strong{Usage:} @code{translate_arithmetic_function(Result,Expression,SQLWhere,Dict,NewDict)}
@itemize @minus
@item @emph{Description:} Arithmetic functions (left side of is/2 operator is bound to value of expression on right side) may be called with either: 


@itemize @bullet{} 
@item @code{Result} unbound: then @code{Result} is bound to the value of the evaluation of @code{Expression}, 


@item @code{Result} bound: then an equality condition is returned between the value of @code{Result} and the value of the evaluation of @code{Expression}. 

Only the equality test shows up in the WHERE clause of an SQLquery. 
@end itemize  
 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{translate_comparison/5 (pred)}}}
@temp
@end iftex
@pdindex translate_comparison/5 
@glindex translate_comparison/5 
@deffn PREDICATE translate_comparison/5:






@strong{Usage:} @code{translate_comparison(LeftArg,RightArg,CompOp,Dict,SQLComparison)}
@itemize @minus
@item @emph{Description:} Translates the left and right arguments of a comparison term into the appropriate comparison operation in SQL. The result type of each argument expression is checked for type compatibility. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{aggregate_function/3 (pred)}}}
@temp
@end iftex
@pdindex aggregate_function/3 
@glindex aggregate_function/3 
@deffn PREDICATE aggregate_function/3:






@strong{Usage:} @code{aggregate_function(AggregateFunctionTerm,Dict,AggregateFunctionQuery)}
@itemize @minus
@item @emph{Description:} Supports the Prolog aggregate function terms listed in 
@glindex aggregate_functor/2
@code{aggregate_functor/2} within arithmetic expressions. Aggregate functions are translated to the corresponding SQL built-in aggregate functions. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{comparison/2 (pred)}}}
@temp
@end iftex
@pdindex comparison/2 
@glindex comparison/2 
@deffn PREDICATE comparison/2:






@strong{Usage:} @code{comparison(PrologOperator,SQLOperator)}
@itemize @minus
@item @emph{Description:} Defines the mapping between Prolog operators and SQL operators: 
@smallexample 
comparison(=,=).
comparison(<,<).
comparison(>,>).
comparison(@@<,<).
comparison(@@>,>).
@end smallexample 
 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{PrologOperator} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})

@code{SQLOperator} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{negated_comparison/2 (pred)}}}
@temp
@end iftex
@pdindex negated_comparison/2 
@glindex negated_comparison/2 
@deffn PREDICATE negated_comparison/2:






@strong{Usage:} @code{negated_comparison(PrologOperator,SQLOperator)}
@itemize @minus
@item @emph{Description:} Defines the mapping between Prolog operators and the complementary SQL operators: 
@smallexample 
negated_comparison(=,<>).
negated_comparison(\==,=).
negated_comparison(>,=<).
negated_comparison(=<,>).
negated_comparison(<,>=).
negated_comparison(>=,<).
@end smallexample 
 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{PrologOperator} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})

@code{SQLOperator} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{arithmetic_functor/2 (pred)}}}
@temp
@end iftex
@pdindex arithmetic_functor/2 
@glindex arithmetic_functor/2 
@deffn PREDICATE arithmetic_functor/2:






@strong{Usage:} @code{arithmetic_functor(PrologFunctor,SQLFunction)}
@itemize @minus
@item @emph{Description:} Defines the admissible arithmetic functions on the Prolog side and their correspondence on the SQL side: 
@smallexample 
arithmetic_functor(+,+).
arithmetic_functor(-,-).
arithmetic_functor(*,*).
arithmetic_functor(/,/).
@end smallexample 
 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{PrologFunctor} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})

@code{SQLFunction} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{aggregate_functor/2 (pred)}}}
@temp
@end iftex
@pdindex aggregate_functor/2 
@glindex aggregate_functor/2 
@deffn PREDICATE aggregate_functor/2:






@strong{Usage:} @code{aggregate_functor(PrologFunctor,SQLFunction)}
@itemize @minus
@item @emph{Description:} Defines the admissible aggregate functions on the Prolog side and their correspondence on the SQL side: 
@smallexample 
aggregate_functor(avg,'AVG').
aggregate_functor(min,'MIN').
aggregate_functor(max,'MAX').
aggregate_functor(sum,'SUM').
aggregate_functor(count,'COUNT').
@end smallexample 
 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{PrologFunctor} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})

@code{SQLFunction} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})
@end itemize
@end deffn
@sp 1



@node Known bugs and planned improvements (pl2sql),  , Documentation on internals (pl2sql), Prolog to SQL translator
@comment node-name, next,  previous,  up
@section Known bugs and planned improvements (@code{pl2sql})

@itemize @bullet{}

@item
Need to separate db predicate names by module.

@item
Warning: using kludgy SQL term to string conversion because of bugs in sqlterm2string/2.
@end itemize

@c (component)


@node Low-level socket interface to SQL/ODBC databases, Low-level Prolog to Java interface, Prolog to SQL translator, Top
@comment node-name, next,  previous,  up
@chapter Low-level socket interface to SQL/ODBC databases
@liindex db_client
@c -------------------------------------------------
@c WARNING: Do not edit this file (db_client.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/persdb_sql/db_client.pl
@c -------------------------------------------------

@strong{Author(s):} D. Cabeza, M. Carro, I. Caballero, and M. Hermenegildo..

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 1.3#53 (1999/9/15, 23:37:55 MEST)

This library provides a socket-based interface to 
@glindex SQL Databases
SQL Databases, using the 
@glindex database mediator server
database mediator server ODBC interface developed by C. Taboch and I. Caballero. The interface currently works for databases running in 
@glindex Win95/NT machine
Win95/NT machines via 
@glindex ODBC
ODBC. This low-level interface was defined with two goals in mind: 


@itemize @bullet{} 


@item To simplify the communication between the Prolog system and the relational database engines as much as possible. 


@item To give as much flexibility to the overall system. This includes supporting simultaneous access to several databases, and also allowing both the databases and clients to reside on the same or different physical Win95/NT machines. The clients can reside also in 
@glindex Unix/Linux machine
Unix/Linux machines. It is also possible to access database selections in either 
@glindex tuple at a time
tuple at a time or 
@glindex set at a time
set at a time fashion, as needed. 


@end itemize  

In order to allow the flexibility mentioned above, a socket (TCP/IP) client-server architecture was chosen. The interface has two main components: 


@itemize @bullet{} 


@item At the server side, a @emph{database mediator server} connects on one side to the databases using the ODBC interface and on the other to a fixed port number (service), on which the mediator server listens for requests. The source code (and executables) for this server (slightly modified versions of C. Taboch original code) are in the same directory as this library. This executable must be running on the Windows (NT/95) machine where the databas(es) is(are) also running.@footnote{The server can be downloaded from the same site(s) as the CIAO system. The downloaded package contains complete installation instructions for the server. Before trying to run the CIAO Prolog side of things, make sure that the server is correctly installed and running, and that it can be accessed from the small sample client that comes with the server distribution. Once this is achieved, connection from CIAO should not pose problems.} 


@item At the client side a Prolog client can connect to the database by loading this library and calling the appropriate predicates. The Prolog client can run on either Windows or Unix/Linux systems, locally at the server machine or remotely in different machines. The mediator server port number (service) used is currently fixed to 2020. After the connection is established a client can send commands to the mediator server which will pass them to the corresponding database server, and then the response data will return in the opposite direction. These messages include login on and off from the database, sending 
@glindex SQL queries
SQL queries, and receiving the responses. 


@end itemize  

@strong{Example:} 
@smallexample 
:- use_module(library('persdb_sql/db_client')).
:- use_module(library(format)).
:- use_module(library(lists)).

:- multifile issue_debug_messages/1.
:- data issue_debug_messages/1.
issue_debug_messages('db_client').

main0:- %% getting the tables existing in a database
        odbc_connect('r2d5.dia.fi.upm.es':2020,Stream),
        db_login(Stream,'DaletDemo',dalet_admin,dalet_admin,
%%        db_login(Stream,'ASA 6.0 Sample',dba,sql,
                 dbconnection(Stream,DbHandle)),
%%        db_get_tables(dbconnection(Stream,DbHandle),TablesList),
        db_table_types(dbconnection(Stream,DbHandle),'Titles',AttList),
        db_logoff(dbconnection(Stream,DbHandle)),
        odbc_disconnect(Stream),
        format("Results: ~w \n",AttList).


main1 :- %% accessing the whole table in one go
        odbc_connect('r2d5.dia.fi.upm.es':2020,Stream), 
        db_login(Stream,'ASA 6.0 Sample',dba,sql,Conn),
        db_eval_sql(Conn,"SELECT fname,lname,address from ""DBA"".customer 
                   WHERE ((Id>100) AND (Id<105))",Term), 
        write(Term), nl,nl,nl,nl,nl,nl,nl,nl,nl,nl,nl,nl,nl,nl,nl,
        functor(Term,X,_Y),
        write(X),nl,
        Term=..[_|L],
        write('That is L'),nl,        
        write(L),nl,L=[M],length(M,N),write(N),
%        db_eval_sql(Conn,"SELECT id,name,description,color from 
%                    ""DBA"".product WHERE size='One size fits all' 
%                    OR size='Large'",Term2), 
%        write(Term2), nl,
        db_logoff(Conn),
        odbc_disconnect(Stream).

main2:- %% accessing tuples one by one
        odbc_connect('r2d5.dia.fi.upm.es':2020,Stream),
        db_login(Stream,'ASA 6.0 Sample',dba,sql,Conn),
        db_stmt_handle(Conn,
              "SELECT fname,lname,address from ""DBA"".customer 
               WHERE ((Id>100) AND (Id<105))",QueryConn),
        db_one_tuple(QueryConn,Answer),
        format("First Tuple: ~w \n",Answer),
        db_one_tuple(QueryConn,Answer2),
        format("Second Tuple: ~w \n",Answer2),
        db_logoff(Conn),
        odbc_disconnect(Stream).
        
main3:- %% bringing tuples (one to one) from Literature Database
        %% TO SEE : check it
        odbc_connect('r2d5.dia.fi.upm.es':2020,Stream),
        db_login(Stream,'Literature',dba,sql,Conn),
        db_stmt_handle(Conn,"SELECT * FROM AUTHORS ORDER BY ID",QueryConn),
        print_all_one_by_one(QueryConn),
        db_logoff(Conn),
        odbc_disconnect(Stream).

print_all_one_by_one(QueryConn):-
        db_one_tuple(QueryConn,Answer), 
        Answer\=[],
        !,
        format(" ~w \n",Answer),
        print_all_one_by_one(QueryConn).
print_all_one_by_one(_QueryConn):-
        write(' Finished fetching query statement.'),
        nl.

main4:- %% inserting a tuple into the Literature database
        odbc_connect('r2d5.dia.fi.upm.es':2020,Stream),
        db_login(Stream,'Literature',dba,sql,Conn),
        db_stmt_handle(Conn, 
               "INSERT INTO AUTHORS values ('Martin Gaite',
                'Carmen',10,'1910-7-10 00:00:00:000')",_QueryConn),
        db_logoff(Conn),
        odbc_disconnect(Stream).
        
main5:- %% creating a view
        odbc_connect('r2d5.dia.fi.upm.es':2020,Stream),
        db_login(Stream,'Literature',dba,sql,Conn),
        db_stmt_handle(Conn,
               "CREATE VIEW AntoniosDateOfBirth AS SELECT 
                LastName,Date_of_birth FROM 
                AUTHORS where FirstName='Antonio';",_QueryConn),
        db_logoff(Conn),
        odbc_disconnect(Stream).        

main6:- %% printing the view
        odbc_connect('r2d5.dia.fi.upm.es':2020,Stream),
        db_login(Stream,'Literature',dba,sql,Conn),
        db_eval_sql(Conn,"select * from AntoniosDateOfBirth",Term),
        write(Term),
        db_logoff(Conn),
        odbc_disconnect(Stream).

main7:- %% dropping a view
        odbc_connect('r2d5.dia.fi.upm.es':2020,Stream),
        db_login(Stream,'Literature',dba,sql,Conn),
        db_eval_sql(Conn,"DROP VIEW AntoniosDateOfBirth",Term),
        write(Term),
        db_logoff(Conn),
        odbc_disconnect(Stream).










@end smallexample  




@menu
* Usage and interface (db_client)::  
* Documentation on exports (db_client)::  
* Documentation on internals (db_client)::  
* Known bugs and planned improvements (db_client)::  
@end menu

@node Usage and interface (db_client), Documentation on exports (db_client), Low-level socket interface to SQL/ODBC databases, Low-level socket interface to SQL/ODBC databases
@comment node-name, next,  previous,  up
@section Usage and interface (@code{db_client})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(db_client)).}

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex odbc_connect/2
@code{odbc_connect/2}, 
@glindex db_login/5
@code{db_login/5}, 
@glindex db_eval_sql/3
@code{db_eval_sql/3}, 
@glindex db_stmt_handle/3
@code{db_stmt_handle/3}, 
@glindex db_one_tuple/2
@code{db_one_tuple/2}, 
@glindex db_get_tables/2
@code{db_get_tables/2}, 
@glindex db_table_types/3
@code{db_table_types/3}, 
@glindex db_logoff/1
@code{db_logoff/1}, 
@glindex odbc_disconnect/1
@code{odbc_disconnect/1}.


@item @emph{Regular Types:}

@glindex socketname/1
@code{socketname/1}, 
@glindex dbname/1
@code{dbname/1}, 
@glindex user/1
@code{user/1}, 
@glindex passwd/1
@code{passwd/1}, 
@glindex dbconnection/1
@code{dbconnection/1}, 
@glindex answertableterm/1
@code{answertableterm/1}, 
@glindex tuple/1
@code{tuple/1}, 
@glindex dbqueryconnection/1
@code{dbqueryconnection/1}, 
@glindex answertupleterm/1
@code{answertupleterm/1}.


@end itemize


@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex sockets/sockets
@code{sockets/sockets}, 
@glindex write
@code{write}, 
@glindex strings
@code{strings}, 
@glindex lists
@code{lists}, 
@glindex persdb_sql/string2term
@code{persdb_sql/string2term}, 
@glindex messages
@code{messages}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (db_client), Documentation on internals (db_client), Usage and interface (db_client), Low-level socket interface to SQL/ODBC databases
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{db_client})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{odbc_connect/2 (pred)}}}
@temp
@end iftex
@pdindex odbc_connect/2 
@glindex odbc_connect/2 
@deffn PREDICATE odbc_connect/2:






@strong{Usage:} @code{odbc_connect(+DbAddress,-(Stream))}
@itemize @minus
@item @emph{Description:} Opens a socket connection to port @code{DbAddress}, which should be the address of a 
@glindex database mediator server
database mediator server. @code{Stream} is the identifier of the corresponding Prolog stream. It is simply a call to 
@glindex connect_to_socket/3
@code{connect_to_socket/3} 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+DbAddress} is a structure describing a complete TCP/IP port address.
@iftex
@hfill
@end iftex
 (@code{db_client:socketname/1})

@code{-(Stream)} is an open stream.
@iftex
@hfill
@end iftex
 (@code{streams_basic:stream/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{db_login/5 (pred)}}}
@temp
@end iftex
@pdindex db_login/5 
@glindex db_login/5 
@deffn PREDICATE db_login/5:






@strong{Usage:} @code{db_login(+Stream,+DbName,+User,+Passwd,-(DbConnection))}
@itemize @minus
@item @emph{Description:} Logs on to the database @code{DbName} with user @code{User} and password @code{Passwd} via connection @code{Stream}. @code{DbConnection} contains the identifier of the session, to be used in the calls to other predicates defining the interface. It fails and display an error message if the login is not succesfully completed. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+Stream} is an open stream.
@iftex
@hfill
@end iftex
 (@code{streams_basic:stream/1})

@code{+DbName} is the identifier of an ODBC database.
@iftex
@hfill
@end iftex
 (@code{db_client:dbname/1})

@code{+User} is a user name in the ODBC database.
@iftex
@hfill
@end iftex
 (@code{db_client:user/1})

@code{+Passwd} is the password for the user name in the ODBC database.
@iftex
@hfill
@end iftex
 (@code{db_client:passwd/1})

@code{-(DbConnection)} a unique identifier of a database session connection.
@iftex
@hfill
@end iftex
 (@code{db_client:dbconnection/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{socketname/1 (regtype)}}}
@temp
@end iftex
@teindex socketname/1 
@glindex socketname/1 
@deffn REGTYPE socketname/1:




@smallexample 
socketname(IPAddress:PortNumber) :-
        atm(IPAddress),
        int(PortNumber).
@end smallexample 



@strong{Usage:} @code{socketname(IPP)}
@itemize @minus
@item @emph{Description:} @code{IPP} is a structure describing a complete TCP/IP port address. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{dbname/1 (regtype)}}}
@temp
@end iftex
@teindex dbname/1 
@glindex dbname/1 
@deffn REGTYPE dbname/1:




@smallexample 
dbname(DBId) :-
        atm(DBId).
@end smallexample 



@strong{Usage:} @code{dbname(DBId)}
@itemize @minus
@item @emph{Description:} @code{DBId} is the identifier of an ODBC database. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{user/1 (regtype)}}}
@temp
@end iftex
@teindex user/1 
@glindex user/1 
@deffn REGTYPE user/1:




@smallexample 
user(User) :-
        atm(User).
@end smallexample 



@strong{Usage:} @code{user(User)}
@itemize @minus
@item @emph{Description:} @code{User} is a user name in the ODBC database. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{passwd/1 (regtype)}}}
@temp
@end iftex
@teindex passwd/1 
@glindex passwd/1 
@deffn REGTYPE passwd/1:




@smallexample 
passwd(Passwd) :-
        atm(Passwd).
@end smallexample 



@strong{Usage:} @code{passwd(Passwd)}
@itemize @minus
@item @emph{Description:} @code{Passwd} is the password for the user name in the ODBC database. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{dbconnection/1 (regtype)}}}
@temp
@end iftex
@teindex dbconnection/1 
@glindex dbconnection/1 
@deffn REGTYPE dbconnection/1:




@smallexample 
dbconnection(dbconnection(DbStream,DbHandle)) :-
        stream(DbStream),
        dbhandle(DbHandle).
@end smallexample 



@strong{Usage:} @code{dbconnection(H)}
@itemize @minus
@item @emph{Description:} @code{H} a unique identifier of a database session connection. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{db_eval_sql/3 (pred)}}}
@temp
@end iftex
@pdindex db_eval_sql/3 
@glindex db_eval_sql/3 
@deffn PREDICATE db_eval_sql/3:






@strong{Usage:} @code{db_eval_sql(+DbConnection,+Sentence,-(AnswerTableTerm))}
@itemize @minus
@item @emph{Description:} Evaluates the SQL code in @code{Sentence} in database session @code{DbConnection}. @code{AnswerTableTerm} is the response. If a wrong answer is obtained, @code{AnswerTableTerm} will indicate the error (see 
@glindex answertableterm
@code{answertableterm} for details). 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+DbConnection} a unique identifier of a database session connection.
@iftex
@hfill
@end iftex
 (@code{db_client:dbconnection/1})

@code{+Sentence} is a string of SQL code.
@iftex
@hfill
@end iftex
 (@code{db_client:sqlstring/1})

@code{-(AnswerTableTerm)} is a response from the ODBC database interface.
@iftex
@hfill
@end iftex
 (@code{db_client:answertableterm/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{answertableterm/1 (regtype)}}}
@temp
@end iftex
@teindex answertableterm/1 
@glindex answertableterm/1 
@deffn REGTYPE answertableterm/1:



Represents the types of responses that will be returned from the ODBC database interface. These can be a set of answer tuples, or the atom @code{ok} in case of a successful addition or deletion.


@strong{Usage:} @code{answertableterm(AT)}
@itemize @minus
@item @emph{Description:} @code{AT} is a response from the ODBC database interface. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{tuple/1 (regtype)}}}
@temp
@end iftex
@teindex tuple/1 
@glindex tuple/1 
@deffn REGTYPE tuple/1:




@smallexample 
tuple(T) :-
        list(T,atm).
@end smallexample 



@strong{Usage:} @code{tuple(T)}
@itemize @minus
@item @emph{Description:} @code{T} is a tuple of values from the ODBC database interface. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{db_stmt_handle/3 (pred)}}}
@temp
@end iftex
@pdindex db_stmt_handle/3 
@glindex db_stmt_handle/3 
@deffn PREDICATE db_stmt_handle/3:






@strong{Usage:} @code{db_stmt_handle(+DbConnection,+Sentence,-(DbQueryConnection))}
@itemize @minus
@item @emph{Description:} Evaluates the SQL code in @code{Sentence} in database session @code{DbConnection}. If @code{Sentence} is a succesfull selection, @code{DbQueryConnection} is a @emph{handle} to the set of tuples produced by this selection. The individual members of this set can then be accessed via @code{DbQueryConnection} using the 
@glindex db_one_tuple/2
@code{db_one_tuple/2} predicate. If @code{Sentence} is not succesfull or is not a selection, @code{DbQueryConnection} will contain the answer received. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+DbConnection} a unique identifier of a database session connection.
@iftex
@hfill
@end iftex
 (@code{db_client:dbconnection/1})

@code{+Sentence} is a string of SQL code.
@iftex
@hfill
@end iftex
 (@code{db_client:sqlstring/1})

@code{-(DbQueryConnection)} is a unique identifier of a query answer in a database session connection.
@iftex
@hfill
@end iftex
 (@code{db_client:dbqueryconnection/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{dbqueryconnection/1 (regtype)}}}
@temp
@end iftex
@teindex dbqueryconnection/1 
@glindex dbqueryconnection/1 
@deffn REGTYPE dbqueryconnection/1:




@smallexample 
dbqueryconnection(dbqueryconnection(DbStream,DbHandle,StmtHandle)) :-
        stream(DbStream),
        dbhandle(DbHandle),
        stmthandle(StmtHandle).
@end smallexample 



@strong{Usage:} @code{dbqueryconnection(H)}
@itemize @minus
@item @emph{Description:} @code{H} is a unique identifier of a query answer in a database session connection. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{db_one_tuple/2 (pred)}}}
@temp
@end iftex
@pdindex db_one_tuple/2 
@glindex db_one_tuple/2 
@deffn PREDICATE db_one_tuple/2:






@strong{Usage:} @code{db_one_tuple(+DbQueryConnection,-(TupleTerm))}
@itemize @minus
@item @emph{Description:} @code{TupleTerm} represents the last tuple read from handle @code{DbQueryConnection}. Will be an empty list if all the answers have already been read. It displays an error if any unformatted string is fetched. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+DbQueryConnection} is a unique identifier of a query answer in a database session connection.
@iftex
@hfill
@end iftex
 (@code{db_client:dbqueryconnection/1})

@code{-(TupleTerm)} is a predicate containing a tuple.
@iftex
@hfill
@end iftex
 (@code{db_client:answertupleterm/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{answertupleterm/1 (regtype)}}}
@temp
@end iftex
@teindex answertupleterm/1 
@glindex answertupleterm/1 
@deffn REGTYPE answertupleterm/1:




@smallexample 
answertupleterm([]).
answertupleterm(tup(T)) :-
        tuple(T).
@end smallexample 



@strong{Usage:} @code{answertupleterm(X)}
@itemize @minus
@item @emph{Description:} @code{X} is a predicate containing a tuple. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{db_get_tables/2 (pred)}}}
@temp
@end iftex
@pdindex db_get_tables/2 
@glindex db_get_tables/2 
@deffn PREDICATE db_get_tables/2:






@strong{Usage:} @code{db_get_tables(+DbConnection,-(Tables))}
@itemize @minus
@item @emph{Description:} @code{Tables} contains the tables available in @code{DbConnection}. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+DbConnection} a unique identifier of a database session connection.
@iftex
@hfill
@end iftex
 (@code{db_client:dbconnection/1})

@code{-(Tables)} is a list of @code{atm}s.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/2})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{db_table_types/3 (pred)}}}
@temp
@end iftex
@pdindex db_table_types/3 
@glindex db_table_types/3 
@deffn PREDICATE db_table_types/3:






@strong{Usage:} @code{db_table_types(+DbConnection,+Table,-(AttrTypes))}
@itemize @minus
@item @emph{Description:} @code{AttrTypes} are the attributes and types of @code{Table} in @code{DbConnection}. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+DbConnection} a unique identifier of a database session connection.
@iftex
@hfill
@end iftex
 (@code{db_client:dbconnection/1})

@code{+Table} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})

@code{-(AttrTypes)} is a list.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{db_logoff/1 (pred)}}}
@temp
@end iftex
@pdindex db_logoff/1 
@glindex db_logoff/1 
@deffn PREDICATE db_logoff/1:






@strong{Usage:} @code{db_logoff(+DbConnection)}
@itemize @minus
@item @emph{Description:} Logs off from the database identified by @code{DbConnection}. It fails and display an error message if the login is not succesfully completed. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+DbConnection} a unique identifier of a database session connection.
@iftex
@hfill
@end iftex
 (@code{db_client:dbconnection/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{odbc_disconnect/1 (pred)}}}
@temp
@end iftex
@pdindex odbc_disconnect/1 
@glindex odbc_disconnect/1 
@deffn PREDICATE odbc_disconnect/1:






@strong{Usage:} @code{odbc_disconnect(+Stream)}
@itemize @minus
@item @emph{Description:} Closes the socket connection to @code{Stream}. It is simply a call to 
@glindex close/1
@code{close/1}. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+Stream} is an open stream.
@iftex
@hfill
@end iftex
 (@code{streams_basic:stream/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{match_string/3 (pred)}}}
@temp
@end iftex
@pdindex match_string/3 
@glindex match_string/3 
@deffn PREDICATE match_string/3:



No further documentation available for this predicate.

@end deffn
@sp 1



@node Documentation on internals (db_client), Known bugs and planned improvements (db_client), Documentation on exports (db_client), Low-level socket interface to SQL/ODBC databases
@comment node-name, next,  previous,  up
@section Documentation on internals (@code{db_client})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{dbhandle/1 (regtype)}}}
@temp
@end iftex
@teindex dbhandle/1 
@glindex dbhandle/1 
@deffn REGTYPE dbhandle/1:




@smallexample 
dbhandle(H) :-
        string(H).
@end smallexample 



@strong{Usage:} @code{dbhandle(H)}
@itemize @minus
@item @emph{Description:} @code{H} is the internal database identifier (handle) of a database session. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{stmthandle/1 (regtype)}}}
@temp
@end iftex
@teindex stmthandle/1 
@glindex stmthandle/1 
@deffn REGTYPE stmthandle/1:




@smallexample 
stmthandle(H) :-
        string(H).
@end smallexample 



@strong{Usage:} @code{stmthandle(H)}
@itemize @minus
@item @emph{Description:} @code{H} is the internal statement identifier (handle) of a query answer in a database session connection. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1



@node Known bugs and planned improvements (db_client),  , Documentation on internals (db_client), Low-level socket interface to SQL/ODBC databases
@comment node-name, next,  previous,  up
@section Known bugs and planned improvements (@code{db_client})

@itemize @bullet{}

@item
Need to fix the problem with parametric types being meta_predicates ... list(_,tuple/1).
@end itemize

@c (component)


@node Low-level Prolog to Java interface, Low-level Java to Prolog interface, Low-level socket interface to SQL/ODBC databases, Top
@comment node-name, next,  previous,  up
@chapter Low-level Prolog to Java interface
@liindex javart
@c -------------------------------------------------
@c WARNING: Do not edit this file (javart.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/javall/javart.pl
@c -------------------------------------------------

@strong{Author(s):} Jes@'us Correas.


This module defines a low level Prolog to Java interface.



@menu
* Usage and interface (javart)::  
* Documentation on exports (javart)::  
@end menu

@node Usage and interface (javart), Documentation on exports (javart), Low-level Prolog to Java interface, Low-level Prolog to Java interface
@comment node-name, next,  previous,  up
@section Usage and interface (@code{javart})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(javart)).}

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex java_create_object/2
@code{java_create_object/2}, 
@glindex java_delete_object/1
@code{java_delete_object/1}, 
@glindex java_invoke_method/2
@code{java_invoke_method/2}, 
@glindex java_get_value/2
@code{java_get_value/2}, 
@glindex java_set_value/2
@code{java_set_value/2}, 
@glindex java_connection/0
@code{java_connection/0}, 
@glindex java_remote_connection/1
@code{java_remote_connection/1}, 
@glindex java_disconnection/0
@code{java_disconnection/0}, 
@glindex java_add_listener/3
@code{java_add_listener/3}, 
@glindex java_remove_listener/3
@code{java_remove_listener/3}.


@item @emph{Regular Types:}

@glindex machine_name/1
@code{machine_name/1}, 
@glindex java_constructor/1
@code{java_constructor/1}, 
@glindex java_object/1
@code{java_object/1}, 
@glindex java_method/1
@code{java_method/1}, 
@glindex java_field/1
@code{java_field/1}, 
@glindex java_event/1
@code{java_event/1}, 
@glindex prolog_predicate/1
@code{prolog_predicate/1}.


@end itemize


@item @strong{Other modules used:}
@itemize @minus


@item @emph{Application modules:}

@glindex javasock
@code{javasock}.


@item @emph{System library modules:}

@glindex format
@code{format}, 
@glindex lists
@code{lists}, 
@glindex read
@code{read}, 
@glindex write
@code{write}, 
@glindex system
@code{system}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (javart),  , Usage and interface (javart), Low-level Prolog to Java interface
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{javart})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{java_create_object/2 (pred)}}}
@temp
@end iftex
@pdindex java_create_object/2 
@glindex java_create_object/2 
@deffn PREDICATE java_create_object/2:






@strong{Usage:} @code{java_create_object(+java_constructor,-(java_object))}
@itemize @minus
@item @emph{Description:} New java object creation. The constructor must be built by the full class name as main functor, and the parameters passed to the constructor as arguments of the structure. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+java_constructor} is a java constructor (structure with functor as constructor name (full package specification), and arguments as constructor ones).
@iftex
@hfill
@end iftex
 (@code{javart:java_constructor/1})

@code{-(java_object)} is a java object (structure with functor '$java_object', and argument an integer given by java side).
@iftex
@hfill
@end iftex
 (@code{javart:java_object/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{machine_name/1 (regtype)}}}
@temp
@end iftex
@teindex machine_name/1 
@glindex machine_name/1 
@deffn REGTYPE machine_name/1:






@strong{Usage:} @code{machine_name(X)}
@itemize @minus
@item @emph{Description:} @code{X} is the Internet name of a machine. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{java_constructor/1 (regtype)}}}
@temp
@end iftex
@teindex java_constructor/1 
@glindex java_constructor/1 
@deffn REGTYPE java_constructor/1:






@strong{Usage:} @code{java_constructor(X)}
@itemize @minus
@item @emph{Description:} @code{X} is a java constructor (structure with functor as constructor name (full package specification), and arguments as constructor ones). 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{java_object/1 (regtype)}}}
@temp
@end iftex
@teindex java_object/1 
@glindex java_object/1 
@deffn REGTYPE java_object/1:






@strong{Usage:} @code{java_object(X)}
@itemize @minus
@item @emph{Description:} @code{X} is a java object (structure with functor '$java_object', and argument an integer given by java side). 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{java_delete_object/1 (pred)}}}
@temp
@end iftex
@pdindex java_delete_object/1 
@glindex java_delete_object/1 
@deffn PREDICATE java_delete_object/1:






@strong{Usage:} @code{java_delete_object(+java_object)}
@itemize @minus
@item @emph{Description:} Java objects deletion. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+java_object} is a java object (structure with functor '$java_object', and argument an integer given by java side).
@iftex
@hfill
@end iftex
 (@code{javart:java_object/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{java_invoke_method/2 (pred)}}}
@temp
@end iftex
@pdindex java_invoke_method/2 
@glindex java_invoke_method/2 
@deffn PREDICATE java_invoke_method/2:






@strong{Usage:} @code{java_invoke_method(+java_object,+java_method)}
@itemize @minus
@item @emph{Description:} Invokes a java method on an object. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+java_object} is a java object (structure with functor '$java_object', and argument an integer given by java side).
@iftex
@hfill
@end iftex
 (@code{javart:java_object/1})

@code{+java_method} is a java method (structure with functor as method name, and arguments as method ones, plus a result argument. This result argument is unified with the atom 'Yes' if the java method returns void).
@iftex
@hfill
@end iftex
 (@code{javart:java_method/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{java_method/1 (regtype)}}}
@temp
@end iftex
@teindex java_method/1 
@glindex java_method/1 
@deffn REGTYPE java_method/1:






@strong{Usage:} @code{java_method(X)}
@itemize @minus
@item @emph{Description:} @code{X} is a java method (structure with functor as method name, and arguments as method ones, plus a result argument. This result argument is unified with the atom 'Yes' if the java method returns void). 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{java_get_value/2 (pred)}}}
@temp
@end iftex
@pdindex java_get_value/2 
@glindex java_get_value/2 
@deffn PREDICATE java_get_value/2:






@strong{Usage:} @code{java_get_value(+java_object,+java_field)}
@itemize @minus
@item @emph{Description:} Get the value of a field. The field value in the Java_field functor must be uninstantiated. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+java_object} is a java object (structure with functor '$java_object', and argument an integer given by java side).
@iftex
@hfill
@end iftex
 (@code{javart:java_object/1})

@code{+java_field} is a java field (structure with functor as field name, and argument as value).
@iftex
@hfill
@end iftex
 (@code{javart:java_field/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{java_set_value/2 (pred)}}}
@temp
@end iftex
@pdindex java_set_value/2 
@glindex java_set_value/2 
@deffn PREDICATE java_set_value/2:






@strong{Usage:} @code{java_set_value(+java_object,+java_field)}
@itemize @minus
@item @emph{Description:} Set the value of a field. The field value in the Java_field functor must be instantiated. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+java_object} is a java object (structure with functor '$java_object', and argument an integer given by java side).
@iftex
@hfill
@end iftex
 (@code{javart:java_object/1})

@code{+java_field} is a java field (structure with functor as field name, and argument as value).
@iftex
@hfill
@end iftex
 (@code{javart:java_field/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{java_field/1 (regtype)}}}
@temp
@end iftex
@teindex java_field/1 
@glindex java_field/1 
@deffn REGTYPE java_field/1:






@strong{Usage:} @code{java_field(X)}
@itemize @minus
@item @emph{Description:} @code{X} is a java field (structure with functor as field name, and argument as value). 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{java_connection/0 (pred)}}}
@temp
@end iftex
@pdindex java_connection/0 
@glindex java_connection/0 
@deffn PREDICATE java_connection/0:






@strong{Usage:} 
@itemize @minus
@item @emph{Description:} Starts java server and connects it through data and event sockets. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{java_remote_connection/1 (pred)}}}
@temp
@end iftex
@pdindex java_remote_connection/1 
@glindex java_remote_connection/1 
@deffn PREDICATE java_remote_connection/1:






@strong{Usage:} @code{java_remote_connection(+machine_name)}
@itemize @minus
@item @emph{Description:} Starts java server in machine_name and connects it through data and event sockets. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{java_disconnection/0 (pred)}}}
@temp
@end iftex
@pdindex java_disconnection/0 
@glindex java_disconnection/0 
@deffn PREDICATE java_disconnection/0:






@strong{Usage:} 
@itemize @minus
@item @emph{Description:} Closes the connection with the java process. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{java_add_listener/3 (pred)}}}
@temp
@end iftex
@pdindex java_add_listener/3 
@glindex java_add_listener/3 
@deffn PREDICATE java_add_listener/3:






@emph{Meta-predicate} with arguments: @code{java_add_listener(?,?,goal)}.


@strong{Usage:} @code{java_add_listener(+java_object,+java_event,+prolog_predicate)}
@itemize @minus
@item @emph{Description:} Adds a listener to an event on an object. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+java_object} is a java object (structure with functor '$java_object', and argument an integer given by java side).
@iftex
@hfill
@end iftex
 (@code{javart:java_object/1})

@code{+java_event} is a java event represented as an atom with the basic event constructor name (e.g., 'java.awt.event.ActionListener').
@iftex
@hfill
@end iftex
 (@code{javart:java_event/1})

@code{+prolog_predicate} is a prolog predicate. Prolog term that represents the predicate that must be invoked when the event raises on the object. The predicate arguments can be java objects, or even the result of java methods. These java objects will be evaluated when the event raises (instead of when the listener is added). The arguments that represent java objects must be instantiated to already created objects. The variables will be kept uninstantiated when the event raises and the predicate will be called.
@iftex
@hfill
@end iftex
 (@code{javart:prolog_predicate/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{java_event/1 (regtype)}}}
@temp
@end iftex
@teindex java_event/1 
@glindex java_event/1 
@deffn REGTYPE java_event/1:






@strong{Usage:} @code{java_event(X)}
@itemize @minus
@item @emph{Description:} @code{X} is a java event represented as an atom with the basic event constructor name (e.g., 'java.awt.event.ActionListener'). 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{prolog_predicate/1 (regtype)}}}
@temp
@end iftex
@teindex prolog_predicate/1 
@glindex prolog_predicate/1 
@deffn REGTYPE prolog_predicate/1:






@strong{Usage:} @code{prolog_predicate(X)}
@itemize @minus
@item @emph{Description:} @code{X} is a prolog predicate. Prolog term that represents the predicate that must be invoked when the event raises on the object. The predicate arguments can be java objects, or even the result of java methods. These java objects will be evaluated when the event raises (instead of when the listener is added). The arguments that represent java objects must be instantiated to already created objects. The variables will be kept uninstantiated when the event raises and the predicate will be called. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{java_remove_listener/3 (pred)}}}
@temp
@end iftex
@pdindex java_remove_listener/3 
@glindex java_remove_listener/3 
@deffn PREDICATE java_remove_listener/3:






@strong{Usage:} @code{java_remove_listener(+java_object,+java_event,+prolog_predicate)}
@itemize @minus
@item @emph{Description:} Removes a listener from an object event queue. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+java_object} is a java object (structure with functor '$java_object', and argument an integer given by java side).
@iftex
@hfill
@end iftex
 (@code{javart:java_object/1})

@code{+java_event} is a java event represented as an atom with the basic event constructor name (e.g., 'java.awt.event.ActionListener').
@iftex
@hfill
@end iftex
 (@code{javart:java_event/1})

@code{+prolog_predicate} is a prolog predicate. Prolog term that represents the predicate that must be invoked when the event raises on the object. The predicate arguments can be java objects, or even the result of java methods. These java objects will be evaluated when the event raises (instead of when the listener is added). The arguments that represent java objects must be instantiated to already created objects. The variables will be kept uninstantiated when the event raises and the predicate will be called.
@iftex
@hfill
@end iftex
 (@code{javart:prolog_predicate/1})
@end itemize
@end deffn
@sp 1


@c (component)


@node Low-level Java to Prolog interface, Low-level Prolog to Java socket connection, Low-level Prolog to Java interface, Top
@comment node-name, next,  previous,  up
@chapter Low-level Java to Prolog interface
@liindex jtopl
@c -------------------------------------------------
@c WARNING: Do not edit this file (jtopl.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/javall/jtopl.pl
@c -------------------------------------------------

@strong{Author(s):} Jes@'us Correas.


This module defines a low level Java to Prolog interface.



@menu
* Usage and interface (jtopl)::	 
* Documentation on exports (jtopl)::  
@end menu

@node Usage and interface (jtopl), Documentation on exports (jtopl), Low-level Java to Prolog interface, Low-level Java to Prolog interface
@comment node-name, next,  previous,  up
@section Usage and interface (@code{jtopl})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(jtopl)).}

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex prolog_server/0
@code{prolog_server/0}, 
@glindex prolog_parse/2
@code{prolog_parse/2}.


@end itemize


@item @strong{Other modules used:}
@itemize @minus


@item @emph{Application modules:}

@glindex javasock
@code{javasock}.


@item @emph{System library modules:}

@glindex system
@code{system}, 
@glindex read
@code{read}, 
@glindex write
@code{write}, 
@glindex dynamic
@code{dynamic}, 
@glindex lists
@code{lists}, 
@glindex format
@code{format}, 
@glindex dynmods
@code{dynmods}, 
@glindex atom2term
@code{atom2term}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (jtopl),  , Usage and interface (jtopl), Low-level Java to Prolog interface
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{jtopl})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{prolog_server/0 (pred)}}}
@temp
@end iftex
@pdindex prolog_server/0 
@glindex prolog_server/0 
@deffn PREDICATE prolog_server/0:






@strong{Usage:} 
@itemize @minus
@item @emph{Description:} Prolog server entry point. Reads from the standard input the node name and port number where the java client resides, and starts the prolog server listening at the data socket. This predicate acts as a server: includes an infinite read-process loop until the prolog_exit command is received. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{prolog_parse/2 (pred)}}}
@temp
@end iftex
@pdindex prolog_parse/2 
@glindex prolog_parse/2 
@deffn PREDICATE prolog_parse/2:






@strong{Usage:} @code{prolog_parse(+String,-(Term))}
@itemize @minus
@item @emph{Description:} Parses the string received as first argument and returns the prolog term as second argument. This is a private predicate but is called from java side. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+String} is a string (a list of character codes).
@iftex
@hfill
@end iftex
 (@code{basic_props:string/1})

@code{-(Term)} is any term.
@iftex
@hfill
@end iftex
 (@code{basic_props:term/1})
@end itemize
@end deffn
@sp 1


@c (component)


@node Low-level Prolog to Java socket connection, linda (library), Low-level Java to Prolog interface, Top
@comment node-name, next,  previous,  up
@chapter Low-level Prolog to Java socket connection
@liindex javasock
@c -------------------------------------------------
@c WARNING: Do not edit this file (javasock.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/javall/javasock.pl
@c -------------------------------------------------

@strong{Author(s):} Jes@'us Correas.


This module defines a low level socket interface, to be used by javart and jtopl.



@menu
* Usage and interface (javasock)::  
* Documentation on exports (javasock)::	 
@end menu

@node Usage and interface (javasock), Documentation on exports (javasock), Low-level Prolog to Java socket connection, Low-level Prolog to Java socket connection
@comment node-name, next,  previous,  up
@section Usage and interface (@code{javasock})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(javasock)).}

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex socket_connection/2
@code{socket_connection/2}, 
@glindex socket_disconnection/0
@code{socket_disconnection/0}, 
@glindex java_fast_write/2
@code{java_fast_write/2}, 
@glindex java_stream/3
@code{java_stream/3}.


@end itemize


@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex fastrw
@code{fastrw}, 
@glindex read
@code{read}, 
@glindex sockets/sockets
@code{sockets/sockets}, 
@glindex dynamic
@code{dynamic}, 
@glindex format
@code{format}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (javasock),  , Usage and interface (javasock), Low-level Prolog to Java socket connection
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{javasock})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{socket_connection/2 (pred)}}}
@temp
@end iftex
@pdindex socket_connection/2 
@glindex socket_connection/2 
@deffn PREDICATE socket_connection/2:






@strong{Usage:} @code{socket_connection(+node,+stream)}
@itemize @minus
@item @emph{Description:} Given a stream connected to a node, gets the socket port from the given stream and creates the sockets to connect to the java process. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+node} is currently instantiated to an atom.
@iftex
@hfill
@end iftex
 (@code{term_typing:atom/1})

@code{+stream} is an open stream.
@iftex
@hfill
@end iftex
 (@code{streams_basic:stream/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{socket_disconnection/0 (pred)}}}
@temp
@end iftex
@pdindex socket_disconnection/0 
@glindex socket_disconnection/0 
@deffn PREDICATE socket_disconnection/0:






@strong{Usage:} 
@itemize @minus
@item @emph{Description:} Closes the sockets to disconnect from the java process. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{java_fast_read/2 (pred)}}}
@temp
@end iftex
@pdindex java_fast_read/2 
@glindex java_fast_read/2 
@deffn PREDICATE java_fast_read/2:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{java_fast_write/2 (pred)}}}
@temp
@end iftex
@pdindex java_fast_write/2 
@glindex java_fast_write/2 
@deffn PREDICATE java_fast_write/2:






@strong{Usage 1:} @code{java_fast_write(+type,+term)}
@itemize @minus
@item @emph{Description:} writes on the given stream type the term received as second argument. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+type} is currently instantiated to an atom.
@iftex
@hfill
@end iftex
 (@code{term_typing:atom/1})

@code{+term} is any term.
@iftex
@hfill
@end iftex
 (@code{basic_props:term/1})
@end itemize

@strong{Usage 2:} @code{java_fast_write(+type,-(term))}
@itemize @minus
@item @emph{Description:} reads from the given stream type one term and unifies it with the term received as second argument. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{+type} is currently instantiated to an atom.
@iftex
@hfill
@end iftex
 (@code{term_typing:atom/1})

@code{-(term)} is any term.
@iftex
@hfill
@end iftex
 (@code{basic_props:term/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{java_stream/3 (pred)}}}
@temp
@end iftex
@pdindex java_stream/3 
@glindex java_stream/3 
@deffn PREDICATE java_stream/3:






The predicate is of type @emph{dynamic}.


@strong{Usage:} @code{java_stream(DataStream,EventStream,Address)}
@itemize @minus
@item @emph{Description:} Stores the ids of the streams used. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{DataStream} is an atom.
@iftex
@hfill
@end iftex
 (@code{basic_props:atm/1})

@code{EventStream} is an integer.
@iftex
@hfill
@end iftex
 (@code{basic_props:int/1})

@code{undefined:machine_name(Address)}
@iftex
@hfill
@end iftex
 (undefined property)
@end itemize
@end deffn
@sp 1


@c (component)


@node linda (library), *** PART IX - Abstract data types, Low-level Prolog to Java socket connection, Top
@comment node-name, next,  previous,  up
@chapter linda (library)
@liindex linda
@c -------------------------------------------------
@c WARNING: Do not edit this file (linda.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/linda.pl
@c -------------------------------------------------

@strong{Version:} 0.9#66 (1999/4/29, 12:28:0 MEST)





@menu
* Usage and interface (linda)::	 
* Documentation on exports (linda)::  
@end menu

@node Usage and interface (linda), Documentation on exports (linda), linda (library), linda (library)
@comment node-name, next,  previous,  up
@section Usage and interface (@code{linda})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(linda)).}

@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex read
@code{read}, 
@glindex fastrw
@code{fastrw}, 
@glindex sockets/sockets
@code{sockets/sockets}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (linda),  , Usage and interface (linda), linda (library)
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{linda})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{linda_client/1 (pred)}}}
@temp
@end iftex
@pdindex linda_client/1 
@glindex linda_client/1 
@deffn PREDICATE linda_client/1:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{close_client/0 (pred)}}}
@temp
@end iftex
@pdindex close_client/0 
@glindex close_client/0 
@deffn PREDICATE close_client/0:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{in/1 (pred)}}}
@temp
@end iftex
@pdindex in/1 
@glindex in/1 
@deffn PREDICATE in/1:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{in/2 (pred)}}}
@temp
@end iftex
@pdindex in/2 
@glindex in/2 
@deffn PREDICATE in/2:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{in_noblock/1 (pred)}}}
@temp
@end iftex
@pdindex in_noblock/1 
@glindex in_noblock/1 
@deffn PREDICATE in_noblock/1:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{out/1 (pred)}}}
@temp
@end iftex
@pdindex out/1 
@glindex out/1 
@deffn PREDICATE out/1:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{rd/1 (pred)}}}
@temp
@end iftex
@pdindex rd/1 
@glindex rd/1 
@deffn PREDICATE rd/1:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{rd/2 (pred)}}}
@temp
@end iftex
@pdindex rd/2 
@glindex rd/2 
@deffn PREDICATE rd/2:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{rd_noblock/1 (pred)}}}
@temp
@end iftex
@pdindex rd_noblock/1 
@glindex rd_noblock/1 
@deffn PREDICATE rd_noblock/1:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{rd_findall/3 (pred)}}}
@temp
@end iftex
@pdindex rd_findall/3 
@glindex rd_findall/3 
@deffn PREDICATE rd_findall/3:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{linda_timeout/2 (pred)}}}
@temp
@end iftex
@pdindex linda_timeout/2 
@glindex linda_timeout/2 
@deffn PREDICATE linda_timeout/2:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{halt_server/0 (pred)}}}
@temp
@end iftex
@pdindex halt_server/0 
@glindex halt_server/0 
@deffn PREDICATE halt_server/0:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{open_client/2 (pred)}}}
@temp
@end iftex
@pdindex open_client/2 
@glindex open_client/2 
@deffn PREDICATE open_client/2:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{in_stream/2 (pred)}}}
@temp
@end iftex
@pdindex in_stream/2 
@glindex in_stream/2 
@deffn PREDICATE in_stream/2:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{out_stream/2 (pred)}}}
@temp
@end iftex
@pdindex out_stream/2 
@glindex out_stream/2 
@deffn PREDICATE out_stream/2:



No further documentation available for this predicate.

@end deffn
@sp 1


@c (component)


@node *** PART IX - Abstract data types, atom2term (library), linda (library), Top
@comment node-name, next,  previous,  up
@unnumbered PART IX - Abstract data types
@iftex
@vfill
@cartouche
@sp
@ 
@end iftex
@c -------------------------------------------------
@c WARNING: Do not edit this file (ADTs.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/doc/common/ADTs.pl
@c -------------------------------------------------


This part includes libraries which implement some generic data structures that are habitually used in programs.

@iftex
@sp 
@end cartouche
@vfill
@end iftex

@c (component)


@node atom2term (library), counters (library), *** PART IX - Abstract data types, Top
@comment node-name, next,  previous,  up
@chapter atom2term (library)
@liindex atom2term
@c -------------------------------------------------
@c WARNING: Do not edit this file (atom2term.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/atom2term.pl
@c -------------------------------------------------

@strong{Author(s):} Francisco Bueno, Daniel Cabeza.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 0.9#78 (1999/5/3, 19:19:27 MEST)





@menu
* Usage and interface (atom2term)::  
* Documentation on exports (atom2term)::  
@end menu

@node Usage and interface (atom2term), Documentation on exports (atom2term), atom2term (library), atom2term (library)
@comment node-name, next,  previous,  up
@section Usage and interface (@code{atom2term})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(atom2term)).}

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex atom2term/2
@code{atom2term/2}, 
@glindex string2term/2
@code{string2term/2}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (atom2term),  , Usage and interface (atom2term), atom2term (library)
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{atom2term})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{atom2term/2 (pred)}}}
@temp
@end iftex
@pdindex atom2term/2 
@glindex atom2term/2 
@deffn PREDICATE atom2term/2:






@strong{Usage:} @code{atom2term(+Atom,-(Term))}
@itemize @minus
@item @emph{Description:} Convert an atom into a term. @code{Atom} is an atom, but must have term syntax. @code{Term} is a term resulting from parsing @code{Atom} char by char. Note: this is just a simple version written for parsing daVinci's messages. There should be a call to the standard reader to do this! 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{string2term/2 (pred)}}}
@temp
@end iftex
@pdindex string2term/2 
@glindex string2term/2 
@deffn PREDICATE string2term/2:






@strong{Usage:} @code{string2term(+String,-(Term))}
@itemize @minus
@item @emph{Description:} Same as 
@glindex atom2term/2
@code{atom2term/2} but first argument is a string (containing a term). 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{parse_term/3 (pred)}}}
@temp
@end iftex
@pdindex parse_term/3 
@glindex parse_term/3 
@deffn PREDICATE parse_term/3:



No further documentation available for this predicate.

@end deffn
@sp 1


@c (component)


@node counters (library), Identity lists, atom2term (library), Top
@comment node-name, next,  previous,  up
@chapter counters (library)
@liindex counters
@c -------------------------------------------------
@c WARNING: Do not edit this file (counters.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/counters.pl
@c -------------------------------------------------

@strong{Version:} 0.4#5 (1998/2/24)





@menu
* Usage and interface (counters)::  
* Documentation on exports (counters)::	 
@end menu

@node Usage and interface (counters), Documentation on exports (counters), counters (library), counters (library)
@comment node-name, next,  previous,  up
@section Usage and interface (@code{counters})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(counters)).}
@end itemize
@end cartouche


@node Documentation on exports (counters),  , Usage and interface (counters), counters (library)
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{counters})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{setcounter/2 (pred)}}}
@temp
@end iftex
@pdindex setcounter/2 
@glindex setcounter/2 
@deffn PREDICATE setcounter/2:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{getcounter/2 (pred)}}}
@temp
@end iftex
@pdindex getcounter/2 
@glindex getcounter/2 
@deffn PREDICATE getcounter/2:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{inccounter/2 (pred)}}}
@temp
@end iftex
@pdindex inccounter/2 
@glindex inccounter/2 
@deffn PREDICATE inccounter/2:



No further documentation available for this predicate.

@end deffn
@sp 1


@c (component)


@node Identity lists, Term manipulation, counters (library), Top
@comment node-name, next,  previous,  up
@chapter Identity lists
@liindex idlists
@c -------------------------------------------------
@c WARNING: Do not edit this file (idlists.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/idlists.pl
@c -------------------------------------------------

@strong{Author(s):} Francisco Bueno.

@strong{Version:} 0.4#5 (1998/2/24)

The operations in this module handle lists by performing equality checks via identity instead of unification.



@menu
* Usage and interface (idlists)::  
* Documentation on exports (idlists)::	
@end menu

@node Usage and interface (idlists), Documentation on exports (idlists), Identity lists, Identity lists
@comment node-name, next,  previous,  up
@section Usage and interface (@code{idlists})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(idlists)).}

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex list_insert/2
@code{list_insert/2}, 
@glindex add_after/4
@code{add_after/4}, 
@glindex add_before/4
@code{add_before/4}, 
@glindex delete/3
@code{delete/3}, 
@glindex subtract/3
@code{subtract/3}, 
@glindex union_idlists/3
@code{union_idlists/3}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (idlists),  , Usage and interface (idlists), Identity lists
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{idlists})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{member_0/2 (pred)}}}
@temp
@end iftex
@pdindex member_0/2 
@glindex member_0/2 
@deffn PREDICATE member_0/2:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{memberchk/2 (pred)}}}
@temp
@end iftex
@pdindex memberchk/2 
@glindex memberchk/2 
@deffn PREDICATE memberchk/2:


@code{memberchk(X,Xs)}


Checks that @code{X} is an element of (list) @code{Xs}.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{list_insert/2 (pred)}}}
@temp
@end iftex
@pdindex list_insert/2 
@glindex list_insert/2 
@deffn PREDICATE list_insert/2:






@strong{Usage:} @code{list_insert(-(List),+Term)}
@itemize @minus
@item @emph{Description:} Adds @code{Term} to the end of (tail-opened) @code{List} if there is not an element in @code{List} identical to @code{Term}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{add_after/4 (pred)}}}
@temp
@end iftex
@pdindex add_after/4 
@glindex add_after/4 
@deffn PREDICATE add_after/4:






@strong{Usage:} @code{add_after(+L0,+E0,+E,-(L))}
@itemize @minus
@item @emph{Description:} Adds element @code{E} after the first element identical to @code{E0} (or at end) of list @code{L0}, returning in @code{L} the new list. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{add_before/4 (pred)}}}
@temp
@end iftex
@pdindex add_before/4 
@glindex add_before/4 
@deffn PREDICATE add_before/4:






@strong{Usage:} @code{add_before(+L0,+E0,+E,-(L))}
@itemize @minus
@item @emph{Description:} Adds element @code{E} before the first element identical to @code{E0} (or at start) of list @code{L0}, returning in @code{L} the new list. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{delete/3 (pred)}}}
@temp
@end iftex
@pdindex delete/3 
@glindex delete/3 
@deffn PREDICATE delete/3:






@strong{Usage:} @code{delete(+List,+Element,-(Rest))}
@itemize @minus
@item @emph{Description:} @code{Rest} has the same elements of @code{List} except for all the occurrences of elements identical to @code{Element}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{subtract/3 (pred)}}}
@temp
@end iftex
@pdindex subtract/3 
@glindex subtract/3 
@deffn PREDICATE subtract/3:






@strong{Usage:} @code{subtract(+Set,+Set0,-(Difference))}
@itemize @minus
@item @emph{Description:} @code{Difference} has the same elements of @code{Set} except those which have an identical occurrence in @code{Set0}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{union_idlists/3 (pred)}}}
@temp
@end iftex
@pdindex union_idlists/3 
@glindex union_idlists/3 
@deffn PREDICATE union_idlists/3:






@strong{Usage:} @code{union_idlists(+List1,+List2,-(List))}
@itemize @minus
@item @emph{Description:} @code{List} has the elements which are in @code{List1} but are not identical to an element in @code{List2} followed by the elements in @code{List2}. 
@end itemize
@end deffn
@sp 1


@c (component)


@node Term manipulation, Lists of numbers, Identity lists, Top
@comment node-name, next,  previous,  up
@chapter Term manipulation
@liindex metaterms
@c -------------------------------------------------
@c WARNING: Do not edit this file (metaterms.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/metaterms.pl
@c -------------------------------------------------

@strong{Version:} 0.8#30 (1998/12/17, 9:55:33 MET)





@menu
* Usage and interface (metaterms)::  
* Documentation on exports (metaterms)::  
@end menu

@node Usage and interface (metaterms), Documentation on exports (metaterms), Term manipulation, Term manipulation
@comment node-name, next,  previous,  up
@section Usage and interface (@code{metaterms})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(metaterms)).}

@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex lists
@code{lists}, 
@glindex idlists
@code{idlists}, 
@glindex sort
@code{sort}, 
@glindex write
@code{write}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (metaterms),  , Usage and interface (metaterms), Term manipulation
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{metaterms})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{varset/2 (pred)}}}
@temp
@end iftex
@pdindex varset/2 
@glindex varset/2 
@deffn PREDICATE varset/2:


@code{varset(Term,Xs)}


@code{Xs} is the sorted list of all the variables in @code{Term}.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{varsbag/3 (pred)}}}
@temp
@end iftex
@pdindex varsbag/3 
@glindex varsbag/3 
@deffn PREDICATE varsbag/3:


@code{varsbag(Term,Vs,Xs)}


@code{Vs} is the list of all the variables in @code{Term} ordered as they appear in @code{Term} left-to-right depth-first (including duplicates) plus @code{Xs}.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{ask/2 (pred)}}}
@temp
@end iftex
@pdindex ask/2 
@glindex ask/2 
@deffn PREDICATE ask/2:


@code{ask(Term1,Term2)}


@code{Term1} and @code{Term2} unify without producing bindings for the variables of @code{Term1}. I.e., @code{instance(@code{Term1},@code{Term2})} holds.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{instance/2 (pred)}}}
@temp
@end iftex
@pdindex instance/2 
@glindex instance/2 
@deffn PREDICATE instance/2:


@code{instance(Term1,Term2)}


@code{Term2} is an instance of @code{Term1}.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{variant/2 (pred)}}}
@temp
@end iftex
@pdindex variant/2 
@glindex variant/2 
@deffn PREDICATE variant/2:


@code{variant(Term1,Term2)}


@code{Term1} and @code{Term2} are identical up to renaming.

@end deffn
@sp 1


@c (component)


@node Lists of numbers, Pattern (regular expression) matching, Term manipulation, Top
@comment node-name, next,  previous,  up
@chapter Lists of numbers
@liindex numlists
@c -------------------------------------------------
@c WARNING: Do not edit this file (numlists.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/numlists.pl
@c -------------------------------------------------

@strong{Version:} 0.9#99 (1999/5/26, 11:33:15 MEST)





@menu
* Usage and interface (numlists)::  
* Documentation on exports (numlists)::	 
@end menu

@node Usage and interface (numlists), Documentation on exports (numlists), Lists of numbers, Lists of numbers
@comment node-name, next,  previous,  up
@section Usage and interface (@code{numlists})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(numlists)).}

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex get_primes/2
@code{get_primes/2}, 
@glindex sum_list/2
@code{sum_list/2}, 
@glindex sum_list/3
@code{sum_list/3}, 
@glindex sum_list_of_lists/2
@code{sum_list_of_lists/2}, 
@glindex sum_list_of_lists/3
@code{sum_list_of_lists/3}.


@item @emph{Regular Types:}

@glindex intlist/1
@code{intlist/1}, 
@glindex numlist/1
@code{numlist/1}.


@end itemize


@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex lists
@code{lists}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (numlists),  , Usage and interface (numlists), Lists of numbers
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{numlists})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{get_primes/2 (pred)}}}
@temp
@end iftex
@pdindex get_primes/2 
@glindex get_primes/2 
@deffn PREDICATE get_primes/2:






@strong{Usage:} @code{get_primes(N,Primes)}
@itemize @minus
@item @emph{Description:} Computes the @code{N}th first prime numbers in ascending order. 
@item @emph{The following properties should hold at call time:}


@code{N} is an integer.
@iftex
@hfill
@end iftex
 (@code{basic_props:int/1})
@item @emph{The following properties should hold upon exit:}


@code{Primes} is a list of integers.
@iftex
@hfill
@end iftex
 (@code{numlists:intlist/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{intlist/1 (regtype)}}}
@temp
@end iftex
@teindex intlist/1 
@glindex intlist/1 
@deffn REGTYPE intlist/1:






@strong{Usage:} @code{intlist(X)}
@itemize @minus
@item @emph{Description:} @code{X} is a list of integers. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{numlist/1 (regtype)}}}
@temp
@end iftex
@teindex numlist/1 
@glindex numlist/1 
@deffn REGTYPE numlist/1:






@strong{Usage:} @code{numlist(X)}
@itemize @minus
@item @emph{Description:} @code{X} is a list of numbers. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{sum_list/2 (pred)}}}
@temp
@end iftex
@pdindex sum_list/2 
@glindex sum_list/2 
@deffn PREDICATE sum_list/2:






@strong{Usage:} @code{sum_list(List,N)}
@itemize @minus
@item @emph{Description:} @code{N} is the total sum of the elements of @code{List}. 
@item @emph{The following properties should hold at call time:}


@code{List} is a list of numbers.
@iftex
@hfill
@end iftex
 (@code{numlists:numlist/1})
@item @emph{The following properties should hold upon exit:}


@code{N} is a number.
@iftex
@hfill
@end iftex
 (@code{basic_props:num/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{sum_list/3 (pred)}}}
@temp
@end iftex
@pdindex sum_list/3 
@glindex sum_list/3 
@deffn PREDICATE sum_list/3:






@strong{Usage:} @code{sum_list(List,N0,N)}
@itemize @minus
@item @emph{Description:} @code{N} is the total sum of the elements of @code{List} plus @code{N0}. 
@item @emph{The following properties should hold at call time:}


@code{List} is a list of numbers.
@iftex
@hfill
@end iftex
 (@code{numlists:numlist/1})

@code{N0} is a number.
@iftex
@hfill
@end iftex
 (@code{basic_props:num/1})
@item @emph{The following properties should hold upon exit:}


@code{N} is a number.
@iftex
@hfill
@end iftex
 (@code{basic_props:num/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{sum_list_of_lists/2 (pred)}}}
@temp
@end iftex
@pdindex sum_list_of_lists/2 
@glindex sum_list_of_lists/2 
@deffn PREDICATE sum_list_of_lists/2:






@strong{Usage:} @code{sum_list_of_lists(Lists,N)}
@itemize @minus
@item @emph{Description:} @code{N} is the total sum of the elements of the lists of @code{Lists}. 
@item @emph{The following properties should hold at call time:}


@code{List} is a list of @code{numlist}s.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/2})
@item @emph{The following properties should hold upon exit:}


@code{N} is a number.
@iftex
@hfill
@end iftex
 (@code{basic_props:num/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{sum_list_of_lists/3 (pred)}}}
@temp
@end iftex
@pdindex sum_list_of_lists/3 
@glindex sum_list_of_lists/3 
@deffn PREDICATE sum_list_of_lists/3:






@strong{Usage:} @code{sum_list_of_lists(Lists,N0,N)}
@itemize @minus
@item @emph{Description:} @code{N} is the total sum of the elements of the lists of @code{Lists} plus @code{N0}. 
@item @emph{The following properties should hold at call time:}


@code{List} is a list of @code{numlist}s.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/2})

@code{N0} is a number.
@iftex
@hfill
@end iftex
 (@code{basic_props:num/1})
@item @emph{The following properties should hold upon exit:}


@code{N} is a number.
@iftex
@hfill
@end iftex
 (@code{basic_props:num/1})
@end itemize
@end deffn
@sp 1


@c (component)


@node Pattern (regular expression) matching, queues (library), Lists of numbers, Top
@comment node-name, next,  previous,  up
@chapter Pattern (regular expression) matching
@liindex patterns
@c -------------------------------------------------
@c WARNING: Do not edit this file (patterns.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/patterns.pl
@c -------------------------------------------------

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 1.3#49 (1999/9/8, 21:8:9 MEST)

This library provides facilities for matching strings and terms against 
@coindex patterns
@glindex patterns
@emph{patterns} (i.e., 
@coindex regular expressions
@glindex regular expressions
@emph{regular expressions}).



@menu
* Usage and interface (patterns)::  
* Documentation on exports (patterns)::	 
@end menu

@node Usage and interface (patterns), Documentation on exports (patterns), Pattern (regular expression) matching, Pattern (regular expression) matching
@comment node-name, next,  previous,  up
@section Usage and interface (@code{patterns})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(patterns)).}

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex match_pattern/2
@code{match_pattern/2}, 
@glindex match_pattern/3
@code{match_pattern/3}, 
@glindex case_insensitive_match/2
@code{case_insensitive_match/2}, 
@glindex match_pattern_pred/2
@code{match_pattern_pred/2}.


@item @emph{Regular Types:}

@glindex pattern/1
@code{pattern/1}.


@end itemize


@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex lists
@code{lists}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (patterns),  , Usage and interface (patterns), Pattern (regular expression) matching
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{patterns})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{match_pattern/2 (pred)}}}
@temp
@end iftex
@pdindex match_pattern/2 
@glindex match_pattern/2 
@deffn PREDICATE match_pattern/2:






@strong{Usage:} @code{match_pattern(Pattern,String)}
@itemize @minus
@item @emph{Description:} Matches @code{String} against @code{Pattern}. For example, @code{match_pattern("*.pl","foo.pl")} succeeds. 
@item @emph{The following properties should hold at call time:}


@code{Pattern} is a pattern to match against.
@iftex
@hfill
@end iftex
 (@code{patterns:pattern/1})

@code{String} is a string (a list of character codes).
@iftex
@hfill
@end iftex
 (@code{basic_props:string/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{match_pattern/3 (pred)}}}
@temp
@end iftex
@pdindex match_pattern/3 
@glindex match_pattern/3 
@deffn PREDICATE match_pattern/3:






@strong{Usage:} @code{match_pattern(Pattern,String,Tail)}
@itemize @minus
@item @emph{Description:} Matches @code{String} against @code{Pattern}. @code{Tail} is the remainder of the string after the match. For example, @code{match_pattern("??*","foo.pl",Tail)} succeeds, instantiating @code{Tail} to @code{"o.pl"}. 
@item @emph{The following properties should hold at call time:}


@code{Pattern} is a pattern to match against.
@iftex
@hfill
@end iftex
 (@code{patterns:pattern/1})

@code{String} is a string (a list of character codes).
@iftex
@hfill
@end iftex
 (@code{basic_props:string/1})

@code{Tail} is a string (a list of character codes).
@iftex
@hfill
@end iftex
 (@code{basic_props:string/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{case_insensitive_match/2 (pred)}}}
@temp
@end iftex
@pdindex case_insensitive_match/2 
@glindex case_insensitive_match/2 
@deffn PREDICATE case_insensitive_match/2:






@strong{Usage:} @code{case_insensitive_match(Pred1,Pred2)}
@itemize @minus
@item @emph{Description:} Tests if two predicates @code{Pred1} and @code{Pred2} match in a case-insensitive way. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{letter_match/2 (pred)}}}
@temp
@end iftex
@pdindex letter_match/2 
@glindex letter_match/2 
@deffn PREDICATE letter_match/2:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{pattern/1 (regtype)}}}
@temp
@end iftex
@teindex pattern/1 
@glindex pattern/1 
@deffn REGTYPE pattern/1:



Special characters for @code{Pattern} are: 
@table @asis 
@item * 
Matches any string, including the null string. 
@item ? 
Matches any single character. 
@item [...] 
Matches any one of the enclosed characters. A pair of characters separated by a minus sign denotes a range; any character lexically between those two characters, inclusive, is matched. If the first character following the [ is a ^ then any character not enclosed is matched. No other character is special inside this construct. To include a ] in a character set, you must make it the first character. To include a `-', you must use it in a context where it cannot possibly indicate a range: that is, as the first character, or immediately after a range. 
@item | 
specifies an alternative. Two regular expressions A and B with | in between form an expression that matches anything that either A or B will match. 
@item @{...@} 
groups alternatives inside larger patterns. 
@item \ 
Quotes a special character (including itself). 
@end table 



@strong{Usage:} @code{pattern(P)}
@itemize @minus
@item @emph{Description:} @code{P} is a pattern to match against. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{match_pattern_pred/2 (pred)}}}
@temp
@end iftex
@pdindex match_pattern_pred/2 
@glindex match_pattern_pred/2 
@deffn PREDICATE match_pattern_pred/2:






@strong{Usage:} @code{match_pattern_pred(Pred1,Pred2)}
@itemize @minus
@item @emph{Description:} Tests if two predicates @code{Pred1} and @code{Pred2} match using regular expressions. 
@end itemize
@end deffn
@sp 1


@c (component)


@node queues (library), Random numbers, Pattern (regular expression) matching, Top
@comment node-name, next,  previous,  up
@chapter queues (library)
@liindex queues
@c -------------------------------------------------
@c WARNING: Do not edit this file (queues.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/queues.pl
@c -------------------------------------------------

@strong{Version:} 0.4#5 (1998/2/24)





@menu
* Usage and interface (queues)::  
* Documentation on exports (queues)::  
@end menu

@node Usage and interface (queues), Documentation on exports (queues), queues (library), queues (library)
@comment node-name, next,  previous,  up
@section Usage and interface (@code{queues})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(queues)).}
@end itemize
@end cartouche


@node Documentation on exports (queues),  , Usage and interface (queues), queues (library)
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{queues})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{q_empty/1 (pred)}}}
@temp
@end iftex
@pdindex q_empty/1 
@glindex q_empty/1 
@deffn PREDICATE q_empty/1:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{q_insert/3 (pred)}}}
@temp
@end iftex
@pdindex q_insert/3 
@glindex q_insert/3 
@deffn PREDICATE q_insert/3:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{q_member/2 (pred)}}}
@temp
@end iftex
@pdindex q_member/2 
@glindex q_member/2 
@deffn PREDICATE q_member/2:



No further documentation available for this predicate.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{q_delete/3 (pred)}}}
@temp
@end iftex
@pdindex q_delete/3 
@glindex q_delete/3 
@deffn PREDICATE q_delete/3:



No further documentation available for this predicate.

@end deffn
@sp 1


@c (component)


@node Random numbers, sets (library), queues (library), Top
@comment node-name, next,  previous,  up
@chapter Random numbers
@liindex random
@c -------------------------------------------------
@c WARNING: Do not edit this file (random.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/random/random.pl
@c -------------------------------------------------

@strong{Author(s):} Daniel Cabeza.


This module provides predicates for generating pseudo-random numbers



@menu
* Usage and interface (random)::  
* Documentation on exports (random)::  
@end menu

@node Usage and interface (random), Documentation on exports (random), Random numbers, Random numbers
@comment node-name, next,  previous,  up
@section Usage and interface (@code{random})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(random)).}

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex random/1
@code{random/1}, 
@glindex random/3
@code{random/3}, 
@glindex srandom/1
@code{srandom/1}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (random),  , Usage and interface (random), Random numbers
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{random})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{random/1 (pred)}}}
@temp
@end iftex
@pdindex random/1 
@glindex random/1 
@deffn PREDICATE random/1:


@code{random(Number)}


@code{Number} is a (pseudo-) random number in the range [0.0,1.0]


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{random(-(float))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{random/3 (pred)}}}
@temp
@end iftex
@pdindex random/3 
@glindex random/3 
@deffn PREDICATE random/3:


@code{random(Low,Up,Number)}


@code{Number} is a (pseudo-) random number in the range [@code{Low}, @code{Up}]


The predicate is of type @emph{implicit}.


@strong{Usage 1:} @code{random(+int,+int,-(int))}
@itemize @minus
@item @emph{Description:} If @code{Low} and @code{Up} are integers, @code{Number} is an integer. 
@end itemize

@strong{Usage 2:} @code{random(+flt,+num,-(flt))}
@itemize @minus
@end itemize

@strong{Usage 3:} @code{random(+int,+flt,-(flt))}
@itemize @minus
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{srandom/1 (pred)}}}
@temp
@end iftex
@pdindex srandom/1 
@glindex srandom/1 
@deffn PREDICATE srandom/1:


@code{srandom(Seed)}


Changes the sequence of pseudo-random numbers according to @code{Seed}. The stating sequence of numbers generated can be duplicated by calling the predicate with @code{Seed} unbound (the sequence depends on the OS).


The predicate is of type @emph{implicit}.


@strong{Usage:} @code{srandom(?(int))}
@itemize @minus
@end itemize
@end deffn
@sp 1


@c (component)


@node sets (library), Variable names dictionaries, Random numbers, Top
@comment node-name, next,  previous,  up
@chapter sets (library)
@liindex sets
@c -------------------------------------------------
@c WARNING: Do not edit this file (sets.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/sets.pl
@c -------------------------------------------------

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 0.9#17 (1999/3/23, 20:57:20 MET)

This module implements set operations. Sets are just ordered lists.



@menu
* Usage and interface (sets)::	
* Documentation on exports (sets)::  
@end menu

@node Usage and interface (sets), Documentation on exports (sets), sets (library), sets (library)
@comment node-name, next,  previous,  up
@section Usage and interface (@code{sets})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(sets)).}

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex insert/3
@code{insert/3}, 
@glindex ord_delete/3
@code{ord_delete/3}, 
@glindex ord_member/2
@code{ord_member/2}, 
@glindex ord_test_member/3
@code{ord_test_member/3}, 
@glindex ord_subtract/3
@code{ord_subtract/3}, 
@glindex ord_intersection/3
@code{ord_intersection/3}, 
@glindex ord_intersection_diff/4
@code{ord_intersection_diff/4}, 
@glindex ord_intersect/2
@code{ord_intersect/2}, 
@glindex ord_subset/2
@code{ord_subset/2}, 
@glindex ord_subset_diff/3
@code{ord_subset_diff/3}, 
@glindex ord_union/3
@code{ord_union/3}, 
@glindex ord_union_diff/4
@code{ord_union_diff/4}, 
@glindex ord_union_symdiff/4
@code{ord_union_symdiff/4}, 
@glindex ord_union_change/3
@code{ord_union_change/3}, 
@glindex merge/3
@code{merge/3}, 
@glindex ord_disjoint/2
@code{ord_disjoint/2}, 
@glindex setproduct/3
@code{setproduct/3}.


@end itemize


@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex sort
@code{sort}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (sets),  , Usage and interface (sets), sets (library)
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{sets})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{insert/3 (pred)}}}
@temp
@end iftex
@pdindex insert/3 
@glindex insert/3 
@deffn PREDICATE insert/3:






@strong{Usage:} @code{insert(+Set1,+Element,-(Set2))}
@itemize @minus
@item @emph{Description:} It is true when @code{Set2} is @code{Set1} with @code{Element} inserted in it, preserving the order. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{ord_delete/3 (pred)}}}
@temp
@end iftex
@pdindex ord_delete/3 
@glindex ord_delete/3 
@deffn PREDICATE ord_delete/3:






@strong{Usage:} @code{ord_delete(+Set0,+X,-(Set))}
@itemize @minus
@item @emph{Description:} It succeeds if @code{Set} is @code{Set0} without element @code{X}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{ord_member/2 (pred)}}}
@temp
@end iftex
@pdindex ord_member/2 
@glindex ord_member/2 
@deffn PREDICATE ord_member/2:






@strong{Usage:} @code{ord_member(+X,+Set)}
@itemize @minus
@item @emph{Description:} It succeeds if @code{X} is member of @code{Set}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{ord_test_member/3 (pred)}}}
@temp
@end iftex
@pdindex ord_test_member/3 
@glindex ord_test_member/3 
@deffn PREDICATE ord_test_member/3:






@strong{Usage:} @code{ord_test_member(+Set,+X,-(Result))}
@itemize @minus
@item @emph{Description:} If @code{X} is member of @code{Set} then @code{Result}=@code{yes}. Otherwise @code{Result}=@code{no}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{ord_subtract/3 (pred)}}}
@temp
@end iftex
@pdindex ord_subtract/3 
@glindex ord_subtract/3 
@deffn PREDICATE ord_subtract/3:






@strong{Usage:} @code{ord_subtract(+Set1,+Set2,?(Difference))}
@itemize @minus
@item @emph{Description:} It is true when @code{Difference} contains all and only the elements of @code{Set1} which are not also in @code{Set2}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{ord_intersection/3 (pred)}}}
@temp
@end iftex
@pdindex ord_intersection/3 
@glindex ord_intersection/3 
@deffn PREDICATE ord_intersection/3:






@strong{Usage:} @code{ord_intersection(+Set1,+Set2,?(Intersection))}
@itemize @minus
@item @emph{Description:} It is true when @code{Intersection} is the ordered representation of @code{Set1} and @code{Set2}, provided that @code{Set1} and @code{Set2} are ordered lists. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{ord_intersection_diff/4 (pred)}}}
@temp
@end iftex
@pdindex ord_intersection_diff/4 
@glindex ord_intersection_diff/4 
@deffn PREDICATE ord_intersection_diff/4:






@strong{Usage:} @code{ord_intersection_diff(+Set1,+Set2,-(Intersect),-(NotIntersect))}
@itemize @minus
@item @emph{Description:} @code{Intersect} contains those elements which are both in @code{Set1} and @code{Set2}, and @code{NotIntersect} those which are in @code{Set1} but not in @code{Set2}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{ord_intersect/2 (pred)}}}
@temp
@end iftex
@pdindex ord_intersect/2 
@glindex ord_intersect/2 
@deffn PREDICATE ord_intersect/2:






@strong{Usage:} @code{ord_intersect(+Xs,+Ys)}
@itemize @minus
@item @emph{Description:} Succeeds when the two ordered lists have at least one element in common. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{ord_subset/2 (pred)}}}
@temp
@end iftex
@pdindex ord_subset/2 
@glindex ord_subset/2 
@deffn PREDICATE ord_subset/2:






@strong{Usage:} @code{ord_subset(+Xs,+Ys)}
@itemize @minus
@item @emph{Description:} Succeeds when every element of @code{Xs} appears in @code{Ys}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{ord_subset_diff/3 (pred)}}}
@temp
@end iftex
@pdindex ord_subset_diff/3 
@glindex ord_subset_diff/3 
@deffn PREDICATE ord_subset_diff/3:






@strong{Usage:} @code{ord_subset_diff(+Set1,+Set2,-(Difference))}
@itemize @minus
@item @emph{Description:} It succeeds when every element of @code{Set1} appears in @code{Set2} and @code{Difference} has the elements of @code{Set2} which are not in @code{Set1}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{ord_union/3 (pred)}}}
@temp
@end iftex
@pdindex ord_union/3 
@glindex ord_union/3 
@deffn PREDICATE ord_union/3:






@strong{Usage:} @code{ord_union(+Set1,+Set2,?(Union))}
@itemize @minus
@item @emph{Description:} It is true when @code{Union} is the union of @code{Set1} and @code{Set2}. When some element occurs in both sets, @code{Union} retains only one copy. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{ord_union_diff/4 (pred)}}}
@temp
@end iftex
@pdindex ord_union_diff/4 
@glindex ord_union_diff/4 
@deffn PREDICATE ord_union_diff/4:






@strong{Usage:} @code{ord_union_diff(+Set1,+Set2,-(Union),-(Difference))}
@itemize @minus
@item @emph{Description:} It succeeds when @code{Union} is the union of @code{Set1} and @code{Set2}, and @code{Difference} is @code{Set2} set-minus @code{Set1}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{ord_union_symdiff/4 (pred)}}}
@temp
@end iftex
@pdindex ord_union_symdiff/4 
@glindex ord_union_symdiff/4 
@deffn PREDICATE ord_union_symdiff/4:






@strong{Usage:} @code{ord_union_symdiff(+Set1,+Set2,-(Union),-(Diff))}
@itemize @minus
@item @emph{Description:} It is true when Diff is the symmetric difference of Set1 and Set2, and Union is the union of Set1 and Set2. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{ord_union_change/3 (pred)}}}
@temp
@end iftex
@pdindex ord_union_change/3 
@glindex ord_union_change/3 
@deffn PREDICATE ord_union_change/3:






@strong{Usage:} @code{ord_union_change(+Set1,+Set2,-(Union))}
@itemize @minus
@item @emph{Description:} @code{Union} is the union of @code{Set1} and @code{Set2} and @code{Union} is different from @code{Set2}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{merge/3 (pred)}}}
@temp
@end iftex
@pdindex merge/3 
@glindex merge/3 
@deffn PREDICATE merge/3:






@strong{Usage:} @code{merge(+Set1,+Set2,?(Union))}
@itemize @minus
@item @emph{Description:} See @code{ord_union/3}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{ord_disjoint/2 (pred)}}}
@temp
@end iftex
@pdindex ord_disjoint/2 
@glindex ord_disjoint/2 
@deffn PREDICATE ord_disjoint/2:






@strong{Usage:} @code{ord_disjoint(+Set1,+Set2)}
@itemize @minus
@item @emph{Description:} @code{Set1} and @code{Set2} have no element in common. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{setproduct/3 (pred)}}}
@temp
@end iftex
@pdindex setproduct/3 
@glindex setproduct/3 
@deffn PREDICATE setproduct/3:






@strong{Usage:} @code{setproduct(+Set1,+Set2,-(Product))}
@itemize @minus
@item @emph{Description:} @code{Product} has all two element sets such that one element is in @code{Set1} and the other in @code{set2}, except that if the same element belongs to both, then the corresponding one element set is in @code{Product}. 
@end itemize
@end deffn
@sp 1


@c (component)


@node Variable names dictionaries, *** PART X - Miscellaneous standalone utilities, sets (library), Top
@comment node-name, next,  previous,  up
@chapter Variable names dictionaries
@liindex vndict
@c -------------------------------------------------
@c WARNING: Do not edit this file (vndict.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/library/vndict.pl
@c -------------------------------------------------

@strong{Author(s):} Francisco Bueno.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 0.8#19 (1998/12/3, 12:53:16 MET)





@menu
* Usage and interface (vndict)::  
* Documentation on exports (vndict)::  
@end menu

@node Usage and interface (vndict), Documentation on exports (vndict), Variable names dictionaries, Variable names dictionaries
@comment node-name, next,  previous,  up
@section Usage and interface (@code{vndict})
@cartouche
@itemize @bullet{}

@item @strong{Library usage:}

@code{:- use_module(library(vndict)).}

@item @strong{Exports:}
@itemize @minus


@item @emph{Predicates:}

@glindex create_dict/2
@code{create_dict/2}, 
@glindex complete_dict/3
@code{complete_dict/3}, 
@glindex complete_vars_dict/3
@code{complete_vars_dict/3}, 
@glindex prune_dict/3
@code{prune_dict/3}, 
@glindex dict2varnamesl/2
@code{dict2varnamesl/2}, 
@glindex varnamesl2dict/2
@code{varnamesl2dict/2}, 
@glindex rename/2
@code{rename/2}, 
@glindex vars_names_dict/3
@code{vars_names_dict/3}.


@item @emph{Regular Types:}

@glindex null_dict/1
@code{null_dict/1}, 
@glindex varname/1
@code{varname/1}, 
@glindex varnamesl/1
@code{varnamesl/1}, 
@glindex varnamedict/1
@code{varnamedict/1}.


@end itemize


@item @strong{Other modules used:}
@itemize @minus


@item @emph{System library modules:}

@glindex idlists
@code{idlists}, 
@glindex metaterms
@code{metaterms}, 
@glindex sets
@code{sets}, 
@glindex sort
@code{sort}.


@end itemize

@end itemize
@end cartouche


@node Documentation on exports (vndict),  , Usage and interface (vndict), Variable names dictionaries
@comment node-name, next,  previous,  up
@section Documentation on exports (@code{vndict})
@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{null_dict/1 (regtype)}}}
@temp
@end iftex
@teindex null_dict/1 
@glindex null_dict/1 
@deffn REGTYPE null_dict/1:






@strong{Usage:} @code{null_dict(D)}
@itemize @minus
@item @emph{Description:} @code{D} is an empty dictionary. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{create_dict/2 (pred)}}}
@temp
@end iftex
@pdindex create_dict/2 
@glindex create_dict/2 
@deffn PREDICATE create_dict/2:






@strong{Usage:} @code{create_dict(Term,Dict)}
@itemize @minus
@item @emph{Description:} @code{Dict} has names for all variables in @code{Term}. 
@item @emph{The following properties should hold at call time:}


@code{Term} is any term.
@iftex
@hfill
@end iftex
 (@code{basic_props:term/1})
@item @emph{The following properties should hold upon exit:}


@code{Dict} is a dictionary of variable names.
@iftex
@hfill
@end iftex
 (@code{vndict:varnamedict/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{complete_dict/3 (pred)}}}
@temp
@end iftex
@pdindex complete_dict/3 
@glindex complete_dict/3 
@deffn PREDICATE complete_dict/3:






@strong{Usage:} @code{complete_dict(+Dict,+Term,-(NewDict))}
@itemize @minus
@item @emph{Description:} @code{NewDict} is @code{Dict} augmented with the variables of @code{Term} not yet in @code{Dict}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{complete_vars_dict/3 (pred)}}}
@temp
@end iftex
@pdindex complete_vars_dict/3 
@glindex complete_vars_dict/3 
@deffn PREDICATE complete_vars_dict/3:






@strong{Usage:} @code{complete_vars_dict(+Dict,+Vars,-(NewDict))}
@itemize @minus
@item @emph{Description:} @code{NewDict} is @code{Dict} augmented with the variables of the list @code{Vars} not yet in @code{Dict}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{prune_dict/3 (pred)}}}
@temp
@end iftex
@pdindex prune_dict/3 
@glindex prune_dict/3 
@deffn PREDICATE prune_dict/3:






@strong{Usage:} @code{prune_dict(+Term,+Dict,-(NewDict))}
@itemize @minus
@item @emph{Description:} @code{NewDict} is @code{Dict} reduced to just the variables of @code{Term}. 
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{dict2varnamesl/2 (pred)}}}
@temp
@end iftex
@pdindex dict2varnamesl/2 
@glindex dict2varnamesl/2 
@deffn PREDICATE dict2varnamesl/2:






@strong{Usage:} @code{dict2varnamesl(Dict,VNs)}
@itemize @minus
@item @emph{Description:} Translates @code{Dict} to @code{VNs}. 
@item @emph{The following properties should hold at call time:}


@code{Dict} is a dictionary of variable names.
@iftex
@hfill
@end iftex
 (@code{vndict:varnamedict/1})
@item @emph{The following properties should hold upon exit:}


@code{VNs} is a list of @code{Name=Var}, for a variable @code{Var} and its name @code{Name}.
@iftex
@hfill
@end iftex
 (@code{vndict:varnamesl/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{varnamesl2dict/2 (pred)}}}
@temp
@end iftex
@pdindex varnamesl2dict/2 
@glindex varnamesl2dict/2 
@deffn PREDICATE varnamesl2dict/2:






@strong{Usage:} @code{varnamesl2dict(VNs,Dict)}
@itemize @minus
@item @emph{Description:} Translates @code{VNs} to @code{Dict}. 
@item @emph{The following properties should hold at call time:}


@code{VNs} is a list of @code{Name=Var}, for a variable @code{Var} and its name @code{Name}.
@iftex
@hfill
@end iftex
 (@code{vndict:varnamesl/1})
@item @emph{The following properties should hold upon exit:}


@code{Dict} is a dictionary of variable names.
@iftex
@hfill
@end iftex
 (@code{vndict:varnamedict/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{find_name/4 (pred)}}}
@temp
@end iftex
@pdindex find_name/4 
@glindex find_name/4 
@deffn PREDICATE find_name/4:


@code{find_name(Vars,Names,V,Name)}


Given that @code{vars_names_dict(Dict,Vars,Names)} holds, it acts as @code{rename(X,Dict)}, but the name of @code{X} is given as @code{Name} instead of unified with it.

@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{rename/2 (pred)}}}
@temp
@end iftex
@pdindex rename/2 
@glindex rename/2 
@deffn PREDICATE rename/2:






@strong{Usage:} @code{rename(Term,Dict)}
@itemize @minus
@item @emph{Description:} Unifies each variable in @code{Term} with its name in @code{Dict}. If no name is found, a new name is created. 
@item @emph{The following properties should hold at call time:}


@code{Dict} is a dictionary of variable names.
@iftex
@hfill
@end iftex
 (@code{vndict:varnamedict/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{varname/1 (regtype)}}}
@temp
@end iftex
@teindex varname/1 
@glindex varname/1 
@deffn REGTYPE varname/1:






@strong{Usage:} @code{varname(N)}
@itemize @minus
@item @emph{Description:} @code{N} is term representing a variable name. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{varnamesl/1 (regtype)}}}
@temp
@end iftex
@teindex varnamesl/1 
@glindex varnamesl/1 
@deffn REGTYPE varnamesl/1:






@strong{Usage:} @code{varnamesl(D)}
@itemize @minus
@item @emph{Description:} @code{D} is a list of @code{Name=Var}, for a variable @code{Var} and its name @code{Name}. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{varnamedict/1 (regtype)}}}
@temp
@end iftex
@teindex varnamedict/1 
@glindex varnamedict/1 
@deffn REGTYPE varnamedict/1:






@strong{Usage:} @code{varnamedict(D)}
@itemize @minus
@item @emph{Description:} @code{D} is a dictionary of variable names. 
@item @emph{The following properties should hold globally:}


Defines a regular type.
@iftex
@hfill
@end iftex
 (@code{basic_props:regtype/1})
@end itemize
@end deffn
@sp 1

@iftex
@edef@temp{@noexpand@writetocentry{@realbackslash unnumbsubsubsecentry{vars_names_dict/3 (pred)}}}
@temp
@end iftex
@pdindex vars_names_dict/3 
@glindex vars_names_dict/3 
@deffn PREDICATE vars_names_dict/3:






@strong{Usage:} @code{vars_names_dict(Dict,Vars,Names)}
@itemize @minus
@item @emph{Description:} @code{Varss} is a sorted list of variables, and @code{Names} is a list of their names, which correspond in the same order. 
@item @emph{Call and exit should be @emph{compatible} with:}


@code{Dict} is a dictionary of variable names.
@iftex
@hfill
@end iftex
 (@code{vndict:varnamedict/1})

@code{Vars} is a list.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/1})

@code{Names} is a list.
@iftex
@hfill
@end iftex
 (@code{basic_props:list/1})
@end itemize
@end deffn
@sp 1


@c (component)


@node *** PART X - Miscellaneous standalone utilities, Printing the declarations and code in a file, Variable names dictionaries, Top
@comment node-name, next,  previous,  up
@unnumbered PART X - Miscellaneous standalone utilities
@iftex
@vfill
@cartouche
@sp
@ 
@end iftex
@c -------------------------------------------------
@c WARNING: Do not edit this file (ciao-utilities.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/etc/ciao-utilities.pl
@c -------------------------------------------------

@strong{Author(s):} F. Bueno, D. Cabeza, M. Carro,, M. Hermenegildo, P. L@'opez, and G. Puebla, @email{clip@@dia.fi.upm.es}, @uref{http://www.clip.dia.fi.upm.es/}, The CLIP Group, School of Computer Science, Technical University of Madrid.


This is the documentation for a set of miscellaneous standalone utilities contained in the @code{etc} directory of the CIAO distribution.

@iftex
@sp 
@end cartouche
@vfill
@end iftex

@c (component)


@node Printing the declarations and code in a file, Printing the contents of a bytecode file, *** PART X - Miscellaneous standalone utilities, Top
@comment node-name, next,  previous,  up
@chapter Printing the declarations and code in a file
@c -------------------------------------------------
@c WARNING: Do not edit this file (fileinfo.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/etc/fileinfo.pl
@c -------------------------------------------------

@strong{Author(s):} Manuel Hermenegildo.

@strong{Version:} 0.5#6 (1999/4/15, 20:33:6 MEST)

A simple program for 
@glindex printing assertion information
printing assertion information (
@glindex predicate declarations
predicate declarations, 
@glindex property declarations
property declarations, 
@glindex type declarations
type declarations, etc.) and 
@glindex printing code-related information
printing code-related information (
@glindex imports
imports, 
@glindex exports
exports, 
@glindex libraries used
libraries used, etc.) on a file. The file should be a single CIAO or Prolog source file. It uses the CIAO compiler's pass one to do it. This program is specially useful for example to check what the compiler is actually seeing after syntactic expansions, as well as for checking what assertions the 
@glindex assertion normalizer
assertion normalizer is producing from the original assertions in the file. 



@menu
* Usage (fileinfo)::		
* More detailed explanation of options (fileinfo)::  
@end menu

@node Usage (fileinfo), More detailed explanation of options (fileinfo), Printing the declarations and code in a file, Printing the declarations and code in a file
@comment node-name, next,  previous,  up
@section Usage (fileinfo) 


@smallexample 
   
    fileinfo -asr <filename.asr> 
       : pretty prints the contents of <filename.asr> 

    fileinfo [-v] [-m] <-a|-c|-e> <filename> [libdir1] ... [libdirN]
    -v : verbose output (e.g., lists all files read)
    -m : restrict info to current module
    -a : print assertions 
    -c : print code and interface (imports/exports, etc.)
    -e : print only errors - useful to check syntax of assertions in file

    fileinfo -h
       : print this information

   @end smallexample  



@node More detailed explanation of options (fileinfo),  , Usage (fileinfo), Printing the declarations and code in a file
@comment node-name, next,  previous,  up
@section More detailed explanation of options (fileinfo) 

 
@itemize @bullet{} 


@item If the @code{-a} option is selected, @code{fileinfo} prints the assertions (only code-oriented assertions -- not comment-oriented assertions) in the file @emph{after normalization}. If the @code{-c} option is selected @code{fileinfo} prints the file interface, the declarations contained in the file, and the actual code. If the @code{-e} option is selected @code{fileinfo} prints only any sintactic and import-export errors found in the file, including the assertions. 


@item @code{filename} must be the name of a Prolog or CIAO source file. 


@item This filename can be followed by other arguments which will be taken to be library directory paths in which to look for files used by the file being analyzed. 


@item If the @code{-m} option is selected, only the information related to the current module is printed. 


@item The @code{-v} option produces verbose output. This is very useful for debugging, since all the files accessed during assertion normalization are listed. 


@item In the @code{-asr} usage, 
@glindex fileinfo
@code{fileinfo} can be used to print the contents of a @code{.asr} file in human-readable form. 


@end itemize  



@c (component)


@node Printing the contents of a bytecode file, Gathering the dependent files for a file, Printing the declarations and code in a file, Top
@comment node-name, next,  previous,  up
@chapter Printing the contents of a bytecode file
@c -------------------------------------------------
@c WARNING: Do not edit this file (viewpo.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/etc/viewpo.pl
@c -------------------------------------------------

@strong{Author(s):} Daniel Cabeza.

@strong{Version:} 0.5#2 (1999/11/11, 19:20:50 MET)

This simple program takes as an argument a bytecode (.po) file and prints out in symbolic form the information contained in the file. It uses compiler and engine builtins to do so, so that it keeps track with changes in bytecode format. 



@menu
* Usage (viewpo)::		
@end menu

@node Usage (viewpo),  , Printing the contents of a bytecode file, Printing the contents of a bytecode file
@comment node-name, next,  previous,  up
@section Usage (viewpo) 


@smallexample 
   
	viewpo <file1>.po
	   : print .po contents in symbolic form

	viewpo -h
	   : print this information

   @end smallexample  




@c (component)


@node Gathering the dependent files for a file, Finding differences between two Prolog files, Printing the contents of a bytecode file, Top
@comment node-name, next,  previous,  up
@chapter Gathering the dependent files for a file
@c -------------------------------------------------
@c WARNING: Do not edit this file (get_deps.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/etc/get_deps.pl
@c -------------------------------------------------

@strong{Author(s):} Daniel Cabeza, Manuel Hermenegildo.

@strong{Version:} 1.0#6 (1998/11/5, 13:56:58 MET)

This simple program takes a single CIAO or Prolog source filename (which is typically the main file of an application). It prints out the list of all the 
@glindex dependent files
dependent files, i.e., all files needed in order to build the application, including those which reside in libraries. This is particularly useful in Makefiles, for 
@glindex building standalone distributions
building standalone distributions (e.g., 
@glindex .tar files
.tar files) automatically. 

The filename should be followed by other arguments which will be taken to be library directory paths in which to look for files used by the file being analyzed. 



@menu
* Usage (get_deps)::		
@end menu

@node Usage (get_deps),  , Gathering the dependent files for a file, Gathering the dependent files for a file
@comment node-name, next,  previous,  up
@section Usage (get_deps) 


@smallexample 
   
	get_deps [-u <filename>] <filename> [lib_dir1] ... [lib_dirN]
           : return dependent files for <filename> 
             found in [lib_dir1] ... [lib_dirN]

	get_deps -h
           : print this information

   @end smallexample  




@c (component)


@node Finding differences between two Prolog files, The Ciao lpmake scripting facility, Gathering the dependent files for a file, Top
@comment node-name, next,  previous,  up
@chapter Finding differences between two Prolog files
@c -------------------------------------------------
@c WARNING: Do not edit this file (pldiff.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/etc/pldiff.pl
@c -------------------------------------------------

@strong{Author(s):} Francisco Bueno.


This simple program works like the good old diff but for files that contain Prolog code. It prints out the clauses that it finds are different in the files. Its use avoids textual differences such as different variable names and different formatting of the code in the files. 



@menu
* Usage (pldiff)::		
* Known bugs and planned improvements (pldiff)::  
@end menu

@node Usage (pldiff), Known bugs and planned improvements (pldiff), Finding differences between two Prolog files, Finding differences between two Prolog files
@comment node-name, next,  previous,  up
@section Usage (pldiff) 


@smallexample 
   
	pldiff <file1> <file2>
	   : find differences 

	pldiff -h
	   : print this information

   @end smallexample  

but you can also use the program as a library and invoke the predicate: 


@smallexample 
   pldiff( <filename> , <filename> )
   @end smallexample  




@node Known bugs and planned improvements (pldiff),  , Usage (pldiff), Finding differences between two Prolog files
@comment node-name, next,  previous,  up
@section Known bugs and planned improvements (@code{pldiff})

@itemize @bullet{}

@item
Currently uses variant/2 to compare clauses. This is useful, but there should be an option to select the way clauses are compared, e.g., some form of equivalence defined by the user.
@end itemize

@c (component)


@node The Ciao lpmake scripting facility, Find out which architecture we are running on, Finding differences between two Prolog files, Top
@comment node-name, next,  previous,  up
@chapter The Ciao lpmake scripting facility
@c -------------------------------------------------
@c WARNING: Do not edit this file (lpmake.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/etc/lpmake.pl
@c -------------------------------------------------

@strong{Author(s):} Manuel Hermenegildo.


 

@strong{Note:} 
@glindex lpmake
@code{lpmake} and the 
@glindex make
@code{make} library are still under active development, and they may change substantially in future releases. 


@glindex lpmake
@code{lpmake} is a Ciao application which uses the Ciao 
@glindex make
@code{make} library to implement a dependency-driven scripts in a similar way to the Unix 
@glindex make
@code{make} facility. 

The original purpose of the Unix 
@glindex make
@code{make} utility was to determine automatically which pieces of a large program needed to be recompiled, and issue the commands to recompile them. In fact, 
@glindex make
@code{make} is often used for many other purposes: it can be used to describe any task where some files must be updated automatically from others whenever the others change. 

To prepare to use 
@glindex lpmake
@code{lpmake}, you must write a file (typically called 
@glindex Makefile.pl
@code{Makefile.pl}) that describes the relationships among files in your program or application, and states the commands for updating each file. In a program, typically the executable file is updated from object files, which are in turn made by compiling source files. 

Once a suitable makefile exists, each time you change some source files, simply typing @code{lpmake} suffices to perform all necessary recompilations. The 
@glindex make
@code{make} program uses the makefile data base and the last modification times of the files to decide which of the files need to be updated. For each of those files, it issues the commands recorded in the data base. 


@glindex lpmake
@code{lpmake} executes commands in the 
@glindex Makefile.pl
@code{Makefile.pl} to update one or more target @emph{names}, where @emph{name} is typically a program, but can also be a file to be generated or even a ``virtual'' target. If no @code{-l} or @code{-m} options are present, 
@glindex lpmake
@code{lpmake} will look for the makefile 
@glindex Makefile.pl
@code{Makefile.pl}. 


@glindex lpmake
@code{lpmake} updates a target if it depends on prerequisite files that have been modified since the target was last modified, or if the target does not exist. 

You can provide command line arguments to 
@glindex lpmake
@code{lpmake} to control which files should be regenerated, or how. 

@strong{Note:} if you use 
@glindex make
@code{make} and 
@glindex functions
@code{functions}, then 
@glindex make
@code{make} should appear before 
@glindex functions
@code{functions} in the list of packages. 




@c (component)


@node Find out which architecture we are running on, *** PART XI - Appendices, The Ciao lpmake scripting facility, Top
@comment node-name, next,  previous,  up
@chapter Find out which architecture we are running on
@c -------------------------------------------------
@c WARNING: Do not edit this file (ciao_get_arch_doc.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/etc/ciao_get_arch_doc.pl
@c -------------------------------------------------

@strong{Author(s):} Manuel Carro, Robert Manchek.

@strong{Version:} 0.0 (1998/8/12, 19:53:41 MET DST)

The architecure and operating system the engine is compiled for determines whether we can use or not certain libraries. This script, taken from a PVM distribution, uses a heuristic (which may need to be tuned from time to time) to find out the platform. It returns a string which is used throughout the engine (in #ifdefs) to enable/disable certain characteristics. 



@menu
* Usage (ciao_get_arch)::	
* More details::		
@end menu

@node Usage (ciao_get_arch), More details, Find out which architecture we are running on, Find out which architecture we are running on
@comment node-name, next,  previous,  up
@section Usage (ciao_get_arch) 


@smallexample 
   Usage: ciao_get_arch
   @end smallexample  



@node More details,  , Usage (ciao_get_arch), Find out which architecture we are running on
@comment node-name, next,  previous,  up
@section More details 

Look at the script itself... 




@c (component)


@node *** PART XI - Appendices, Installing Ciao, Find out which architecture we are running on, Top
@comment node-name, next,  previous,  up
@unnumbered PART XI - Appendices
@iftex
@vfill
@cartouche
@sp
@ 
@end iftex
@c -------------------------------------------------
@c WARNING: Do not edit this file (Append.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/doc/common/Append.pl
@c -------------------------------------------------


The appendix included extensively documents the installation of the Ciao environment.

@iftex
@sp 
@end cartouche
@vfill
@end iftex

@c (component)


@node Installing Ciao, References, *** PART XI - Appendices, Top
@comment node-name, next,  previous,  up
@chapter Installing Ciao
@c -------------------------------------------------
@c WARNING: Do not edit this file (Install.texic)
@c It has been generated automatically from file:  
@c /home/clip/Systems/ciao/doc/common/Install.pl
@c -------------------------------------------------

@strong{Author(s):} Manuel Carro, Daniel Cabeza, Manuel Hermenegildo.

@strong{Version:} 1.3#120 (1999/11/26, 12:5:17 MET)

@strong{Version of last change:} 1.3#117 (1999/11/25, 1:44:7 MET)

 This describes the installation procedure for the Ciao Prolog system, including libraries and manuals. Please read @ref{Un*x installation summary} and @ref{Un*x full installation instructions} for the installation procedures from sources on Un*x (Linux, SunOS, Solaris, etc.) machines. Windows NT/95/98 users are referred to @ref{Installation and compilation under Windows} and @ref{Windows installation from the precompiled distribution}. 

If you find any problems during installation, please refer to @ref{Troubleshooting (nasty messages and nifty workarounds)}. 
@coindex troubleshooting
@glindex troubleshooting 
See also @ref{Downloading new versions} and @ref{Reporting bugs}. 



@menu
* Un*x installation summary::	
* Un*x full installation instructions::	 
* Installation and compilation under Windows::	
* Windows installation from the precompiled distribution::  
* Windows installation from the standard source distribution::	
* Checking for correct installation::  
* Cleaning up the source directory::  
* Environment variables used by Ciao executables::  
* Multiarchitecture support::	
* Architecture specific notes and limitations::	 
* Downloading new versions::	
* Keeping up to date: the Ciao users mailing list::  
* Reporting bugs::		
* Porting to currently unsupported operating systems::	
* Troubleshooting (nasty messages and nifty workarounds)::  
@end menu

@node Un*x installation summary, Un*x full installation instructions, Installing Ciao, Installing Ciao
@comment node-name, next,  previous,  up
@section Un*x installation summary 
@coindex installation, Un*x, summary
@glindex installation, Un*x, summary 

@strong{Note:} it is recommended that you read the full installation instructions (specially if the installation will be shared by different architectures). However, in many cases it suffices to follow this summary: 


@enumerate  


@item Uncompress and unpackage (using 
@glindex gunzip
@code{gunzip} and @code{tar -xpf}) the distribution. This will put everyting in a new directory whose name reflects the Ciao version. 


@item Enter the newly created directory (@code{SRC}). Edit 
@glindex SETTINGS
@code{SETTINGS} and check/set the variables @code{SRC}, @code{BINROOT} (where the executables will go), @code{LIBROOT} (where the libraries will go), and @code{DOCROOT} (where the documentation will go, preferably a directory @emph{accessible via} 
@glindex WWW
WWW). 


@item Type @code{gmake install}. This will build executables, compile libraries, and install everything in a directory @code{LIBROOT/ciao} and in @code{BINROOT}. 

Note that @code{gmake} refers to the 
@glindex GNU
GNU implementation of the 
@glindex make
make Un*x command, which is available in many systems (including all Linux systems) simply as 
@glindex make
@code{make}. I.e., you can try simply typing @code{make install} if @code{gmake install} does not work. If typing @code{make} stops right away with error messages it is probably an older version and you need to install @code{gmake}. 


@item Make the following modifications in your startup scripts. If you are installing Ciao globally in a multi-user machine, make sure that you instruct all users to do the same. This will make the documentation accessible, set the correct mode when opening Ciao source files in 
@glindex emacs
@code{emacs}, etc. (<LIBROOT> must be replaced by the appropriate value): 
@coindex environment variable definitions
@glindex environment variable definitions 

 
@itemize @bullet{} 


@item For users a 
@coindex csh-compatible shell
@glindex csh-compatible shell
@emph{csh-compatible shell} (
@glindex csh
@code{csh}, 
@glindex tcsh
@code{tcsh}, ...), add to 
@glindex ~/.cshrc
@code{~/.cshrc}: 


@smallexample 
        if ( -e <LIBROOT>/ciao/DOTcshrc ) then
           source <LIBROOT>/ciao/DOTcshrc
        endif
@end smallexample  


@item For users of an 
@coindex sh-compatible shell
@glindex sh-compatible shell
@emph{sh-compatible shell} (
@glindex sh
@code{sh}, 
@glindex bash
@code{bash}, ...), add to 
@glindex ~/.profile
@code{~/.profile}: 


@smallexample 
        if [ -f <LIBROOT>/ciao/DOTprofile ]; then
           . <LIBROOT>/ciao/DOTprofile
        fi
@end smallexample  

This will set up things so that the Ciao executables are found and you can access the Ciao system manuals using the 
@glindex info
@code{info} command. 


@item Also, if you use 
@glindex emacs
@code{emacs} (highly recommended) add this line to your 
@glindex ~/.emacs
@code{~/.emacs} file: 


@smallexample 
        (load-file "<LIBROOT>/ciao/DOTemacs")
@end smallexample  


@end itemize  

If you are the system administrator, the previous steps can be done once and for all, and globally for all users by including the lines above in the central startup scripts (e.g., in Linux 
@glindex /etc/cshrc
@code{/etc/cshrc}/
@glindex /etc/csh.cshrc
@code{/etc/csh.cshrc}, 
@glindex /etc/bashrc
@code{/etc/bashrc}, 
@glindex /usr/share/emacs/.../lisp/site-init.pl
@code{/usr/share/emacs/.../lisp/site-init.pl}, etc.). 




@item Downloading the emacs editor, if it is not available in the system, is highly recommended (see @ref{Un*x full installation instructions}). 


@item You may want to read now @ref{Checking for correct installation} and the documentation, which is stored in @code{DOCROOT} (copied from @code{SRC/doc/reference}) and can be easily accessed as explained in that same section. 


@item If you have any problems you may want to check the rest of the instructions. The system can be @strong{uninstalled} by typing @code{gmake uninstall}. 
@coindex uninstalling
@glindex uninstalling 


@end enumerate  
 

@node Un*x full installation instructions, Installation and compilation under Windows, Un*x installation summary, Installing Ciao
@comment node-name, next,  previous,  up
@section Un*x full installation instructions 
@coindex installation, Un*x, full instructions
@glindex installation, Un*x, full instructions 


@enumerate  


@item @strong{Uncompress and unpackage:} (using 
@glindex gunzip
@code{gunzip} and @code{tar -xpf}) 
@coindex tar
@glindex tar 
the distribution in a suitable directory. This will create a new directory called @code{ciao-X.Y}, where @code{X.Y} is the version number of the distribution. The @code{-p} option in the 
@glindex tar
@code{tar} command ensures that the relative dates of the files in the package are preserved, which is needed for correct operation of the Makefiles. 


@item @strong{Select Installation Options:} Edit the file 
@glindex SETTINGS
@code{SETTINGS} and set the following variables: 


@itemize @bullet{} 


@item @code{SRC}: directory where the sources are stored. 
@coindex source directory
@glindex source directory 


@item @code{BINROOT}: directory where the Ciao executables will go. For example, if @code{BINROOT=/usr/local/bin}, then the Ciao 
@glindex compiler
compiler (
@glindex ciaoc
@code{ciaoc}) will be stored at @code{/usr/local/bin/ciaoc} (actually, it will be a link to @code{ciaoc-}@emph{VersionNumber} --this applies also to other executables below and is done so that several versions can coexist). 
@coindex binary directory
@glindex binary directory 


@item @code{LIBROOT}: directory where the 
@glindex run-time libraries
run-time libraries will be installed. 
@coindex library directory
@glindex library directory 
The Ciao installation procedure will create a new subdirectory @code{ciao} below @code{LIBROOT} and a subdirectory below this one for each Ciao version installed. For example, if @code{LIBROOT=/usr/local/lib} and you have Ciao version @code{x.y}, then the libraries will be installed under @code{/usr/local/lib/ciao/ciao-x.y}. This allows you to install 
@glindex site-specific programs
site-specific programs under @code{/usr/local/lib/ciao} and they will not be overwritten if a new version of Ciao is installed. It also allows having several Ciao versions installed simultaneously (the @emph{last one installed} will be used by default when typing @code{ciao}). 


@item @code{DOCROOT}: directory where the 
@glindex manuals
manuals will be installed. It is often convenient of this directory is accessible via 
@glindex WWW
WWW (@code{DOCROOT=/home/httpd/html/ciao}, or something like that). 


@end itemize  

For network-based installations, 
@coindex installation, network based
@glindex installation, network based 
it is of @emph{utmost importance} that the paths given be reachable in all the networked machines. Different machines with different architectures can share the same physical @code{SRC} directory during installation, since compilations for different architectures take place in dedicated subdirectories. Also, different machines/architectures can share the same @code{LIBROOT} directory. This saves space since the architecture independent libraries will be shared. See @ref{Multiarchitecture support} below. 


@item @strong{Compile Ciao:} At the ciao top level directory type @code{gmake all}. 

@emph{Important:} use 
@glindex GNU make
GNU make (
@glindex gmake
@code{gmake}), not the standard 
@glindex UNIX make
UNIX make, as the latter does not support some features used during the compilation. It does not matter if the name of the executable is 
@glindex make
@code{make} or 
@glindex gmake
@code{gmake}: only make sure that it is GNU make. 

This will: 


@itemize @bullet{} 


@item Build an 
@glindex engine
engine in @code{$(SRC)/bin/$(CIAOARCH)}, where @code{$(CIAOARCH)} depends on the architecture. The engine is the actual interpreter of the low level code into which Ciao Prolog programs are compiled. 


@item Build a new Ciao 
@glindex standalone compiler
standalone compiler (
@glindex ciaoc
@code{ciaoc}), with the default paths set for your local configuration (nonetheless, these can be overridden by environment variables, as described below). 


@item Precompile all the libraries under @code{$(SRC)/lib} and @code{$(SRC)/library} using this compiler. 


@item Compile a toplevel 
@glindex Prolog shell
Prolog shell and a shell for 
@glindex Prolog scripts
Prolog scripts, 
@coindex scripts
@glindex scripts 
under the @code{$(SRC)/shell} directory. 


@item Compile some small, auxiliary applications (contained in the 
@glindex etc
@code{etc} directory, and documented in the part of the manual on 'Miscellaneous Standalone Utilities'). 


@end itemize  

This step can be repeated successively for several architectures in the same source directory. Only the engine and some small parts of the libraries (those written in 
@glindex C
C) differ from one architecture to the other. Standard Ciao Prolog code compiles into 
@glindex bytecode object files
bytecode object files (@code{.po}) and/or 
@glindex executables
executables which are portable among machines of different architecture, provided there is an executable engine accessible in every such machine. See more details below under @ref{Multiarchitecture support}. 
 
@item @strong{Check compilation:} If the above steps have been satisfactorily finished, the compiler has compiled itself and all the distribution modules, and very probably everything is fine. To further check this before final installation you can type @code{gmake test}, which will compile and execute a small program containing several tests. 


@item @strong{Install Ciao:} To install Ciao in the directories selected in the file 
@glindex SETTINGS
@code{SETTINGS} during step 2 above, type @code{gmake justinstall}. This will: 


@itemize @bullet{} 


@item Install the executables of the Ciao 
@glindex program development tools
program development tools (i.e., the general driver/top-level 
@glindex ciao
@code{ciao}, the standalone compiler 
@glindex ciaoc
@code{ciaoc}, the script interpreter 
@glindex ciao-shell
@code{ciao-shell}, miscellaneous utilities, etc.) in @code{BINROOT} (see below). In order to use these tools, the @code{PATH} 
@coindex PATH
@glindex PATH 
@glindex environment variable
environment variable of users needs to contain the path @code{BINROOT}. 


@item Install the Ciao libraries under @code{LIBROOT/ciao} (these will be automatically found). 


@item Install under @code{DOCROOT} the Ciao manuals in several formats (such as GNU @code{info}, @code{html}, @code{postscript}, etc.), depending on the distribution. In order for these manuals to be found when typing @code{M-x info} within 
@glindex emacs
@code{emacs}, or by the standalone 
@glindex info
@code{info} and 
@glindex man
@code{man} commands, the @code{MANPATH} 
@coindex MANPATH
@glindex MANPATH 
and @code{INFOPATH} 
@coindex INFOPATH
@glindex INFOPATH 
@glindex environment variables
environment variables of users both need to contain the path @code{DOCROOT}. 


@item Install under @code{LIBROOT/ciao} the Ciao GNU 
@glindex emacs
@code{emacs} interface (
@glindex ciao.el
@code{ciao.el}, which provides an interactive interface to the Ciao program development tools, as well as some other auxiliary files) and a file 
@glindex DOTemacs
@code{DOTemacs} containing the 
@glindex emacs
@code{emacs} initialization commands which are needed in order to use the Ciao 
@glindex emacs
@code{emacs} interface. 


@end itemize  


@item @strong{Set up user environments:} In order to automate the process of setting the variables above, the installation process leaves the files @code{LIBROOT/ciao/DOTcshrc} (for 
@glindex csh
@code{csh}-like shells), @code{LIBROOT/ciao/DOTprofile} (for 
@glindex sh
@code{sh}-like shells), and @code{LIBROOT/ciao/DOTemacs} (for emacs) with appropriate definitions which will take care of all needed 
@glindex environment variable definitions
environment variable definitions and 
@glindex emacs mode setup
emacs mode setup. Thus, if you are installing in a multi-user machine, make sure that you instruct all users to make the following modifications in their startup scripts or that you follow these instructions yourself if you are installing Ciao only for your personal use (<LIBROOT> must be replaced by the appropriate value): 

 
@itemize @bullet{} 


@item For users a 
@coindex csh-compatible shell
@glindex csh-compatible shell
@emph{csh-compatible shell} (
@glindex csh
@code{csh}, 
@glindex tcsh
@code{tcsh}, ...), add to 
@glindex ~/.cshrc
@code{~/.cshrc}: 


@smallexample 
        if ( -e <LIBROOT>/ciao/DOTcshrc ) then
           source <LIBROOT>/ciao/DOTcshrc
        endif
@end smallexample  


@item For users of an 
@coindex sh-compatible shell
@glindex sh-compatible shell
@emph{sh-compatible shell} (
@glindex sh
@code{sh}, 
@glindex bash
@code{bash}, ...), add to 
@glindex ~/.profile
@code{~/.profile}: 


@smallexample 
        if [ -f <LIBROOT>/ciao/DOTprofile ]; then
           . <LIBROOT>/ciao/DOTprofile
        fi
@end smallexample  

This will set up things so that the Ciao executables are found and you can access the Ciao system manuals using the 
@glindex info
@code{info} command. 


@item Also, if you use 
@glindex emacs
@code{emacs} (highly recommended) add this line to your 
@glindex ~/.emacs
@code{~/.emacs} file: 


@smallexample 
        (load-file "<LIBROOT>/ciao/DOTemacs")
@end smallexample  


@end itemize  

If you are the system administrator, the previous steps can be done once and for all, and globally for all users by including the lines above in the central startup scripts (e.g., in Linux 
@glindex /etc/cshrc
@code{/etc/cshrc}/
@glindex /etc/csh.cshrc
@code{/etc/csh.cshrc}, 
@glindex /etc/bashrc
@code{/etc/bashrc}, 
@glindex /usr/share/emacs/.../lisp/site-init.pl
@code{/usr/share/emacs/.../lisp/site-init.pl}, etc.). 




@item @strong{Download and install Emacs (optional):} If the 
@glindex emacs
@code{emacs} editor is not available in your system, its installation is highly recommended (if you are installing in a multi-user machine, you may want to do it in a general area so that it is available for other users, even if you do not use it yourself). 

 
@coindex emacs, download
@glindex emacs, download 
@coindex downloading emacs
@glindex downloading emacs 

The emacs editor (in all its versions: Un*x, Windows, etc.) can be donloaded from, for example, @uref{http://www.emacs.org/}, and also from the many GNU mirror sites worldwide (See @uref{http://www.gnu.org/} for a list), in the @code{gnu/emacs} and @code{gnu/windows/emacs} directories. For example, at UPM it can be found at @uref{ftp://ftp.fi.upm.es/pub/mirrors/gnu/emacs} and @uref{ftp://ftp.fi.upm.es/pub/mirrors/gnu/windows/emacs}. You can find answers to frequently asked question about 
@glindex emacs
@code{emacs} in general at @uref{http://www.gnu.org/software/emacs/emacs-faq.text} and about the Windows version at @uref{http://www.gnu.org/software/emacs/windows/ntemacs.html}. 


@item @strong{Check installation:} You may want to read now @ref{Checking for correct installation} and the documentation, which is stored in @code{DOCROOT} (copied from @code{SRC/doc/reference}) and can be easily accessed as explained that same section. 


@end enumerate  

Other useful @code{make} targets are listed at the beginning of @code{$(SRC)/Makefile}. 

If you have any problems you may want to check @ref{Troubleshooting (nasty messages and nifty workarounds)}. 

The system can be @strong{uninstalled} by typing @code{gmake uninstall} in the top directory (the variables in 
@glindex SETTINGS
@code{SETTINGS} should have the same value as when the install was performed, so that the same directories are cleaned). 
@coindex uninstalling
@glindex uninstalling 
 

@node Installation and compilation under Windows, Windows installation from the precompiled distribution, Un*x full installation instructions, Installing Ciao
@comment node-name, next,  previous,  up
@section Installation and compilation under Windows 

There are two possibilities in order to install Ciao Prolog on Windows NT/95/98 machines: 


@itemize @bullet{} 


@item Installing from the Windows @emph{precompiled} distribution. This is the easiest since it requires no compilation and is highly recommended. 


@item Installing the standard Ciao Prolog (Un*x) system source distribution and compiling it under Windows. This is somewhat more complex and currently requires the (freely available) Cygnus Win32 development libraries. 


@end itemize  

The two procedures are described in the following sections. 


@coindex installation, Windows, from binaries
@glindex installation, Windows, from binaries 

 

@node Windows installation from the precompiled distribution, Windows installation from the standard source distribution, Installation and compilation under Windows, Installing Ciao
@comment node-name, next,  previous,  up
@section Windows installation from the precompiled distribution 

This describes the installation of Ciao after downloading the Windows @emph{precompiled} distribution. This is the simplest Windows installation, since it requires no compilation and is highly recommended. 



@menu
* Installation of the precompiled distribution::  
* Getting started after Windows installation::	
* Starting executables from the Windows command line::	
* Using the emacs environment under Windows::  
* Compiling the miscellaneous utilities under Windows::	 
* Server installation under Windows::  
* Uninstallation under Windows::  
@end menu

@node Installation of the precompiled distribution, Getting started after Windows installation, Windows installation from the precompiled distribution, Windows installation from the precompiled distribution
@comment node-name, next,  previous,  up
@subsection Installation of the precompiled distribution 

Please follow these steps (below we use the terms @emph{folder} and @emph{directory} interchangeably): 


@enumerate  


@item Download the precompiled distribution and unpack it into any suitable folder, such as, e.g., @code{C:\Program Files} (this will create there a folder whose name reflects the Ciao version). Due to limitations of Windows related to file associations, do not put Ciao too deep in the folder hierarchy. For unpacking you will need a recent version of a zip archive manager -- there are many freely available such as 
@glindex WinZip
@code{WinZip}, 
@glindex unzip
@code{unzip}, 
@glindex pkunzip
@code{pkunzip}, etc.). If you have a previous version of Ciao installed, make sure you do not have any Ciao applications (including, e.g., a toplevel shell) running, or the extraction process may not be able to complete. You may want to delete the entire folder of the previous installation to save space. 


@item Run (e.g. by double-clicking on it) the @code{install}(@code{.bat}) script. This will update the windows registry (the file @code{ciao.reg} lists the additions) and also create some @code{.bat} files for running Ciao executables from the command line. It also creates initialization scripts for the 
@glindex emacs
@code{emacs} editor. After that, you may need to reboot for the changes in the registry to take effect. 


@item You may want to add a 
@coindex windows shortcut
@glindex windows shortcut
@emph{windows shortcut} 
@coindex shortcut, windows
@glindex shortcut, windows 
in a convenient place, such as the desktop, to 
@glindex ciaosh.cpx
@code{ciaosh.cpx}, the standard interactive toplevel shell. It is located inside the @code{shell} folder (e.g., click on the file 
@glindex ciaosh.cpx
@code{ciaosh.cpx} with the right mouse button and select the appropriate option, @code{Send to->Desktop as shortcut}). 


@item You may also want to add another shortcut to the file 
@glindex ciao.html
@code{ciao.html} located inside @code{doc\reference\ciao_html} so that you can open the Ciao manual by simply double-clicking on this shortcut. 


@end enumerate  



@node Getting started after Windows installation, Starting executables from the Windows command line, Installation of the precompiled distribution, Windows installation from the precompiled distribution
@comment node-name, next,  previous,  up
@subsection Getting started after Windows installation 

The actions and registry changes performed by the installation procedure, in addition to setting icons for ciao-related file types, make several other things possible: 


@itemize @bullet{} 


@item Double-clicking on the shortcut made above to @code{ciao.html} should show the Ciao manual in your default WWW browser. Make sure you configure your browser to use 
@coindex style sheets
@glindex style sheets
@emph{style sheets} for correct formatting of the manual (note, however, some older versions of 
@glindex Explorer
Explorer did not support style sheets well and will give better results turning them off). The @code{doc\reference} folder contains the manual also in the other formats present in the distribution, such as @code{info} (very convenient for users of the 
@glindex emacs
@code{emacs} editor/program development system) and @code{postscript} or @code{pdf}, which are specially useful for printing, using an application such as 
@glindex ghostview
@code{ghostview} (freely available from @uref{http://www.cs.wisc.edu/~ghost/index.html}) or 
@glindex acrobat reader
@code{acrobat reader} (@uref{http://www.adobe.com}) respectively. 
@coindex printing, manual
@glindex printing, manual 
@coindex manual, printing
@glindex manual, printing 


@item It is possible to run any Ciao executable (ending in @code{.cpx}) by double-clicking on it. For example, you can try starting this way 
@glindex ciaosh.cpx
@code{ciaosh.cpx}, from inside the shell folder or from the shortcut created above. 


@item Once the shell is started, you can load and execute Prolog modules inside the interactive toplevel shell in the standard way (e.g., type @code{use_module(@emph{file}).}, @code{use_module(library(@emph{file})).} for library modules, @code{ensure_loaded(@emph{file}).} for files which are not modules, and @code{use_package(@emph{file}).} for library packages). 

For example, you may want to type @code{use_package(iso)} to ensure Ciao has loaded all the iso builtins (whether this is done by default or not depends on your 
@glindex .ciaorc
@code{.ciaorc} file). Do not worry about any 'module already in executable' messages --these are normal and simply mean that a certain module is already pre-loaded in the toplevel shell. At this point, typing @code{write(hello).} should work. 


@item To change the working directory to, say, the @code{tests} directory, first do: 


@smallexample 
    ?- use_module(library(system)).
@end smallexample  


@noindent
(loading the 
@glindex system
@code{system} library makes a number of system-related predicates such as 
@glindex cd/1
@code{cd/1} accessible) and then: 


@smallexample 
    ?- cd('$/tests').  
@end smallexample  


@noindent
(in Ciao the sequence @code{$/} @emph{at the beginning of a path name} is replaced by the path of the Ciao root directory). 


@item 
@glindex Executables
Executables can be generated from the toplevel shell (using 
@glindex make_exec/2
@code{make_exec/2}) or using the standalone compiler (
@glindex ciaoc.cpx
@code{ciaoc.cpx}, located in the @code{ciaoc} folder). To be able to make an executable, the file should define the predicate 
@glindex main/1
@code{main/1} (or 
@glindex main/0
@code{main/0}), which will be called upon startup (see the corresponding manual section for details). 


@noindent
For example, within the 
@glindex tests
@code{tests} directory, you can type: 


@smallexample 
    ?- make_exec(hw,_).
@end smallexample  


@noindent
which should produce an executable. Double-clicking on this executable should execute it. 


@item The Ciao toplevel can be made to execute upon startup a number of commands (such as, e.g., loading certain files or setting certain Prolog flags) contained in an initialization file. This file should be called 
@glindex .ciaorc
@code{.ciaorc} and placed in your @emph{home} folder (e.g., the same in which you put your 
@glindex .emacs
@code{.emacs} file). You need to set the environment variable @code{HOME} to the path of this folder for the Ciao toplevel shell to be able to locate this file on startup. 


@item To exit the top level shell, type @code{halt.} as usual, or @key{^Z}. 


@item Another way of creating Ciao executables from source files is by right-clicking on @code{.pl} files and choosing "make executable". This also uses the standalone compiler. 


@item Double-clicking on files ending in @code{.pls}, "ciao prolog scripts", will also execute them. These are files containing Prolog source but which get executed without having to explicitly compile them (in the same way as, e.g., @code{.bat} files). As an example, you can double click on the file 
@glindex hw.pls
@code{hw.pls} in the 
@glindex tests
@code{tests} folder and look at the source with an editor. You can try changing the @code{Hello world} message and double-clicking again. 

As you can see, the file should define the predicate 
@glindex main/1
@code{main/1}, which will be called upon startup. The two header lines are only necessary in Un*x. You can leave them in in Windows (so that the script will work also in Un*x without any change) or you can take them out. These two lines can be added automatically in 
@glindex emacs
@code{emacs} from the Ciao/Prolog menu or by typing @key{^C} @key{I} @key{S}. 


@end itemize  



@node Starting executables from the Windows command line, Using the emacs environment under Windows, Getting started after Windows installation, Windows installation from the precompiled distribution
@comment node-name, next,  previous,  up
@subsection Starting executables from the Windows command line 

The installation script also creates a @code{.bat} skeleton file (@code{bat_skel} in folder Win32) which allows running Ciao executables from the command line. If you want to run a Ciao executable @code{file.cpx} from the command line, you normally copy the skeleton file to the folder were the executable is and rename it to file.bat, then change its contents as explained in a comment inside. Note that this @code{.bat} file is usually not necessary in NT, as its command shell understands file extension associations, i.e., in windows NT it is possible to run the @code{file.cpx} executable directly. Due to limitations of @code{.bat} files in Windows 95/98, in those OSs no more than 9 command line arguments can be passed to the executable (in NT there is no such restriction). 

The installation script creates also @code{ciaosh.bat} and @code{ciaoc.bat} files (in the 
@glindex shell
@code{shell} and 
@glindex ciaoc
@code{ciaoc} folders respectively). These allow calling the interactive top-level and the standalone compiler from the command line in Windows95/98. 



@node Using the emacs environment under Windows, Compiling the miscellaneous utilities under Windows, Starting executables from the Windows command line, Windows installation from the precompiled distribution
@comment node-name, next,  previous,  up
@subsection Using the emacs environment under Windows 


@coindex emacs, under Win32
@glindex emacs, under Win32 
While it is easy to use Ciao with any editor of your choice, using it within the 
@glindex emacs
@code{emacs} editor/program development system is highly recommended: Ciao includes an 
@glindex emacs
@code{emacs} @emph{mode} which greatly simplifies many program development tasks (see @ref{Using Ciao inside GNU emacs} for details on the capabilities of 
@glindex ciao
@code{ciao}/
@glindex emacs
@code{emacs} combination. 

 
@coindex emacs, download
@glindex emacs, download 
@coindex downloading emacs
@glindex downloading emacs 

The emacs editor (in all its versions: Un*x, Windows, etc.) can be donloaded from, for example, @uref{http://www.emacs.org/}, and also from the many GNU mirror sites worldwide (See @uref{http://www.gnu.org/} for a list), in the @code{gnu/emacs} and @code{gnu/windows/emacs} directories. For example, at UPM it can be found at @uref{ftp://ftp.fi.upm.es/pub/mirrors/gnu/emacs} and @uref{ftp://ftp.fi.upm.es/pub/mirrors/gnu/windows/emacs}. You can find answers to frequently asked question about 
@glindex emacs
@code{emacs} in general at @uref{http://www.gnu.org/software/emacs/emacs-faq.text} and about the Windows version at @uref{http://www.gnu.org/software/emacs/windows/ntemacs.html}. 

In order to allow 
@glindex emacs
@code{emacs} to load the Ciao mode automatically when editing and to access the documentation, open using 
@glindex emacs
@code{emacs} (@key{^X}@key{^F})) the file 
@glindex ~/.emacs
@code{~/.emacs} (or, perhaps, 
@glindex c:/.emacs
@code{c:/.emacs}) and add the following line to it: 


@smallexample 
        (load-file "<CIAODIR>/DOTemacs.el")
@end smallexample  


@noindent
where you should put in place of @code{<CIAODIR>} the directory where you installed the Ciao distribution. After doing this (and exiting and restarting 
@glindex emacs
@code{emacs}) the following things should work: 


@itemize @bullet{} 


@item When opening a Prolog file (with @code{.pl} or @code{.pls} ending) the code should appear highlighted according to syntax (e.g., comments in red), and a @code{Ciao/Prolog} menu should appear in the menu bar on top of the 
@glindex emacs
@code{emacs} window. 


@item Accessing the Ciao manuals from the @code{Ciao/Prolog} menu (or typing @key{^H} @key{i}) should open a list of manuals in info format in which the Ciao manual(s) should appear. 


@item Loading the file using the @code{Ciao/Prolog} menu (or typing @key{^C} @key{l}) should start in another emacs buffer the Ciao toplevel shell and load the file. You should now be able to switch the the toplevel shell and make queries from within 
@glindex emacs
@code{emacs}. 


@item You can also, e.g., create executables from the @code{Ciao/Prolog} menu. See @ref{Using Ciao inside GNU emacs} for the many other functionalities of this environment. 


@end itemize  



@node Compiling the miscellaneous utilities under Windows, Server installation under Windows, Using the emacs environment under Windows, Windows installation from the precompiled distribution
@comment node-name, next,  previous,  up
@subsection Compiling the miscellaneous utilities under Windows 

The 
@glindex etc
@code{etc} folder contains a number of utilities, documented in the manual in @emph{PART V - Miscellaneous Standalone Utilities}. In the Win32 distribution these utilities are not compiled by the installation process. You can create the executable for each of them when needed by compiling the corresponding @code{.pl} file. 



@node Server installation under Windows, Uninstallation under Windows, Compiling the miscellaneous utilities under Windows, Windows installation from the precompiled distribution
@comment node-name, next,  previous,  up
@subsection Server installation under Windows 


@coindex installation, Windows clients
@glindex installation, Windows clients 
@coindex installation, Windows server
@glindex installation, Windows server 

If you would like to install Ciao on a server machine, used by several clients, the following steps are recommended: 


@itemize @bullet{} 


@item Follow the standard installation procedure on the server. All the functionality specified in the previous sections should then be available on the server. 


@item Perform a 
@coindex client installation
@glindex client installation
@emph{client installation} on each client, by running (e.g., double-click on it) the 
@glindex client.bat
@code{client.bat} script. This should update the registry of each client. 


@end itemize  



@node Uninstallation under Windows,  , Server installation under Windows, Windows installation from the precompiled distribution
@comment node-name, next,  previous,  up
@subsection Uninstallation under Windows 



To uninstall Ciao under Windows, simply delete the directory in which you put the Ciao distribution. If you also want to delete the registry entries created by the Ciao installation (not strictly needed) this must currently be done by hand. The installation leaves a list of these entries in the file 
@glindex ciao.reg
@code{ciao.reg} to aid in this task. Also, all the register entries contain the word @emph{ciao}. Thus, to delete all Ciao entries, run the application 
@glindex regedit
@code{regedit} (for example, by selecting @code{Run} from the Windows @code{Start} menu), search (@key{^F}) for @emph{ciao} in all registry entries (i.e., select all of @code{Keys}, @code{Values}, and @code{Data} in the @code{Edit->Find} dialog), and delete each matching key (click on the left window to find the matching key for each entry found). 





@node Windows installation from the standard source distribution, Checking for correct installation, Windows installation from the precompiled distribution, Installing Ciao
@comment node-name, next,  previous,  up
@section Windows installation from the standard source distribution 
@coindex installation, Windows, from sources
@glindex installation, Windows, from sources 


@coindex compiling, Win32
@glindex compiling, Win32 
In order to compile Ciao Prolog for Win32 environments you need to have the (public domain) 
@coindex Cygnus Win32
@glindex Cygnus Win32
@emph{Cygnus Win32} and development libraries installed in your system. Compilation should be performed preferably under Windows NT. 


@itemize @bullet{} 


@item Thus, the first step, if Cygnus Win32 is not installed in your system, is to download it (from, e.g., @uref{http://www.cygnus.com/misc/gnu-win32}) and install it. The compilation process also requires that the executables @code{rm.exe}, @code{sh.exe}, and @code{uname.exe} from the Cygnus distribution be copied under @code{/bin} prior to starting the process (if these executables are not available under @code{/bin} the compilation process will produce a number of errors and eventually stop prematurely). 


@item Assuming all of the above is installed, type @code{make allwin32}. This will compile both the engine and the Prolog libraries. In this process, system libraries that are normally linked dynamically under Un*x (i.e., those for which @code{.so} dynamically loadable files are generated) are linked statically into the engine (this is done instead of generating @code{.dll}s because of a limitation in the current version of the Cygnus Win32 environment). No actual installation is made at this point, i.e., this process leaves things in a similar state as if you had just downloaded and uncompressed the precompiled distribution. Thus, in order to complete the installation you should now: 


@item Follow the procedure outlined in the first item of @ref{Windows installation from the precompiled distribution} above. 


@end itemize  

A further note regarding the executables generated by the Ciao compiler and top-level: the same considerations given in @ref{Windows installation from the precompiled distribution} apply regarding @code{.bat} files, etc. However, in a system in which Cygnus Win32 is installed these executables can also be used in a very simple way. In fact, the executables can be run as in Un*x by simply typing their name at the 
@glindex bash
@code{bash} shell command line without any associated @code{.bat} files. This only requires that the 
@glindex bash
@code{bash} shell which comes with Cygnus Win32 be installed and accessible: simply, make sure that 
@glindex /bin/sh.exe
@code{/bin/sh.exe} exists. 



@node Checking for correct installation, Cleaning up the source directory, Windows installation from the standard source distribution, Installing Ciao
@comment node-name, next,  previous,  up
@section Checking for correct installation 
@coindex installation, checking the
@glindex installation, checking the 

If everything has gone well, several applications and tools should be available to a normal user. The most important ones are the following: 


@itemize @bullet{} 


@item Typing 
@glindex ciao
@code{ciao} (or 
@glindex ciaosh
@code{ciaosh}) in Un*x or double-clicking on the @code{ciaosh.cpx} icon or its direct access in Windows) should start the typical Prolog top level (the sources are located in @code{$(SRC)/shell}). Typing, e.g., @code{use_module(library(dec10_io)).} at the top level prompt should show a message correctly loading this library from the library directories. Note that some predicates that are built-ins in other Prolog are available through libraries in Ciao. This facilitates making small executables. 




@item Typing 
@glindex ciaoc
@code{ciaoc} in Un*x (or double-clicking on the 
@glindex ciaoc.cpx
@code{ciaoc.cpx} icon in Windows) should produce the help message from the Ciao 
@glindex standalone compiler
standalone compiler (note that programs can also be compiled from the shell). In its simplest use, given a top-level @emph{foo}@code{.pl} file for an application (the file must define the a predicate 
@glindex main/0
@code{main/0} or 
@glindex main/1
@code{main/1}) it compiles an executable @code{foo}, automatically detecting which other files need recompilation. 


@item Typing 
@glindex ciao-shell
@code{ciao-shell} should produce a message saying that no code was found. This is a Ciao application which can be used to write 
@glindex scripts
scripts written in Prolog, i.e., files which do not need any explicit compilation to be run. In Windows these scripts execute by simply double-clicking on them. 


@end itemize  

Also, the following documentation-related actions should work: 


@itemize @bullet{} 


@item If the 
@glindex info
@code{info} program is installed, starting @code{info} should produce a list of manuals which should include Ciao manual(s) in a separate section (you may need to log out and back in so that your shell variables are reinitialized). 


@item If 
@glindex emacs
@code{emacs} is installed, typing @code{M-x info} should have the same result as above (you may also need to log out and back in for this). 


@item Opening with a 
@glindex WWW browser
WWW browser (e.g., 
@glindex netscape
@code{netscape}) the directory name or @code{URL} corresponding to @code{DOCROOT} should show a series of Ciao-related manuals. 


@item In Un*x, typing @code{man ciao} should produce a man page with general information on Ciao. 


@end itemize  



@node Cleaning up the source directory, Environment variables used by Ciao executables, Checking for correct installation, Installing Ciao
@comment node-name, next,  previous,  up
@section Cleaning up the source directory 

After installation, the source directory can be cleaned up in several ways: 


@itemize @bullet{} 


@item @code{gmake uninstall} removes the installation but does not touch the source directories. 


@item @code{gmake totalclean} leaves the distribution is its original form, throwing away any intermediate files (as well as any unneeded files left behind by the Ciao developers), while still allowing recompilation. 


@end itemize  

Other useful @code{make} targets are listed at the beginning of @code{$(SRC)/Makefile}. 



@node Environment variables used by Ciao executables, Multiarchitecture support, Cleaning up the source directory, Installing Ciao
@comment node-name, next,  previous,  up
@section Environment variables used by Ciao executables 

The executables generated by the Ciao compiler (including the ciao development tools themselves) locate automatically where the Ciao engine and libraries have been installed, since those paths are stored as defaults in the engine and compiler at installation time. Thus, there is no need for setting any environment variables in order to @emph{run} Ciao executables (on a single architecture -- see @ref{Multiarchitecture support} for running on multiple architectures). 

However, the default paths can be overridden by using the environment variables @code{CIAOENGINE} and @code{CIAOLIB}. The first one will tell the Ciao executables where to look for an engine, and the second will tell them where to look for the libraries. Thus, it is possible to actually use the Ciao system without installing it by setting these variables to the following values: 
@itemize @bullet{} 


@item @code{CIAOENGINE}: @code{$(SRC)/bin/$(CIAOARCH)/ciaoengine} 


@item @code{CIAOLIB}: @code{$(SRC)} 


@end itemize  
where @code{$(CIAOARCH)} is the string echoed by the command @code{SRC/etc/ciao_get_arch} (or @code{BINROOT/ciao_get_arch}, after installation). 

This allows 
@glindex using alternate engines or libraries
using alternate engines or libraries, which can be very useful for system development and experimentation. 



@node Multiarchitecture support, Architecture specific notes and limitations, Environment variables used by Ciao executables, Installing Ciao
@comment node-name, next,  previous,  up
@section Multiarchitecture support 


@coindex multiarchitecture support
@glindex multiarchitecture support 

As mentioned before, Ciao applications (including the compiler and the top level) can run on several machines with different architectures without any need for recompiling, provided there is one Ciao engine (compiled for the corresponding architecture) accessible in each machine. Also, the Ciao libraries (installed in @code{LIBROOT}, which contain also the engines) and the actual binaries (installed in @code{BINROOT}) can themselves be shared on several machines with different architectures, saving disk space. 

For example, assume that the compiler is installed as: 

@code{/usr/local/share/bin/ciaoc} 

and the libraries are installed under 

@code{/usr/local/share/lib} 

Assume also that the @code{/usr/local/share} directory is mounted on, say, a number of 
@glindex Linux
Linux and a number of 
@glindex Solaris
Solaris boxes. In order for @code{ciaoc} to run correctly on both machines, the following is needed: 


@enumerate  


@item Make sure you that have done @code{gmake install} on one machine of each architecture (once for Linux and once for Solaris in our example). This recompiles and installs a new engine and any architecture-dependent parts of the libraries for each architecture. The engines will have names such as @code{ciaoengine.LINUXi86}, @code{ciaoengine.SolarisSparc}, and so on. 


@item In multi-architecture environments it is even more important to make sure that users make the modifications to their startup scripts using 
@glindex <LIBROOT>/ciao/DOTcshrc
@code{<LIBROOT>/ciao/DOTcshrc} etc. The selection of the engine (and architecture-dependent parts of libraries) is done in these scripts by setting the environment variable @code{CIAOARCH}, using the @code{ciao_get_arch} command, which is installed automatically when installing Ciao. This will set @code{CIAOARCH} to, say, @code{LINUXi86}, @code{SolarisSparc}, respectively, and @code{CIAOENGINE} will be set to @code{ciaoengine.}@emph{CIAOARCH}. 

However, note that this is not strictly necessary if running on only one architecture: if @code{CIAOARCH} is not set (i.e., undefined), the Ciao executables will look simply for @code{ciaoengine}, which is always a link to the latest engine installed in the libraries. But including the initialization files provided has the advantage of setting also paths for the manuals, etc. 


@end enumerate  



@node Architecture specific notes and limitations, Downloading new versions, Multiarchitecture support, Installing Ciao
@comment node-name, next,  previous,  up
@section Architecture specific notes and limitations 

Ciao makes use of advanced characteristics of modern architectures and operating systems such as multithreading, shared memory, sockets, locks, dynamic load libraries, etc., some of which which are sometimes not present in a given system and others may be implemented in very different ways across the different systems. As a result, currently not all Ciao features are available in all supported operating systems. Sometimes this is because not all the required features are present in all the OS flavors supported and sometimes because we simply have not had the time to port them yet. 

The current state of matters is as follows: 


@table @asis 
@item LINUX: 
multithreading, shared DB access, and locking working. 
@item Solaris: 
multithreading, shared DB access, and locking working. 
@item SunOS 4: 
multithreading, shared DB access, and locking NOT working. 
@item Win 95/NT: 
multithreading, shared DB access, locking, and dynamic linking of object code (C) libraries NOT working. 
@end table  

The features that do not work are disabled at compile time. If problems appear, please disable them explicitly in the 
@glindex SETTINGS
@code{SETTINGS} file. We will make this more automatic sometime in the future. 





@node Downloading new versions, Keeping up to date: the Ciao users mailing list, Architecture specific notes and limitations, Installing Ciao
@comment node-name, next,  previous,  up
@section Downloading new versions 

Ciao and its related libraries and utilities are under constant improvement, so you should make sure that you have the latest versions of the different components, which can be dowloaded from: 
@coindex downloading, latest versions
@glindex downloading, latest versions 

@uref{http://clip.dia.fi.upm.es/Software} 



@node Keeping up to date: the Ciao users mailing list, Reporting bugs, Downloading new versions, Installing Ciao
@comment node-name, next,  previous,  up
@section Keeping up to date: the Ciao users mailing list 

We recommend that you join the 
@coindex mailing list
@glindex mailing list 
@coindex ciao-users
@glindex ciao-users 
Ciao 
@coindex users mailing list
@glindex users mailing list
@emph{users mailing list} (@code{ciao-users@@clip.dia.fi.upm.es}), in order to receive information on new versions and solutions to problems. Simply send a message to @email{ciao-users-request@@clip.dia.fi.upm.es}, containing in the body only the word: 

@code{subscribe} 

alone in one line. Messages in the list are strictly limited to issues directly related to Ciao Prolog and your email address will of course be kept strictly confidential. You mail also want to subscribe to the @code{comp.lang.prolog} newsgroup. 

There is additional info available on the Ciao system, other CLIP group software, publications on the technology underlying these systems, etc. in the CLIP group's WWW site @uref{http://clip.dia.fi.upm.es}. 



@node Reporting bugs, Porting to currently unsupported operating systems, Keeping up to date: the Ciao users mailing list, Installing Ciao
@comment node-name, next,  previous,  up
@section Reporting bugs 
@coindex bugs, reporting
@glindex bugs, reporting 
@coindex reporting bugs
@glindex reporting bugs 

If you still have problems after downloading the latest version and reading the installation instructions you can send a message to @email{ciao-bug@@clip.dia.fi.upm.es}. Please be as informative as possible in your messages, so that we can reproduce the bug. 


@itemize @bullet{} 


@item For @emph{installation problems} we typically need to have the version and patch number of the Ciao package (e.g., the name of the file downloaded), the output produced by the installation process (you can capture it by redirecting the output into a file or cutting and pasting with the mouse), and the exact version of the Operating System you are using (as well as the C compiler, if you took a source distribution). 


@item For @emph{problems during use} we also need the Ciao and OS versions and a small example of code which we can run to reproduce the bug. 


@end itemize  
 




@node Porting to currently unsupported operating systems, Troubleshooting (nasty messages and nifty workarounds), Reporting bugs, Installing Ciao
@comment node-name, next,  previous,  up
@section Porting to currently unsupported operating systems 

If you would like to port Ciao to a currently unsupported platform, there are several issues to take into account. The main one is to get the @emph{engine} to compile in that platform, i.e., the C code under the @code{engine} directory. To this end, look under the directory @code{$(SRC)/makefile-sysdep}: there is a 
@glindex mkf-CIAOARCH
@code{mkf-CIAOARCH} file for every architecture/OS under which Ciao is known to compile. You can start from the closest one and customize it for your local distribution or installed tools. But please keep the original files! Once a working engine is achieved, it should be possible to continue with the standard installation procedure, which will try to use a completely static version of the standalone compiler (@code{ciaoc.sta} in the @code{ciaoc} directory) to compile the interactive top-level (
@glindex ciaosh
@code{ciaosh}) and a new version of the standalone compiler (
@glindex ciaoc
@code{ciaoc}). These in turn should be able to compile the Prolog libraries. You may also need to look at some libraries (such as, for example, 
@glindex sockets
@code{sockets}) which contain C code. Porting to other Un*x flavours should be easy while other operating system families may require more work. If you do succeed in porting to a platform that is currently please send the 
@glindex mkf-CIAOARCH
@code{mkf-CIAOARCH} and any patches to @email{ciao@@clip.dia.fi.upm.es}, and we will include it (with due credit, of course) in the next distribution. 
 

@node Troubleshooting (nasty messages and nifty workarounds),  , Porting to currently unsupported operating systems, Installing Ciao
@comment node-name, next,  previous,  up
@section Troubleshooting (nasty messages and nifty workarounds) 
@coindex troubleshooting
@glindex troubleshooting 

The following a list of common installation problems reported by users: 


@itemize @bullet{} 


@item @strong{Problem:} 

During engine compilation, the following message appears: @code{tasks.c:102:PTHREAD_CANCEL_ASYNCHRONOUS undeclared (first use of this function)}. 

@strong{Possible reason and solution:} 

Your (Linux?) system does not have (yet) the 
@glindex Posix threads
Posix threads library installed. You can upgrade to one which does have it, or download the library from 

@uref{http://pauillac.inria.fr/~xleroy/linuxthreads/index.html} 

and install it, or disable the use of threads in Linux: for this, edit the 
@glindex SETTINGS
@code{SETTINGS} file and specify @code{USE_THREADS=no}, which will avoid linking against thread libraries (it will disable the use of thread-related primitives as well). Clean the engine with @code{make engclean} and restart compilation. 

If you have any alternative threads library available, you can tinker with @code{engine/threads.h} and the files under @code{makefile-sysdep} in order to get the task managing macros right for your system. Be sure to link the right library. If you succeed, we (@email{ciao@@clip.dia.fi.upm.es}) will be happy of knowing about what you have done. 
 
@item @strong{Problem:} 

@code{-lpthread: library not found} (or similar) 

@strong{Possible reason and solution:} 

Your (Linux?) system seems to have Posix threads installed, but there is no threads library in the system. In newer releases (e.g., 
@glindex RedHat 5.0
RedHat 5.0), the Posix threads system calls have been included in @code{glibc.so}, so specifying @code{-lpthread} in @code{makefile-sysdep/mkf-LINUX} is not needed; remove it. @code{make engclean} and restart installation. 

Alternatively, you may have made a custom installation of Posix threads in a non-standard location: be sure to include the flag @code{-L/this/is/where/the/posix/libraries/are} @strong{before} @code{-lpthread}, and to update @code{/etc/ld.so.conf} (see @code{man ldconfig}). 
 
@item @strong{Problem:} 

@code{Segmentation Violation} (when starting the first executable) 

@strong{Possible reason and solution:} 

This has been observed with certain older versions of 
@glindex gcc
@code{gcc} which generated erroneous code under full optimization. The best solution is to upgrade to a newer version of 
@glindex gcc
@code{gcc}. Alternatively, lowering the level of optimization (by editing the 
@glindex SETTINGS
@code{SETTINGS} file in the main directory of the distribution) normally solves the problem, at the cost of reduced execution speed. 
 
@item @strong{Problem:} @code{ciaoc: /home/clip/lib/ciao/ciao-X.Y/engine/ciaoengine: not found} 

@strong{Possible reason and solution:} 


@itemize @bullet{} 


@item The system was not fully installed and the variable @code{CIAOENGINE} was not set. 


@item The system was installed, the variable @code{CIAOENGINE} is set, but it is does not point to a valid ciaoengine. 


@end itemize  

See the file @code{LIBROOT/ciao/DOTcshrc} for user settings for environment variables. 


@item @strong{Problem:} 

@code{ERROR: File library(compiler) not found - aborting...} (or any other library is not found) 

@strong{Possible reason and solution:} 


@itemize @bullet{} 


@item The system was not installed and the variable @code{CIAOLIB} was not set. 


@item The system is installed and the variable @code{CIAOLIB} is wrong. 


@end itemize  

See the file @code{LIBROOT/ciao/DOTcshrc} for user settings for environment variables. 


@item @strong{Problem:} 

@code{ERROR: File <some_directory>/<some_file>.itf not found - aborting...} 

@strong{Possible reason and solution:} 

Can appear when compiling @code{.pl} files. The file to compile (<some_file>.pl) is not in the directory <some_directory>. You gave a wrong file name or you are in the wrong directory. 
 
@item @strong{Problem:} 

@code{*ERROR*: /(write_option,1) is not a regular type} (and similar ones) 

@strong{Possible reason and solution:} 

This is not a problem, but rather the type checker catching some minor inconsistencies which may appear while compiling the libraries. Bug us to remove it, but ignore it for now. 


@item @strong{Problem:} 

@code{WARNING: Predicate <some_predicate>/<N> undefined in module <some_module>} 

@strong{Possible reason and solution:} 

It can appear when the compiler is compiling Ciao library modules. If so, ignore it (we will fix it). If it appears when compiling user programs or modules, you may want to check your program for those undefined predicates. 


@item @strong{Problem:} 

@code{gmake[1]: execve: /home/clip/mcarro/ciao-0.7p2/etc/collect_modules: No such file or directory} 

@strong{Possible reason and solution:} 

Check if collect_modules is in $(SRC)/etc and is executable. If it is not here, your distribution is incorrect: please let us know. 




@item @strong{Problem:} @code{make: Fatal error in reader: COMMON, line 12: Unexpected end of line seen} 

@strong{Possible reason and solution:} 

You are using standard Un*x make, not GNU's make implementation (gmake). 
 
@end itemize  





@c (references)
@node References, Library/Module Definition Index, Installing Ciao, Top
@comment  node-name,  next,  previous,  up
@unnumbered References

@table @strong

@item [AAF91]
J. Almgren, S. Andersson, L. Flood, C. Frisk, H. Nilsson, and J. Sundberg.
@* @emph{{Sics}tus {P}rolog {L}ibrary {M}anual}.
@* Po Box 1263, S-16313 Spanga, Sweden, October 1991.

@item [AKNL86]
Hassan Ait-Kaci, Roger Nasr, and Pat Lincoln.
@* {E} {A}n {O}verview.
@* Technical Report AI-420-86-P, Microelectronics and Computer Technology
  Corporation, 9430 Research Boulevard, Austin, TX 78759, December 1986.

@item [BA82]
M. Ben-Ari.
@* @emph{Principles of Concurrent Programming}.
@* Prentice Hall International, 1982.

@item [BBP81]
D.L. Bowen, L. Byrd, L.M. Pereira, F.C.N. Pereira, and D.H.D. Warren.
@* Decsystem-10 prolog user's manual.
@* Technical report, Department of Artificial Intelligence, University of
  Edinburgh, October 1981.

@item [Byr80]
L. Byrd.
@* Understanding the {C}ontrol {F}low of {P}rolog {P}rograms.
@* In S.-A. T\"{a}rnlund, editor, @emph{Workshop on Logic Programming},
  Debrecen, 1980.

@item [Car88]
M. Carlsson.
@* @emph{{Sics}tus {P}rolog {U}ser's {M}anual}.
@* Po Box 1263, S-16313 Spanga, Sweden, February 1988.

@item [CCG98]
I. Caballero, D. Cabeza, S. Genaim, J.M. Gomez, and M. Hermenegildo.
@* persdb\_sql: {SQL} {P}ersistent {D}atabase {I}nterface.
@* {T}echnical {R}eport D3.1.M2-A2 CLIP10/98.0, RADIOWEB Project, December
  1998.

@item [CH97]
D. Cabeza and M. Hermenegildo.
@* {WWW P}rogramming using {C}omputational {L}ogic {S}ystems (and the
  {PILLOW}/{CIAO} {L}ibrary).
@* In @emph{Proceedings of the Workshop on Logic Programming and the WWW at
  WWW6}, San Francisco, CA, April 1997.

@item [CH99a]
D. Cabeza and M. Hermenegildo.
@* {A} {N}ew {M}odule {S}ystem for {P}rolog.
@* In @emph{ICLP'99 WS on Parallelism and Implementation of (C)LP Systems}.
  N.M. State U., December 1999.

@item [CH99b]
D. Cabeza and M. Hermenegildo.
@* {T}he {C}iao {M}odular {C}ompiler and {I}ts {G}eneric {P}rogram {P}rocessing
  {L}ibrary.
@* In @emph{ICLP'99 WS on Parallelism and Implementation of (C)LP Systems}.
  N.M. State U., December 1999.

@item [CHGT98]
D. Cabeza, M. Hermenegildo, S. Genaim, and C. Taboch.
@* {D}esign of a {G}eneric, {H}omogeneous {I}nterface to {R}elational
  {D}atabases.
@* {T}echnical {R}eport D3.1.M1-A1, CLIP7/98.0, RADIOWEB Project, September
  1998.

@item [CHV96a]
D. Cabeza, M. Hermenegildo, and S. Varma.
@* {T}he {P}i{LL}o{W}/{CIAO} {L}ibrary for {INTERNET/WWW} {P}rogramming using
  {C}omputational {L}ogic {S}ystems.
@* In @emph{Proceedings of the 1st Workshop on Logic Programming Tools for
  INTERNET Applications}, pages 72--90, JICSLP'96, Bonn, September 1996.
@* Text and code available from \htmladdnormallink{{\tt
  http://www.clip.dia.fi.upm.es/miscdocs/pillow/pillow.html}}
  {http://www.clip.dia.fi.upm.es/miscdocs/pillow/pillow.html}.

@item [CHV96b]
D. Cabeza, M. Hermenegildo, and S. Varma.
@* {T}he {{\sf P}}{\em i}{{\sf LL}}{\em o}{{\sf W}}/{CIAO} {L}ibrary for
  {INTERNET/WWW} {P}rogramming using {C}omputational {L}ogic {S}ystems.
@* In @emph{Proceedings of the 1st Workshop on Logic Programming Tools for
  INTERNET Applications}, JICSLP'96, Bonn, September 1996.
@* Available from \htmladdnormallink{{\tt
  http://clement.info.umoncton.ca/\~{}lpnet}}
  {http://clement.info.umoncton.ca/\~{}lpnet}.

@item [Col78]
A. Colmerauer.
@* Metamorphosis grammars.
@* In @emph{Natural language communication with computers}, pages 133--189.
  Springer LNCS 63, 1978.

@item [DEDC96]
P. Deransart, A. Ed-Dbali, and L. Cervoni.
@* @emph{Prolog: The Standard}.
@* Springer-Verlag, 1996.

@item [Dij65]
E.W. Dijkstra.
@* Co-operating sequential processes.
@* In F. Genuys, editor, @emph{Programming Languages}. Academic Press, London,
  1965.

@item [DL93]
S.K. Debray and N.W. Lin.
@* Cost analysis of logic programs.
@* @emph{{ACM} Transactions on Programming Languages and Systems},
  15(5):826--875, November 1993.

@item [DLH97]
S.~K. Debray, P. {L\'{o}pez Garc\'{\i}a}, and M. Hermenegildo.
@* {N}on-{F}ailure {A}nalysis for {L}ogic {P}rograms.
@* In @emph{1997 International Conference on Logic Programming}, pages 48--62,
  Cambridge, MA, June 1997. MIT Press, Cambridge, MA.

@item [DLHL97]
S.~K. Debray, P. {L\'{o}pez-Garc\'{\i}a}, M. Hermenegildo, and N.-W. Lin.
@* {L}ower {B}ound {C}ost {E}stimation for {L}ogic {P}rograms.
@* In @emph{1997 International Logic Programming Symposium}, pages 291--305.
  MIT Press, Cambridge, MA, October 1997.

@item [GCH98]
J.M. Gomez, D. Cabeza, and M. Hermenegildo.
@* {WebDB}: {A} {D}atabase {WWW} {I}nterface.
@* {T}echnical {R}eport D3.1.M2-A3 CLIP11/98.0, RADIOWEB Project, December
  1998.

@item [GdW94]
J.P. Gallagher and D.A. de Waal.
@* Fast and precise regular approximations of logic programs.
@* In Pascal {Van~Hentenryck}, editor, @emph{Proc.~of the 11th International
  Conference on Logic Programming}, pages 599--613. MIT Press, 1994.

@item [GHD96]
P.~L\'{o}pez Garc\'{\i}a, M. Hermenegildo, and S.~K. Debray.
@* {A} {M}ethodology for {G}ranularity {B}ased {C}ontrol of {P}arallelism in
  {L}ogic {P}rograms.
@* @emph{Journal of Symbolic Computation, Special Issue on Parallel Symbolic
  Computation}, 22:715--734, 1996.

@item [Her96]
M. Hermenegildo.
@* {W}riting ``{S}hell {S}cripts'' in {SICS}tus {P}rolog, April 1996.
@* Posting in {\tt comp.lang.prolog}. Available from \htmladdnormallink{{\tt
  http://www.clip.dia.fi.upm.es/}} {http://www.clip.dia.fi.upm.es/}.

@item [Her99a]
M. Hermenegildo.
@* {A} {D}ocumentation {G}enerator for {L}ogic {P}rogramming {S}ystems.
@* {T}echnical {R}eport {CLIP}10/99.0, Facultad de Inform\'atica, UPM,
  September 1999.

@item [Her99b]
M. Hermenegildo.
@* {A} {D}ocumentation {G}enerator for {L}ogic {P}rogramming {S}ystems.
@* In @emph{ICLP'99 Workshop on Logic Programming Environments}. N.M. State
  University, December 1999.

@item [HG90]
M. Hermenegildo and K. Greene.
@* {\&-P}rolog and its {P}erformance: {E}xploiting {I}ndependent
  {A}nd-{P}arallelism.
@* In @emph{1990 International Conference on Logic Programming}, pages
  253--268. {MIT} Press, June 1990.

@item [Hol90]
C. Holzbaur.
@* @emph{{S}pecification of {C}onstraint {B}ased {I}nference {M}echanisms
  through {E}xtended {U}nification}.
@* PhD thesis, {U}niversity of {V}ienna, 1990.

@item [Hol92]
C. Holzbaur.
@* {M}etastructures vs. {A}ttributed {V}ariables in the {C}ontext of
  {E}xtensible {U}nification.
@* In @emph{1992 International Symposium on Programming Language Implementation
  and Logic Programming}, pages 260--268. LNCS631, Springer Verlag, August
  1992.

@item [Hol94]
C. Holzbaur.
@* @emph{{SICStus 2.1/DMCAI Clp 2.1.1} {U}ser's {M}anual}.
@* University of Vienna, 1994.

@item [JL88]
D. Jacobs and A. Langen.
@* {C}ompilation of {L}ogic {P}rograms for {R}estricted {A}nd-{P}arallelism.
@* In @emph{European Symposium on Programming}, pages 284--297, 1988.

@item [Knu84]
D. Knuth.
@* Literate programming.
@* @emph{Computer Journal}, 27:97--111, 1984.

@item [MH89]
K. Muthukumar and M. Hermenegildo.
@* {D}etermination of {V}ariable {D}ependence {I}nformation at {C}ompile-{T}ime
  {T}hrough {A}bstract {I}nterpretation.
@* In @emph{1989 North American Conference on Logic Programming}, pages
  166--189. {MIT} Press, October 1989.

@item [Par97]
The RADIOWEB~Project Partners.
@* {RADIOWEB} {EP}25562: {A}utomatic {G}eneration of {W}eb {S}ites for the
  {R}adio {B}rodcasting {I}ndustry -- {P}roject {D}escription / {T}echnical
  {A}nnex.
@* {T}echnical {R}eport, RADIOWEB Project, July 1997.

@item [PH99]
G. Puebla and M. Hermenegildo.
@* {S}ome {I}ssues in {A}nalysis and {S}pecialization of {M}odular
  {C}iao-{P}rolog {P}rograms.
@* In @emph{ICLP'99 Workshop on Optimization and Implementation of Declarative
  Languages}. N.M. State U., Las Cruces, NM, November 1999.

@item [PW80]
F.C.N. Pereira and D.H.D. Warren.
@* Definite clause grammars for language analysis - a survey of the formalism
  and a comparison with augmented transition networks.
@* @emph{Artificial Intelligence}, 13:231--278, 1980.

@item [Swe95]
Swedish Institute of Computer Science, P.O. Box 1263, S-16313 Spanga, Sweden.
@* @emph{{Sics}tus {P}rolog {V3.0} {U}ser's {M}anual}, 1995.

@end table

@c (index)
@node Library/Module Definition Index, Predicate/Method Definition Index, References, Top
@comment  node-name,  next,  previous,  up
@unnumbered Library/Module Definition Index



@printindex li


@c (index)
@node Predicate/Method Definition Index, Property Definition Index, Library/Module Definition Index, Top
@comment  node-name,  next,  previous,  up
@unnumbered Predicate/Method Definition Index



@printindex pd


@c (index)
@node Property Definition Index, Regular Type Definition Index, Predicate/Method Definition Index, Top
@comment  node-name,  next,  previous,  up
@unnumbered Property Definition Index



@printindex pr


@c (index)
@node Regular Type Definition Index, Declaration Definition Index, Property Definition Index, Top
@comment  node-name,  next,  previous,  up
@unnumbered Regular Type Definition Index



@printindex te


@c (index)
@node Declaration Definition Index, Concept Definition Index, Regular Type Definition Index, Top
@comment  node-name,  next,  previous,  up
@unnumbered Declaration Definition Index



@printindex de


@c (index)
@node Concept Definition Index, Global Index, Declaration Definition Index, Top
@comment  node-name,  next,  previous,  up
@unnumbered Concept Definition Index



@printindex co


@c (index)
@node Global Index,  , Concept Definition Index, Top
@comment  node-name,  next,  previous,  up
@unnumbered Global Index

This is a global index containing pointers to places where concepts, 
 predicates, modes, properties, types, applications, etc., are referred to
 in the text of the document. Note that due to limitations of the
 @code{info} format unfortunately only the first reference will appear in
 online versions of the document.

@printindex gl


@bye

