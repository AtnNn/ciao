# -*- mode: Makefile; -*-
# ----------------------------------------------------------------------------
include ../../SETTINGS
include ../../COMMON
include ../SETTINGS.COMMON
# ----------------------------------------------------------------------------
# Uncomment for using the development version of lpdoc when testing...
# LIBDIR     = /home/clip/Systems/lpdoc/lib
# LPDOC      = /home/clip/Systems/lpdoc/src/lpdoc
# ----------------------------------------------------------------------------

FILEPATHS := $(SRC)/doc/reference $(SRC)/shell $(SRC)/ciaoc $(SRC)/engine \
             $(SRC)/emacs $(SRC)/etc \
	     $(FILEPATHS)
# Useful for debugging...
#MAINOPTS  := -v $(MAINOPTS)
#COMPOPTS  := -v $(COMPOPTS)
MAIN       = ciao.pl
# Mini manual for testing. The order is very important!
#COMPONENTS = $(INSTALLATION) 
# The order is very important!
COMPONENTS = $(INSTALLATION) $(DEVENV) $(REFCOMPONENTS) $(LIBCOMPONENTS) \
             $(LIBRARYCOMPONENTS) $(UTILCOMPONENTS)

INSTALLATION = \
    Install.pl

DEVENV = \
    DevEnv.pl \
	ciaoc.pl \
        ciaosh_doc.pl \
        debugger_doc.pl \
	    debugger.pl \
	ciao-shell.pl \
	libpaths.pl \
	CiaoMode.pl
REFCOMPONENTS = \
    Builtins.pl \
	modules.pl \
	loading_code.pl \
	basiccontrol.pl \
	builtin_directives.pl \
	basic_props.pl \
	term_typing.pl \
	term_basic.pl \
	term_compare.pl \
	atomic_basic.pl \
	arithmetic.pl \
	io_basic.pl \
	streams_basic.pl \
	io_aux.pl \
	exceptions.pl \
	data_facts.pl \
	concurrency.pl \
	syntax_extensions.pl \
	attributes.pl \
	prolog_flags.pl \
	system_info.pl \
	foreign_compilation.pl

#              prolog.src \
#              examples.src 

# Should not be used, so we do not document them
# 	internals.pl \

# Other
# 	mexpand.pl \

# Taken out
#	ciaoengine.pl

LIBCOMPONENTS = \
    Lib.pl \
	$(ISOPROLOG) \
	$(CLASSICPROLOG) \
	$(PUREPROLOG) \
	$(ANNOTATEDPROLOG) \
	$(MISCPROLOG)

ISOPROLOG = \
	iso_doc.pl \
	operators.pl \
	aggregates.pl \
        dynamic.pl \
	iso_byte_char.pl \
	iso_incomplete.pl \
	iso_misc.pl \
	read.pl \
	streams.pl \
	write.pl \

CLASSICPROLOG = \
	backwards_doc.pl \
	dcg_doc.pl \
	dcg_expansion.pl \
	sort.pl \
	lists.pl \
	dict.pl \
	strings.pl \
	format.pl \
	ttyout.pl

PUREPROLOG = \
	pure_doc.pl

ANNOTATEDPROLOG = \
	assertions_doc.pl \
	regtypes_doc.pl \
	isomodes_doc.pl \
	basicmodes_doc.pl

MISCPROLOG = \
	system.pl \
	prolog_sys.pl \
        odd.pl \
	ctrlcclean.pl \
	errhandle.pl \
	file_utils.pl \
	filenames.pl \
	metatypes.pl \
	terms.pl \
	tokenize.pl \
	messages.pl

LIBRARYCOMPONENTS = \
    Library.pl \
	$(ADDITIONAL) \
	$(SYNTACTIC) \
	$(SEMANTIC) \
	$(INTERFACES) \
	$(UTILITIES) \
	$(TADS)

ADDITIONAL = \
	old_database.pl \
	dec10_io.pl \
	fastrw.pl \
	runtime_ops.pl \
	dynmods.pl \
	conc_aggregates.pl

SYNTACTIC = \
	argnames.pl \
	functions.pl \
	assrt_doc.pl \
	  assrt_props.pl \
	  rtchecks.pl \
	cges.pl

SEMANTIC = \
	bf_doc.pl \
	clpq_doc.pl \
	clpr_doc.pl \
	ociao_doc.pl \
	  class_doc.pl \
	  class_error_doc.pl \
	  objects_doc.pl \
	  objects_error_doc.pl \
          objects_rt.pl \
	  dynclasses.pl \
	  interface_doc.pl

INTERFACES = \
	actmods.pl \
	linda.pl \
	sockets.pl \
	tcltk.pl \
	pillow.pl \
	  html.pl \
	  http.pl \
	persdbrt.pl \
	  Examples.pl \
	persdbrtsql.pl \
	  pl2sql.pl \
	  db_client.pl \
	javart.pl \
	  jtopl.pl \
	  javasock.pl

UTILITIES = \
	assrt_lib.pl \
	assrt_write.pl \
	atom2term.pl \
	byrd.pl \
	traces.pl \
	events.pl \
	file_locks.pl \
	fly.pl \
	librowser.pl \
	listing.pl \
	loops.pl \
	expansion_tools.pl \
	parse_spec.pl \
	pretty_print.pl \
	prompt.pl

TADS = \
	arrays.pl \
	bitcodesets.pl \
	counters.pl \
	formulae.pl \
	global.pl \
	graphs.pl \
	idlists.pl \
	keys.pl \
	llists.pl \
	lsets.pl \
	metaterms.pl \
	numlists.pl \
	patterns.pl \
	queues.pl \
	random.pl \
	sets.pl \
	ugraphs.pl \
	vndict.pl \
	wgraphs.pl

# Driven by ociao_doc
#	ociao.pl \
#	objects.pl \
#	ociao.pl \

# Loop?
# 	class.pl \

# fdtypes
# 	foreign_compilation.pl \
# foreign_interface


UTILCOMPONENTS = \
    ciao-utilities.pl \
	fileinfo.pl \
	get_deps.pl \
	pldiff.pl \
	viewpo.pl \
	collect_modules.pl \
	lpmake.pl

# ----------------------------------------------------------------------------
