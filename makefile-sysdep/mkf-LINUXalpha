# Misc. options, depending on the SETTINGS file

# LINUX linker specific options
# "-rdynamic" allows the dynamic libraries symbols to be resolved against
# those defined in ciaoengine
ifeq ($(DEBUG_LEVEL),profile)
    LD_PROFILE_FLAGS=-pg -rdynamic
else
    LD_PROFILE_FLAGS=-rdynamic
endif


# Optimizations for LINUX 386

ifeq ($(OPTIM_LEVEL),optimized)
    OPTIM_FLAGS=-O2 -fomit-frame-pointer -malign-loops=2 -malign-jumps=2 -malign-functions=2
endif


# Threads and locks in LINUX
ifeq ($(USE_THREADS),yes)
    LD_THREAD_LIB=-lpthread
    LD_LOCK_LIB=
ifeq ($(USE_POSIX_LOCKS),yes)
    THREAD_FLAG=-D_REENTRANT -DTHREADS
else
    THREAD_FLAG=-D_REENTRANT -DTHREADS
endif
else
    LD_THREAD_LIB=
    THREAD_FLAG=
endif

FOREIGN_FILES_FLAG=-DFOREIGN_FILES

# C compiler
CC=gcc

# Linker
LD=gcc

# C compiler options for generating shared libraries code
CCSHARED=-fPIC

# Linker options for shared objects
LDSHARED=-shared

# Linker options to combine objects
LDCOMBINE=-r

# Name of the standard ciao library
CIAOLIBNAME=libciao.so

LIBS=-ldl -lm $(LD_THREAD_LIB) $(LD_LOCK_LIB) $(DEBUG_LIBS)

LDFLAGS=$(LD_PROFILE_FLAGS)

STAT_LIBS=

ARCHNAME=alpha

# Operating system version
OSNAME=LINUX

# How to install an make directories
MKDIR="mkdir -p"
INSTALL=install

# Making etags
ETAGS=etags -t *.[ch]

DEFAULTYPE=dyn
